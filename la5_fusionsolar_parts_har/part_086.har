),void this.setState({disabledDelete:!1}))},this.unbindDevice=e=>{const{unbind:t,intl:s}=this.props;t([e.dnId]).then((t=>{const{code:i}=t;0===i?this.unbindSuccessTip(e,s):(0,de.lU)(s.formatMessage({id:\"neteco.pvms.systemSetting.newDeviceManage.notifiyInfo.unBindFailed\"}),null,s)}))},this.lazyLoadSubDevs=e=>{const{dn:t}=e,s=[bs.o.SMART_SWITCH,bs.o.SMART_LOAD].join(\",\");return(0,ls.U2)(\"/rest/neteco/web/config/device/v1/children-list\",{\"conditionParams.parentDn\":t,\"conditionParams.curPage\":0,\"conditionParams.recordperpage\":500,\"conditionParams.signals\":\"50009,50012\",\"conditionParams.monitoringRelation\":!1,\"conditionParams.noIncludeMocIds\":s})},this.state={newDevices:[],unValidRegisterCodes:[],esn2DeviceType:new Map,newDeviceCount:1,siteBoundList:[],esnInSearch:\"\",showStationAccess:!1,esnList:[],errorMessage:{},siteAllDevices:[],disabledDelete:!1,currentItemEsn:null}}componentDidMount(){const{selectedDevices:e=[],isModifyMode:t,loadEsnList:s,siteBoundDevices:i=[],clearDevices:a,addSelectedDevices:n,intl:o,setUnChargeDevice:l,devices:c,isPureCharge:d,setPureCharge:h}=this.props;if((0,g.lVp)(g.pg$)&&s(),this.setState({siteBoundList:ks.transformBoundDevices(i),siteAllDevices:i}),this.validateDevice=Ns.subscribe((e=>{if(e){if(this.checkDeviceListCrossRegion())return Ps(o,o.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.selectTip.new\"}));this.checkDeviceListValid()?e.switchNext&&e.switchNext():e.warn&&e.warn()}})),this.removeNewDeviceSubject=ws.subscribe((()=>{const{setUnChargeDevice:e,devices:t}=this.props,{siteBoundList:s,newDevices:i}=this.state;this.updateChargeDeviceValue(t,i,s,e),this.setState({esnInSearch:\"\"})})),this.clearNewDeviceSub=Ds.subscribe((()=>{a()})),t||0!==e.length){let t=!1;for(let s=0;s<e.length;s++){var p;if((0,ce.Zy)([...e,...null===(p=e[s])||void 0===p?void 0:p.deviceList])){t=!0;break}}if(l(t),t&&\"1\"===d)r.Z.confirm({title:o.formatMessage({id:\"neteco.pvms.info\"}),content:o.formatMessage({id:\"neteco.pvms.stationInfo.addStation.pureCharge.unSupportDevType\"}),centered:!0,maskClosable:!1,onOk:()=>{const{form:t={},isModifyMode:s}=this.props;s?this.updatePureChargeValue().then((s=>{s&&0===s.code?(h(\"0\",!0),t.setFieldsValue({pureCharge:\"0\"}),Is(o,o.formatMessage({id:\"neteco.pvms.stationInfo.addStation.pureCharge.cancelPureChargeMessage\"})),n(e.map((e=>({...e,itemType:\"NEW\"})))),setTimeout((()=>this.props.onChange&&this.props.onChange({haveNewDeviceToSave:!0})),300)):!s||-5!==s.code&&-6!==s.code?Is(o,o.formatMessage({id:\"common.message.failure\"})):Is(o,o.formatMessage({id:null==s?void 0:s.description}))})):(h(\"0\"),t.setFieldsValue({pureCharge:\"0\"}))}});else if(e.length>0){const t=e=>e.dcdcSns&&e.dcdcSns.length>0,s=e.map((e=>{let s=t(e);return{...e,itemType:s?\"MIDDLE\":\"NEW\"}}));n(s),setTimeout((()=>this.props.onChange&&this.props.onChange({haveNewDeviceToSave:!0})),300)}}else this.addNewDevice()}componentWillUnmount(){this.validateDevice&&this.validateDevice.unsubscribe(),this.removeNewDeviceSubject&&this.removeNewDeviceSubject.unsubscribe(),this.clearNewDeviceSub&&this.clearNewDeviceSub.unsubscribe(),this.props.clearDevices(),this.setState=ie.mz}componentWillUpdate(e,t,s){const{siteBoundDevices:i}=e,{siteBoundDevices:a}=this.props;ds()(a,i)||this.setState({siteBoundList:ks.transformBoundDevices(i),siteAllDevices:i})}render(){const{intl:e,devices:t,esns:s,isModifyMode:i}=this.props,{siteBoundList:a}=this.state,n=e=>({item:e,layerIndex:1,errorMessage:this.state.errorMessage,actions:{removeBoundDevice:e=>{(0,Cs.b)(),this.removeBoundDevice(e)},removeEmptyDevice:(e,t)=>{(0,Cs.b)(),this.removeEmptyDevice(e,t)},removeNewDevice:(e,t)=>{(0,Cs.b)(),this.removeMiddleDevice(e,t),this.removeNewDevice(e,t)},searchHandler:(e,t,s,i,a)=>{this.searchEsn(e,t,s,i,a)},lazyLoadSubDevs:e=>this.lazyLoadSubDevs(e)}}),o=t.length+a.length+this.state.newDevices.length,l=this.transformBound(a).map(((e,t)=>{const s=this.state.disabledDelete&&this.state.currentItemEsn===e.esn,i=t;return(0,f.jsx)(ys,{disabled:this.props.disabled,itemIndex:`BOUND-${t}`,itemType:\"BOUND\",...n(e),disabledDelete:s,allDeviceNumber:o,deviceItemIndex:i},e.esn)})),c=this.transformNew(t).map(((e,t)=>{const s=this.state.disabledDelete&&this.state.currentItemEsn===e.esn,i=a.length+t;return(0,f.jsx)(ys,{itemIndex:`${e.itemType}-${t}`,itemType:e.itemType,...n(e),disabledDelete:s,allDeviceNumber:o,deviceItemIndex:i},e.esn)})),d=this.transformEmpty(this.state.newDevices).map(((e,i)=>{const r=this.state.disabledDelete&&this.state.currentItemEsn===e.esn,l=a.length+t.length+i;return(0,f.jsx)(ys,{itemIndex:`EMPTY-${i}`,itemType:\"EMPTY\",autoCompleteProps:{newDevices:t,esnList:s},...n(e),disabledDelete:r,allDeviceNumber:o,deviceItemIndex:l},e.esn)})),h=0!==t.length||0!==a.length||0!==this.state.newDevices.length;return(0,f.jsxs)(\"div\",{className:\"nco-create-site-device-list-container\",children:[(0,f.jsxs)(V.Z,{type:\"flex\",justify:\"end\",style:{marginBottom:\"0.75rem\"},children:[i&&(0,f.jsx)(m.Z,{onClick:this.reloadBoundList,children:e.formatMessage({id:\"neteco.pvms.partials.main.dm.devParamMenu.refreshBtn\"})}),\"  \",(0,f.jsx)(m.Z,{type:\"primary\",onClick:this.clickAddNewDevice,disabled:this.props.disabled,children:e.formatMessage({id:\"neteco.pvms.stationInfo.addStation.addDevice\"})})]}),h&&(0,f.jsxs)(\"div\",{className:\"nco-create-site-device-list\",children:[l,c,d]}),!h&&(0,f.jsx)(\"div\",{className:\"nco-create-site-device-list-empty\",children:(0,f.jsx)(rs.Z,{image:\"/pvmswebsite/assets/build/images/station/noData.png\",description:e.formatMessage({id:\"neteco.pvms.noData\"})})}),(0,f.jsx)(r.Z,{title:e.formatMessage({id:\"neteco.pvms.create\"}),width:\"60rem\",visible:this.state.showStationAccess,onCancel:this.clickCancel,maskClosable:!1,footer:null,children:(0,f.jsx)(hs.Z,{clickCancel:this.clickCancel,changeDevices:this.changeDevices})})]})}}ks.transformBoundDevices=e=>{const t=Te()(e.filter((e=>{const{dn:t,communication:s={}}=e,{dn:i}=s;return t===i})));for(let s=0;s<t.length;s++){for(let i=0;i<e.length;i++)if(t[s].dn===e[i].communication.dn&&t[s].esn!==e[i].esn){const a=e[i].subDevs,{hasChild:n}=e[i],o=a&&a.length>0;t[s].subDevs.push({dn:e[i].dn,esn:e[i].esn,type:e[i].mocTypeName||\"--\",version:e[i].devName||\"--\",subDevs:e[i].subDevs,hasChild:n,hasLoadedSubDevs:o})}const i=t[s].subDevs.length>0;t[s].hasChild=t[s].isExpandable,i&&(t[s].hasChild=!0)}return t};const As=(0,i.$j)((e=>e.ncoDeviceList),{lazyLoadSubDevs:Ee.Ri,addDevice:Ee.S6,removeDevice:Ee.Dv,loadEsnList:Ee.Tn,initBoundDevices:Ee.dN,clearDevices:Ee.hQ,addSelectedDevices:Ee.Rf,onSearch:Ee.H_,unbind:Ee.AO})((0,a.ZP)(ks));var Zs=s(15694),Vs=s(13528);const Os=new Set([23010,23022,23063]),Rs=15e5,_s=e=>{(0,Vs.Dq)()&&(e=e.replace(\",\",\".\"));const t=parseFloat(e);return isNaN(t)||t<0?0:t>v.Ek?v.Ek:t},Fs=e=>e.toString().replace(\".\",\",\"),Hs=e=>[{title:e.formatMessage({id:\"ncoEnergyStorageTable.column.device\"}),dataIndex:\"name\"},{title:e.formatMessage({id:\"neteco.pvms.intelAlarm.devType.name\"}),dataIndex:\"mocTypeName\"},{title:e.formatMessage({id:\"neteco.pvms.partials.main.column.deviceVersion\"}),dataIndex:\"devName\"},{title:e.formatMessage({id:\"ncoNewDeviceManagement.label.esn\"}),dataIndex:\"esn\",className:\"string-capacity-device-esn\"},{title:\"\",dataIndex:\"isTransshipment\",width:\"26px\",render:t=>(0,f.jsx)(\"span\",{children:t&&(0,f.jsx)(_.Z,{title:e.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.message\"}),children:(0,f.jsx)(ms.Z,{className:\"nco-pv-capacity-table-device-transshipment-icon\"})})})},{title:`${e.formatMessage({id:\"neteco.pvms.partials.main.dm.StringCapacity\"})}`,dataIndex:\"capacity\",render:e=>e?\"number\"==typeof e?(0,Vs.af)(e.toFixed(3)):(0,Vs.af)(e):j.lH}],Us=e=>{const t=parseInt(e);return isNaN(t)||t<0?0:t>Rs?Rs:t},Bs=e=>{let t=[];return e.length?(e.forEach((e=>{e.dcdcSns&&t.push(e.dcdcSns)})),t.flat(1)):t};var Ks=s(34754);const{updateModalTableSubject:zs}=T.Z,{CAPACITY:Ws}=v.l2.TAB_KEYS,{Item:$s}=n.Z,{operationWarn:Ys,operationInfo:Gs}=E.Z,qs={showPvModal:!1,multiCheckOpen:!1,pvNumbers:0,pvCapacityList:[]},Qs={data:[],displayData:[]},Js=\"-1\",Xs={pageSize:10,pvNumbers:0,currentPage:1,currentType:\"-1\",showPvModal:!1,pvCapacityList:[],selectedRowKeys:[],selectedRows:[],multiCheckOpen:!1,idDiffTypeInverter:!1},ei=e=>{let t=parseInt(e.paramValues[10047]);t=isNaN(t)?0:t,t=t>0?t:0,t=t>Le.Qp?8:t;const s=[];for(let i=0;i<t;i++)s.push(e.paramValues[(0,Le.st)(i,22001,22050)]);return s};class ti extends d.Component{constructor(e){var t;super(e),t=this,this.clearPvData=()=>{this.setState({...Qs})},this.loadBoundInverters=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const{stationDn:i,isModifyMode:a}=t.props;return a?new Promise(((a,n)=>{((e,t,s)=>new Promise((i=>{(0,U.Sg)(\"/rest/neteco/web/config/device/v1/device-list\",{\"conditionParams.checkShareStationDn\":e,\"conditionParams.parentDn\":e,\"conditionParams.curPage\":t||0,\"conditionParams.recordperpage\":s||10,\"conditionParams.mocTypes\":20822,\"conditionParams.signals\":[...Le.ZP.pvSignals,10047,50009,50012,21001].join(\",\")}).then((e=>{const{code:t,data:s,total:a}=e;i(0===t?{success:!0,data:s,total:a}:{success:!1})})).catch((()=>{i({success:!1})}))})))(i,e,s).then((e=>{const{success:s,data:i,total:n}=e;if(s){const e=i.map((e=>({...e,key:e.dn,groupNumber:\"0\"!==e.paramValues[10047]&&\"\"!==e.paramValues[10047]||1!==e.stringCapacityType?e.paramValues[10047]||j.lH:\"1\",pvCapacity:e.paramValues[21001]||j.lH,capacity:e.paramValues[21001]?(e.paramValues[21001]/1e3).toFixed(3):j.lH,devName:e.paramValues[50009],esn:e.paramValues[50012],pvCapacities:ei(e)})));let s=0;e.forEach((e=>{const{capacity:t}=e;t&&!(0,Vs.s)(t)&&(s+=Number(t))})),t.setState({modifyInverterList:e,modifyInverterTotal:n,currentPageCapacitySnapshot:Number(s).toFixed(3)}),a(e)}else a([])}))})):Promise.resolve([])},this.refreshStationCap=()=>{const{stationDn:e}=this.props;e&&(0,U.Sg)(\"/rest/pvms/web/device/v1/deviceExt/get-device-signals\",{dn:e,signalIds:\"21030\"},18e4).then((e=>{const{success:t,data:s=[]}=e;if(!t)return;const i=s.findIndex((e=>21030===e.id));if(i<0)return;const a=s[i].value,n=Number(a);isNaN(n)||this.setState({stationPvCapacity:n})}))},this.loadPvCapacityMaximumList=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];if(0===s.length)i=e.map((e=>({esn:e.esn,dns:[]})));else{const{pvDeviceList:e}=t.props,a=e.filter((e=>e.parentDn===e.stationKey));for(let e=0;e<a.length;e++){const t=null==s?void 0:s.filter((t=>t.parentDn===a[e].dn));if(t&&t.length>0){const s=t.map((e=>e.dn));i.push({esn:a[e].esn,dns:s})}else i.push({esn:a[e].esn,dns:[a[e].dn]})}}(0,U.v_)(\"/rest/neteco/web/imodbus/v1/sunshine/capacity\",i).then((e=>{const{code:s,data:i}=e;if(0===s&&i){const e=Object.values(i).filter((e=>\"number\"==typeof e)).reduce(((e,t)=>e+t));t.setState({pvCapacityMaximumList:i,stationCapacityMaximum:e})}}))},this.repeat=(e,t,s)=>{if(this.task){clearInterval(this.task);let i=1;this.task=setInterval((()=>{i>=s&&clearInterval(this.task),e(),i++}),t)}else{let i=1;this.task=setInterval((()=>{i>=s&&clearInterval(this.task),e(),i++}),t)}},this.onSelectChange=(e,t)=>{this.setState({selectedRowKeys:e,selectedRows:t,idDiffTypeInverter:this.isDiffInverter(t)})},this.isDiffInverter=e=>{if(0===e.length)return!1;const{isModifyMode:t}=this.props,s=t?e[0].typeId:e[0].devTypeId;return e.some((e=>t?e.typeId!==s:e.devTypeId!==s))},this.handleSelectChange=e=>{const{data:t}=this.state;e===Js?this.setState({currentPage:1,currentType:e,displayData:t,selectedRowKeys:[],selectedRows:[]}):this.setState({currentType:e,currentPage:1,displayData:t.filter((t=>t.mocId===parseInt(e)||t.devTypeId===parseInt(e))),selectedRowKeys:[],selectedRows:[]})},this.handlePageChange=(e,t)=>{const{hasCurrentPageChanged:s}=this.state,{intl:i}=this.props;if(s)return void Gs(i,i.formatMessage({id:\"nco.has.pv.not.set.yet\"}));const{isModifyMode:a}=this.props;this.setState({currentPage:e}),a&&(this.setState({currentPage:e,selectedRowKeys:[],selectedRows:[]}),this.loadBoundInverters(e,t))},this.handleSizeChange=(e,t)=>{this.setState({currentPage:1,pageSize:t})},this.setDevicePVCaps=e=>{const{selectedRows:t,data:s,currentType:i}=this.state;t.forEach((t=>{const s=parseInt(t.groupNumber)||0;let i=s>=0?s:0;i=i>Le.Qp?8:i;const a=[];for(let t=0;t<i;t++)e[t]?a.push(parseFloat(e[t])):a.push(0);const n=a.reduce(((e,t)=>t?e+t:e),0);a.length>0&&(t.pvCapacities=a,t.capacity=(n/1e3).toFixed(3),t.pvCapacity=a[0])}));const{isModifyMode:a}=this.props;if(a){const{modifyInverterList:e,stationPvCapacity:t}=this.state,{currentPageCapacitySnapshot:s}=this.state;let i=0;if(e.forEach((e=>{e.capacity&&!(0,Vs.s)(e.capacity)&&(i+=Number(e.capacity))})),t){const a=Number(t)+(i-s);this.setState({data:e,hasCurrentPageChanged:!0,stationPvCapacity:Number(a).toFixed(3),currentPageCapacitySnapshot:Number(i).toFixed(3)}),this.props.onChange&&this.props.onChange({data:e,stationPvCapacity:Number(a).toFixed(3),hasCurrentPageChanged:!0})}else this.setState({data:e,hasCurrentPageChanged:!0,stationPvCapacity:Number(i),currentPageCapacitySnapshot:Number(i).toFixed(3)}),this.props.onChange&&this.props.onChange({data:e,stationPvCapacity:Number(i).toFixed(3),hasCurrentPageChanged:!0})}else{let e=0;s.forEach((t=>{const s=!isNaN(parseFloat(t.capacity));e+=s?parseFloat(t.capacity):0}));const t=i===Js?s:s.filter((e=>e.mocId===parseInt(i)||e.devTypeId===parseInt(i)));this.clearStationPvError(),this.setState({data:s,displayData:t,stationPvCapacity:Number(e).toFixed(3),stationPVError:!1}),this.props.onChange&&this.props.onChange({data:s})}},this.clearStationPvError=()=>{pe.next({stationPvError:!1})},this.setStationPvError=()=>{pe.next({stationPvError:!0})},this.showPvModal=()=>{const{selectedRowKeys:e,selectedRows:t,data:s,modifyInverterList:i,pvCapacityMaximumList:a}=this.state,{intl:n,isModifyMode:o}=this.props;if(0===e.length)return void(e=>{r.Z.info({centered:!0,content:e.formatMessage({id:\"neteco.pvms.stationInfo.atLeastOne\"}),title:e.formatMessage({id:\"neteco.pvms.systemSetting.amendment.toolTip\"}),okText:e.formatMessage({id:\"common.button.ok\"})})})(n);this.setState({showPvModal:!0});let l=0,c=[];if(1===t.length){const e=o?i.find((e=>e.esn===t[0].esn)):s.find((e=>e.esn===t[0].esn));c=c.concat(e.pvCapacities||[]);let n=e.pvCapacity;(0,Vs.s)(n)&&(n=\"\");const r=e=>e>Le.Qp?8:e;let l=parseInt(e.groupNumber)||0;l=l>=0?l:0,l=r(l);const d=l-c.length>0?l-c.length:0;return c=c.concat(new Array(d).fill(0)),void this.updatePvData({pvCapacityList:c,pvNumbers:l,max:l,pvCapacity:n,pvCapacityMaximum:1e3*a[e.esn]})}const d=(e=>{let t=0;for(let s=0;s<e.length;s++){const{groupNumber:i}=e[s],a=parseInt(i)||0,n=a>=0?a:0;t=n>t?n:t}return t>Le.Qp?8:t})(t);let h=[];d>0&&t.length>1&&(l=d,h=new Array(d).fill(0));const p=((e,t)=>{let s=[];for(let i=0;i<e.length;i++)s.push(t[e[i].esn]);let i=0;for(let e=0;e<s.length;e++)i=s[e]>i?s[e]:i;return 1e3*i})(t,a);this.updatePvData({pvCapacityList:h,pvNumbers:l,max:d>l?d:l,pvCapacity:t[0].pvCapacity,pvCapacityMaximum:p})},this.checkSelectedDeviceCrossRegion=e=>{let t=!1;for(const s of e)if(s.isTransshipment){t=!0;break}return t},this.openSetSinglePvCapacity=()=>{const{selectedRows:e}=this.state,{intl:t}=this.props;if(this.checkSelectedDeviceCrossRegion(e))return Ys(t,t.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.message\"}));this.showPvModal()},this.updatePvData=e=>{let{pvCapacityList:t,pvNumbers:s,max:i,pvCapacity:a,pvCapacityMaximum:n}=e;this.setState({pvCapacityList:t,pvNumbers:s,max:i,pvCapacity:a,pvCapacityMaximum:n})},this.handleMultiCheckChange=e=>{const{pvCapacityList:t}=this.state;e.target.checked?this.setState({multiCheckOpen:e.target.checked,pvCapacityList:t.map((()=>0))}):this.setState({multiCheckOpen:e.target.checked})},this.handlePvNumberBlur=e=>{let t=parseInt(e.target.value);if(isNaN(t))return void this.setState({pvNumbers:0});const{selectedRows:s,pvCapacityList:i,max:a}=this.state;t>a&&1===s.length&&(t=a);let n=[];if(0===i.length)n=t<0?new Array(0).fill(0):new Array(t).fill(0);else{const e=t>i.length?i.length:t;if(e===t)for(let t=0;t<e;t++)n.push(i[t]||0);else{n=n.concat(i);const e=t-i.length;n=n.concat(new Array(e).fill(0))}}this.state.pvNumbersChanged&&this.setState({pvCapacityList:n,pvNumbersChanged:!1,pvNumbers:t})},this.handleSetPvCapacity=e=>{this.setState({pvCapacityList:this.state.pvCapacityList.map((()=>e))})},this.handlePvNumberChange=e=>{isNaN(e)||e<0?this.setState({pvNumbers:0,pvNumbersChanged:!0}):e&&parseInt(e)!==this.state.pvNumbers&&this.setState({pvNumbers:parseInt(e),pvNumbersChanged:!0})},this.handleSetSinglePvCapacity=(e,t)=>{const{pvCapacityList:s}=this.state,i=Array.of(...s);i[t]=e,this.setState({pvCapacityList:i,pvCapacity:e})},this.hidePvModal=()=>{this.setState({showPvModal:!1})},this.resetModalStatus=()=>{this.hidePvModal(),setTimeout((()=>{this.setState(qs)}),200)},this.isSetTotalStringCapacity=e=>e.some((e=>1===e.stringCapacityType)),this.isOutCapacity=(e,t)=>{const s=e.filter((e=>void 0!==e));return!(s.length<=0||t<=0)&&s.map(Number).reduce(((e,t)=>e+t))>t},this.getFixed=e=>parseFloat((Math.floor(1e4*e)/1e4).toFixed(4)),this.inputNumberConfigs=()=>{(0,Vs.Dq)()&&this.setState({inputNumberProps:{formatter:Fs}})};const{isModifyMode:s,intl:i}=e;let a;if(s){const{stationCapacity:e}=this.props;a=e?Number(1e3*e).toFixed(3):0}this.state={...Xs,data:[],displayData:[],pvNumbersChanged:!1,inputNumberProps:{},stationPvCapacity:a||0===a?Number(a/1e3).toFixed(3):void 0,deviceMocTypes:[{type:-1,name:i.formatMessage({id:\"neteco.pvms.upgrade.types.1\"})}],deviceTypes:[{type:-1,name:i.formatMessage({id:\"neteco.pvms.upgrade.types.1\"})}],hasCurrentPageChanged:!1,pvCapacityMaximum:0,pvCapacityMaximumList:[],stationCapacityMaximum:0,overStationCapcity:!1}}componentWillReceiveProps(e,t){const{pvDeviceList:s=[],isModifyMode:i}=e,{data:a=[],modifyInverterList:n=[]}=this.state;[Ws.tabKeyName,Ws.index].includes(e.tabKeyName)?this.isLoadPvCapacity||(this.isLoadPvCapacity=!0,this.loadPvCapacityMaximumList(s,n)):this.isLoadPvCapacity=!1;const o=new Map(a.map((e=>[e.esn,e])));if(!i){const e=new Set([23010,23022,23068]),t=(e=>{const t=e=>({name:e.deviceName||\"\",mocTypeName:e.deviceType||j.lH,pvCapacities:e.pvCapacities||[],capacity:e.capacity||j.lH,key:e.key||e.esn||j.lH,devName:e.productType||j.lH}),s=[];return e.forEach((e=>{const i={...e,deviceList:void 0};Os.has(e.devTypeId)&&s.push({...e,main:i,deviceList:void 0,...t(e)}),Array.prototype.push.apply(s,e.deviceList.map((e=>({...e,main:i,deviceList:void 0,...t(e)}))))})),s})(s).filter((t=>e.has(t.devTypeId)));if(a.length!==t.length){const e=t.map((e=>e.esn));this.onSelectChange([],[]);const s=[];for(let i=0;i<t.length;i++){const a=e[i];o.has(a)?s.push(o.get(a)):s.push(t[i])}let i=0;s.forEach((e=>{const t=!e.capacity||(0,Vs.s)(e.capacity);i+=t?0:Number(e.capacity)})),this.props.onChange&&this.props.onChange({data:s}),this.setState({data:s,displayData:s,stationPvCapacity:i})}}}componentWillUnmount(){this.updateModalTable&&this.updateModalTable.unsubscribe(),this.setState=()=>{}}componentDidMount(){this.inputNumberConfigs(),this.updateModalTable=zs.subscribe((()=>{const{currentPage:e=0,pageSize:t=10}=this.state;this.refreshStationCap(),this.loadBoundInverters(e,t),this.setState({hasCurrentPageChanged:!1,selectedRowKeys:[],selectedRows:[]})})),this.refreshStationCap(),this.loadBoundInverters().then((e=>{this.loadPvCapacityMaximumList([],e)})),re.ZP.loadDeviceTypeList().then((e=>{const{code:t,data:s}=e;if(0===t){const e=Object.entries(s).map((e=>e[1]));this.setState({deviceMocTypes:[...this.state.deviceMocTypes,...e.map((e=>({type:e.mocId,name:e.mocTypeName}))).filter((e=>20810===e.type||20822===e.type))],deviceTypes:[...this.state.deviceTypes,...e.map((e=>({type:e.id,name:e.mocTypeName}))).filter((e=>23010===e.type||23022===e.type))]})}}))}render(){const{currentPage:e,pageSize:t,selectedRowKeys:s,displayData:i,currentType:a,showPvModal:n,pvNumbers:o,pvCapacityList:l,multiCheckOpen:c,stationPVError:d,data:h,modifyInverterList:p,modifyInverterTotal:g,selectedRows:y,pvCapacity:S,idDiffTypeInverter:b,pvCapacityMaximum:C,stationCapacityMaximum:x,overStationCapcity:D,inputNumberProps:M}=this.state,{intl:w,isModifyMode:N}=this.props,I=(()=>{if(!N){const s=(e-1)*t,a=s+t;return i.slice(s,a)}return p})(),T={selectedRowKeys:s,onChange:this.onSelectChange},P=!N&&!!I&&I.length>0;return(0,f.jsxs)(\"div\",{className:\"nco-pv-capacity-wrapper\",children:[(0,f.jsxs)(V.Z,{type:\"flex\",justify:\"space-between\",style:{margin:\"0 0 15px 0\"},children:[(0,f.jsxs)(R.Z,{span:18,className:\"station-capacity-col\",children:[(0,f.jsxs)(\"span\",{className:\"station-capacity-span\",children:[w.formatMessage({id:(0,Ks.k)()?\"neteco.pvms.inverter.DCCapacity\":\"neteco.pvms.inverter.stationStringCapacity\"}),\":\"]}),(0,f.jsx)(Z.Z,{className:\"nco-pv-capacity-number-wrapper\",style:{border:this.state.stationPVError?\"1px solid red\":\"1px solid #d1d1d1\"},disabled:!P,value:(0,Vs.af)(this.state.stationPvCapacity),onChange:e=>{const t=e.target.value;if(this.setState({stationPvCapacity:t}),!N){if(!/^(([0-9]+\\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\\.[0-9]+)|([0-9]*[1-9][0-9]*))$/.test(`${Number(t)}`)&&!/^\\d+$/.test(`${Number(t)}`))return this.setStationPvError(),void this.setState({stationPVError:!0});const e=parseFloat(t);let s=0;if((h||[]).forEach((e=>{let t=parseInt(e.groupNumber)||0;t=t<=0?0:t,s+=t>Le.Qp?8:t})),0!==s){const t=s*v.Ek,i=1e3*x;if(1e3*e>(t>i&&i>0?i:t))return this.setStationPvError(),void this.setState({stationPVError:!0,overStationCapcity:e>x&&x>0})}this.clearStationPvError(),this.setState({stationPVError:!1,overStationCapcity:!1})}},onBlur:()=>{if(!N){const{stationPvCapacity:e,stationPVError:t}=this.state,s=parseFloat(e);let i=0;if((h||[]).forEach((e=>{let t=parseInt(e.groupNumber)||0;t=t<=0?0:t,i+=t>Le.Qp?8:t})),s>0&&i>0&&!t){const e=1e3*s,t=this.getFixed(e/i);h.forEach((i=>{if((0,ce.Bb)(i.devTypeId))i.pvCapacity=this.getFixed(e/h.length),i.capacity=this.getFixed(s/h.length);else{const e=parseInt(i.groupNumber)||0,s=new Array(e>=0?e:0).fill(t),a=s.reduce(((e,t)=>e+t),0),n=this.getFixed(a/1e3);i.pvCapacities=s,i.pvCapacity=a,i.capacity=n}}));const n=a===Js?h:h.filter((e=>e.mocId===parseInt(a)||e.devTypeId===parseInt(a))).map((e=>({...e,pvCapacity:parseFloat(Number(e.pvCapacity).toFixed(3))})));this.setState({data:h,displayData:n}),this.props.onChange&&this.props.onChange({data:h})}}}}),(0,f.jsx)(\"span\",{style:{display:d?\"inline\":\"none\"},className:\"span-tip\",children:D?w.formatMessage({id:\"neteco.pvms.smsrc.pvCapacityConfig.tip\"}):w.formatMessage({id:\"neteco.pvms.inverter.stationStringCapacity.check\"})})]}),(0,f.jsx)(R.Z,{span:6,style:{textAlign:\"right\"},children:(0,f.jsx)(m.Z,{onClick:this.openSetSinglePvCapacity,disabled:this.props.disabled||(N?!g||g<=0:!I||0===I.length)||b,children:w.formatMessage({id:\"neteco.pvms.smsrc.dm_devPVInfo\"})})})]}),(0,f.jsx)(\"div\",{className:\"nco-pv-capacity-table\",children:(0,f.jsx)(Zs.Z,{columns:Hs(w),dataSource:I,showSorterTooltip:!1,size:\"small\",scroll:{y:405},rowSelection:this.props.disabled?void 0:T,pagination:{total:N?g:i.length,current:e,defaultCurrent:0,defaultPageSize:t,onChange:this.handlePageChange,showSizeChanger:!0,onShowSizeChange:this.handleSizeChange,showTotal:e=>w.formatMessage({id:\"neteco.pvms.station.subarray.pagination.total\"},{total:e}),pageSizeOptions:[\"10\",\"20\",\"30\",\"50\",\"100\",\"300\"]}})}),(0,f.jsxs)(r.Z,{width:\"45rem\",title:w.formatMessage({id:\"neteco.pvms.smsrc.dm_devPVInfo\"}),visible:n,onOk:()=>{l.length>0&&this.setDevicePVCaps(l),this.resetModalStatus()},onCancel:()=>{this.resetModalStatus()},onText:w.formatMessage({id:\"neteco.pvms.partials.main.io.intelligentDiagnose.confirm\"}),maskClosable:!1,okButtonProps:{disabled:this.isOutCapacity(l,C)},children:[(0,f.jsxs)(\"div\",{style:{width:\"100%\"},children:[!this.isSetTotalStringCapacity(y)&&(0,f.jsx)(\"div\",{children:(0,f.jsxs)(V.Z,{type:\"flex\",justify:\"start\",children:[(0,f.jsx)(R.Z,{span:12,style:{lineHeight:\"2.5rem\"},children:(0,f.jsx)(O.Z,{onChange:this.handleMultiCheckChange,checked:c,children:w.formatMessage({id:\"neteco.pvms.partials.main.dm.devStringDetail.batchSetting\"})})}),(0,f.jsx)(R.Z,{children:(0,f.jsx)($s,{style:{display:\"flex\"},label:w.formatMessage({id:\"neteco.pvms.partials.main.dm.devStringDetail.pvNum\"}),children:(0,f.jsx)(te.Z,{disabled:!0,value:o,style:{width:\"8rem\"},onBlur:this.handlePvNumberBlur,min:0,max:this.state.max||0,onChange:this.handlePvNumberChange})})})]})}),this.isSetTotalStringCapacity(y)?(0,f.jsx)(\"div\",{children:(0,f.jsx)(V.Z,{type:\"flex\",justify:\"space-between\",style:{display:\"flex\",justifyContent:\"flex-start\"},children:(0,f.jsx)(R.Z,{span:12,children:(0,f.jsx)(\"div\",{className:\"nco-pv-capacity-number-wrapper\",children:(0,f.jsx)($s,{label:w.formatMessage({id:\"neteco.pvms.smsrc.dm_devPVInfo\"}),style:{display:\"flex\",justifyContent:\"flex-start\",margin:\"10px 0 0 0\"},children:(0,f.jsx)(te.Z,{min:0,max:15e5,value:S,parser:Us,onChange:e=>{(e||0===e)&&this.handleSetSinglePvCapacity(e,0)}})})})})})}):(0,f.jsx)(\"div\",{children:(0,f.jsx)(V.Z,{type:\"flex\",justify:\"space-between\",style:{display:\"flex\",justifyContent:\"flex-start\"},children:l.map(((e,t)=>(0,f.jsx)(R.Z,{span:12,children:(0,f.jsx)(\"div\",{className:\"nco-pv-capacity-number-wrapper\",children:(0,f.jsx)($s,{label:`PV${t+1} ${w.formatMessage({id:\"neteco.pvms.partials.main.dm.capacity\"})}`,style:{display:\"flex\",justifyContent:\"flex-start\",margin:\"10px 0 0 0\"},children:(0,f.jsx)(te.Z,{...M,min:0,max:v.Ek,value:e,parser:_s,onChange:e=>{(e||0===e)&&(c?this.handleSetPvCapacity(e):this.handleSetSinglePvCapacity(e,t))}})})})},t)))})})]}),this.isOutCapacity(l,C)&&(0,f.jsx)(\"div\",{className:\"modal-tip\",children:(0,f.jsx)(u.Z,{id:\"neteco.pvms.smsrc.pvCapacityConfig.tip\"})})]})]})}}const si=(0,a.ZP)(ti);var ii=s(68011),ai=s(33670),ni=s(57350),oi=s(2326),ri=s(86325);const{operationSuccess:li,operationFailed:ci,operationInfo:di}=E.Z,{SOFTWARE_VERSION:hi,DEVICE_NATION_NAME:pi}=Ss.LW.HOUSEHOLD_SIGNALS,mi=[10046,10047,21001,21002,21003,50001,50002,50003,50004,50005,50006,50007,50008,50009,50010,50011,50012,50013,50014,50015,22049,21020,21009,50017,20004,10010,10002],{neteco:ui}=window,vi=(e,t,s,i)=>{const a=t.indexOf(\"delete-device\")>-1;(0,U.v_)(t,e).then((e=>{if(0===e.code){const e=\"neteco.pvms.device.delete.async.information\";li(s,s.formatMessage({id:e})),i(\"success\")}else if(-1===e.code||-2===e.code){const t=-1===e.code?\"neteco.pvms.device.management.deviceMissing\":\"neteco.pvms.systemSetting.getpass.vercodeOverdueOrError\";a?i(\"error\",t):(di(s,s.formatMessage({id:t})),i(\"error\"))}else{const e=\"neteco.pvms.alarmTemp.deleteError\";a?i(\"error\",e):(ci(s,s.formatMessage({id:e})),i(\"error\"))}})).catch((e=>{a?i(\"error\",\"neteco.pvms.ajax.error\"):(ci(s,s.formatMessage({id:\"neteco.pvms.ajax.error\"})),i(\"error\"))}))},gi=e=>{const t=e.find((e=>20814===e.mocId)),s=t?t.allOpts.map((e=>e.dnId)):[];return[...new Set(e.map((e=>e.dnId)).concat(s))]},fi=(e,t,s,i)=>{const a={dnIdList:gi(e),verCode:i,careResetPwdResult:!0};(0,U.v_)(\"/rest/pvms/web/device/v1/delete-device\",a).then((a=>{if(0===a.code)yi(t,s);else{var n;const o=null!==(n=a.data)&&void 0!==n&&n.resetPwdFailList?`${(0,ri.M)(e,a.data.resetPwdFailList)} `:\"\";(0,de.ST)(`${o}${t.formatMessage({id:\"neteco.deviceManagement.resetPassword.failed.tip\"})}`,(()=>{!function(e,t,s,i){const a={dnIdList:gi(e),verCode:i};vi(a,\"/rest/pvms/web/device/v1/delete-device\",t,s)}(e,t,s,i)}),null,t)}}))};function yi(e,t){(0,de.Sb)(e.formatMessage({id:\"neteco.pvms.device.delete.async.information\"}),null,e),t(\"success\")}const Si=(e,t,s)=>{r.Z.confirm({content:t.formatMessage({id:\"neteco.deviceManagement.deleteDeviceWarning\"}),onOk:()=>{(0,U.v_)(\"/rest/neteco/web/imodbus/v1/ne-service/ne/batch-deletion?careResetPwdResult=true\",gi(e)).then((i=>{if(0===i.code)yi(t,s);else{const a=(0,ri.M)(e,i.data.resetPwdFailList);(0,de.ST)(a+\" \"+t.formatMessage({id:\"neteco.deviceManagement.resetPassword.failed.tip\"}),(()=>{!function(e,t,s){const i=gi(e);vi(i,\"/rest/neteco/web/imodbus/v1/ne-service/ne/batch-deletion\",t,s)}(e,t,s)}),null,t)}}))}})},bi=async(e,t,s)=>{let{page:i,pageSize:a}=t;const n={\"conditionParams.checkShareStationDn\":e,\"conditionParams.parentDn\":e,\"conditionParams.curPage\":i>0?i:1,\"conditionParams.recordperpage\":a,\"conditionParams.signals\":mi.join(\",\"),\"conditionParams.mocTypes\":void 0,\"conditionParams.noIncludeMocIds\":[bs.o.SMART_SWITCH,bs.o.SMART_LOAD].join(\",\"),\"conditionParams.supportMDevice\":1};try{const e=await(0,U.Fe)((0,U.U2)(\"/rest/neteco/web/config/device/v1/device-list\",n));if(0===e.code){const t=e.data.map((e=>{const{hasChild:t}=e,{dn:s,communication:i={},stationName:a=j.lH,stationKey:n=j.lH}=e,{dn:o}=i,r=s===o?j.lH:e.communication.name,l=e.stationName===e.parentName?j.lH:e.parentName||j.lH;return{...e,dn:e.dn,dnId:e.dnId,devRunningState:e.status,stationName:a,devName:e.name,devTypeId:e.paramValues[pi]||j.lH,modelVersionCode:j.lH,mocTypeName:e.mocTypeName||j.lH,mocId:e.mocId,parentDeviceName:r,softwareVersion:e.paramValues[hi]||j.lH,parentDn:e.parentDn,upLevelDeviceName:l,communication:i,hasChild:t,children:t?[]:void 0}})),{total:n}=e;s({list:t,total:n,page:i,pageSize:a})}else s({list:[],total:0,page:1,pageSize:10})}catch(e){s({list:[],total:0,page:1,pageSize:10})}};var Ci=s(18206),xi=s(69009);const Di=e=>({width:{small:e,big:e},maxWidth:{small:e,big:e}}),Mi=(e,t,s,i)=>({tableWidth:{small:e,big:t},tableHeight:{small:s,big:i}}),wi={...Mi(1100,1100,300,550),columns:{devRunningState:Di(30),devName:Di(40),stationName:Di(40),mocTypeName:Di(40),softwareVersion:Di(80),upLevelDeviceName:Di(60),esn:Di(40),parentDeviceName:Di(30),devTypeId:Di(30),sim:Di(30),bindUsers:Di(30),warrantExpDeadlineDate:Di(150),action:{...Di(30),fixed:\"right\"}}},Ni={softwareVersion:Di(180),upLevelDeviceName:Di(200),esn:Di(200),parentDeviceName:Di(200),devTypeId:Di(200),sim:Di(180),bindUsers:Di(180),warrantExpDeadlineDate:Di(150)},Ii={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(150),...Ni,action:{...Di(100),fixed:\"right\"}}},Ti={...Mi(1e3,1e3,300,550),columns:{devRunningState:Di(170),devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(180),...Ni,action:{...Di(100),fixed:\"right\"}}},Pi={...Mi(1e3,1e3,300,550),columns:{devRunningState:Di(140),devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(150),...Ni,action:{...Di(100),fixed:\"right\"}}},ji={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(280),...Ni,action:{...Di(100),fixed:\"right\"}}},Ei={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(200),...Ni,action:{...Di(100),fixed:\"right\"}}},Li={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:150,big:150},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(180),...Ni,action:{...Di(100),fixed:\"right\"}}},ki={...Mi(1e3,1e3,300,550),columns:{devRunningState:Di(110),devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(180),...Ni,action:{...Di(100),fixed:\"right\"}}},Ai={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(200),...Ni,action:{...Di(100),fixed:\"right\"}}},Zi={...Mi(1e3,1e3,300,550),columns:{devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},mocTypeName:Di(180),...Ni,action:{...Di(100),fixed:\"right\"}}},Vi=(0,ft.ej)(\"locale\")||\"zh-cn\",Oi=e=>({width:{small:e,big:e},maxWidth:{small:e,big:e}}),Ri={small:230,big:480},_i={devRunningState:{width:{small:130,big:130},maxWidth:{small:100,big:100}},devName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},stationName:{width:{small:210,big:210},maxWidth:{small:200,big:200}},softwareVersion:Oi(180),upLevelDeviceName:Oi(200),esn:Oi(200),parentDeviceName:Oi(200),devTypeId:Oi(200),sim:Oi(180),bindUsers:Oi(180),warrantExpDeadlineDate:Oi(150),action:{...Oi(100),fixed:\"right\"},mocTypeName:Oi(150)},Fi={tableWidth:{small:1980,big:1980},tableHeight:Ri,columns:{..._i,devRunningState:{width:{small:120,big:120},maxWidth:{small:100,big:100}},devName:{width:{small:220,big:220},maxWidth:{small:200,big:200}},stationName:Oi(200),mocTypeName:Oi(100)}},Hi={tableWidth:{small:2030,big:2030},tableHeight:Ri,columns:{..._i,mocTypeName:Oi(150)}},Ui={tableWidth:{small:2100,big:2100},tableHeight:Ri,columns:{..._i,devRunningState:Oi(170)}},Bi={tableWidth:{small:2030,big:2030},tableHeight:Ri,columns:{..._i,devRunningState:Oi(140),mocTypeName:Oi(150)}},Ki={tableWidth:{small:2160,big:2160},tableHeight:Ri,columns:{..._i,mocTypeName:Oi(280)}},zi={tableWidth:{small:2080,big:2080},tableHeight:Ri,columns:{..._i,mocTypeName:Oi(200)}},Wi={tableWidth:{small:2060,big:2060},tableHeight:Ri,columns:{..._i,devRunningState:{width:{small:160,big:160},maxWidth:{small:100,big:100}}}},$i={tableWidth:{small:2010,big:2010},tableHeight:Ri,columns:{..._i,devRunningState:Oi(110)}},Yi={tableWidth:{small:2080,big:2080},tableHeight:Ri,columns:{..._i,mocTypeName:Oi(200)}},Gi={tableWidth:{small:2130,big:2130},tableHeight:Ri,columns:{..._i,action:{...Oi(150),fixed:\"right\"}}},qi=e=>{switch(e){case\"zh-cn\":return Fi;case\"en-us\":default:return Hi;case\"fr-fr\":return Ki;case\"de-de\":return Ui;case\"es-es\":return Bi;case\"it-it\":return zi;case\"nl-nl\":return Wi;case\"ja-jp\":return Gi;case\"pl-pl\":return $i;case\"pt-br\":return Yi}},Qi={tableWidth:{small:2200,big:2200},tableHeight:Ri,columns:{..._i,devRunningState:qi(Vi).columns.devRunningState,devName:{width:{small:250,big:250},maxWidth:{small:200,big:200}},stationName:{width:{small:250,big:250},maxWidth:{small:200,big:200}},mocTypeName:Oi(200),softwareVersion:{width:{small:250,big:250},maxWidth:{small:200,big:200}},upLevelDeviceName:{width:{small:250,big:250},maxWidth:{small:200,big:200}},esn:{width:{small:250,big:250},maxWidth:{small:200,big:200}},parentDeviceName:{width:{small:250,big:250},maxWidth:{small:200,big:200}},sim:{width:{small:200,big:200},maxWidth:{small:180,big:180}},bindUsers:{width:{small:200,big:200},maxWidth:{small:180,big:180}}}},Ji=function(e){let t;return t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Qi:arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?(e=>{switch(e){case\"zh-cn\":return wi;case\"es-es\":return Pi;case\"en-us\":default:return Ii;case\"de-de\":return Ti;case\"fr-fr\":return ji;case\"pl-pl\":return ki;case\"it-it\":return Ei;case\"nl-nl\":return Li;case\"pt-br\":return Ai;case\"ja-jp\":return Zi}})(Vi):qi(Vi),((e,t)=>({fixed:e.columns[t].fixed,maxWidth:(0,ce.ax)()?e.columns[t].maxWidth.small:e.columns[t].maxWidth.big,width:(0,ce.ax)()?e.columns[t].width.small:e.columns[t].width.big,render:s=>(0,ce.QM)(s,(0,ce.ax)()?e.columns[t].maxWidth.small:e.columns[t].maxWidth.big)}))(t,e)};var Xi=s(98919),ea=s(99994),ta=s.n(ea),sa=s(61337),ia=s(70440),aa=s(65595),na=s(88345);const{operationInfo:oa}=E.Z,{Step:ra}=c.Z,{neteco:la}=window,ca=!1;class da extends d.Component{constructor(e){super(e),this.clearSelectedItems=()=>{this.setState({selectedRows:[]})},this.closeModal=()=>{this.setState({pwdConfirmModal:!1})},this.closeSelectModal=()=>{this.setState({selectConfirmModal:!1,supportEmmaMigrateDelDeviceStatus:!1})},this.comfirmSelectType=()=>{const{deleteType:e}=this.state;1===e?this.deleteDevicesAction(Si,null):this.deletePermanentlyHandler()},this.changeDeleteType=e=>{const t=e.target.value;this.setState({deleteType:Number(t)})},this.onKeyDownchange=e=>{13===Number(e.keyCode)&&this.pwdConfirm()},this.clearSelectedRowKeys=()=>{this.setState({selectedRowKeys:[]})},this.getVerificationCode=()=>{let e={scene:\"verifyEmail\",method:\"SEND\",type:\"email\"};(0,ft.jA)()&&(e={scene:\"verifyPhone\",method:\"SEND\",type:\"phone\"}),this.setState({codeLoading:!0}),this.countDown(),(e=>{(0,U.v_)(\"/rest/plat/smapp/v1/users/verification-code\",e)})(e)},this.pwdConfirm=()=>{const{intl:e}=this.props,t=this.formRef.current,{currentStep:s}=this.state;0===s?t.validateFields().then((s=>{this.setState({checkLoading:!0});const{pwdConfirm:i}=s;var a;(a=i,(0,U.v_)(\"/rest/pvms/web/management/v1/config/change_Pwd\",{pwdCode:a})).then((s=>{const{success:a,data:{number:n}={}}=s||{};if(a)return void this.deleteDevicesAction(fi,\"\");const o=j.In.get(n);t.setFields([{name:[\"pwdConfirm\"],value:i,errors:[e.formatMessage({id:o})],touched:t.isFieldTouched(\"pwdConfirm\"),validating:!1}]),this.inputRef.current.focus()})).catch(ie.mz).finally((()=>{this.setState({checkLoading:!1})}))})).catch((()=>{this.inputRef.current.focus()})):1===s&&t.validateFields().then((e=>{this.setState({checkLoading:!0});const{smsVerificationCode:t}=e;this.deleteDevicesAction(fi,t)}))},this.crossRegionIcon=(e,t)=>{const{intl:s}=this.props,i=t===s.formatMessage({id:\"neteco.pvms.configuration.inverter\"})?s.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.message\"}):s.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.selectTip.new\"});return(0,f.jsx)(\"span\",{children:e&&(0,f.jsx)(_.Z,{title:i,children:(0,f.jsx)(ms.Z,{className:\"nco-pv-table-device-transshipment-icon\"})})})},this.clearData=()=>{this.clearExpandedRowKeys(),this.clearSelectedRowKeys(),this.clearSelectedItems()},this.deletePermanentlyHandler=()=>{this.setState({currentStep:0,pwdConfirmModal:!0,selectConfirmModal:!1,count:60,liked:!0,codeLoading:!1,supportEmmaMigrateDelDeviceStatus:!1},(()=>{this.inputRef.current&&this.inputRef.current.focus()}))},this.deleteHandler=async()=>{const{selectedRows:e=[]}=this.state,{intl:t}=this.props,s=[...e],i=s.find((e=>20814===e.mocId&&\"Connected\"===e.devRunningState));if(this.formRef.current,i)oa(t,t.formatMessage({id:\"neteco.pvms.deleteTip.delRunDev\"}));else{const i=[];e.forEach((e=>{i.push(e.dn)}));const[a,n]=await(0,fe.AM)((async e=>(0,U.v_)(\"/rest/neteco/web/imodbus/v1/upgrade-management/upgrading-device-list\",e))(i));if(a)return void(0,de.CD)(t.formatMessage({id:\"neteco.pvms.device.management.deviceMissing\"}),null,\"\",t);if(n.length>0)return void(0,de.CD)(t.formatMessage({id:\"neteco.pvms.device.delete.upgrading.information\"}),null,\"\",t);const o=s.filter((e=>(0,ce.Ek)(e.mocId,e.typeId))),r=s.map((e=>e.dn));if(o.find((e=>!r.includes(e.communicationDn||e.parentDn))))(0,de.CD)(t.formatMessage({id:\"neteco.pvms.device.delete.onlychargeMeter.information\"}),null,\"\",t);else{const e=s.map((e=>e.dnId));(0,sa.nc)(e).then((e=>{this.setState({selectConfirmModal:!0,deleteType:1,supportEmmaMigrateDelDeviceStatus:e})})).catch((()=>{this.setState({selectConfirmModal:!0,deleteType:1})}))}const l=s.find((e=>60026===e.mocId));this.setState({selectPowerCubeDevice:l})}},this.deleteButtonDisable=()=>{const{selectedRows:e=[],selectedSubDevs:t=[]}=this.state,s=[...e,...t];return 0===s.length||s.filter((e=>(0,ce.Ek)(e.mocId,e.typeId))).length===s.length},this.deleteDevicesAction=(e,t)=>{const{selectedRows:s=[],parentDn:i}=this.state,{intl:a}=this.props,n=[...s],o=this.formRef.current;e(n,a,((e,s)=>{\"success\"===e?(this.closeModal(),this.closeSelectModal(),bi(i,{page:1,pageSize:10},(e=>{this.setState({tableData:e,checkLoading:!1})})),this.clearData()):\"\"===t&&(o.setFields([{name:[\"pwdConfirm\"],value:t,errors:[a.formatMessage({id:s})],touched:o.isFieldTouched(\"pwdConfirm\"),validating:!1}]),this.setState({checkLoading:!1}))}),t)},this.onChangePage=(e,t)=>{const{parentDn:s}=this.state;bi(s,{page:e,pageSize:t},(e=>{this.setState({tableData:e})})),this.clearData()},this.buildStatusIcon=e=>{const t=\"Connected\"===e?\"nco-pv-table-device-status-icon status-up\":\"nco-pv-table-device-status-icon status-down\",{devStatusMap:s}=this.state;return(0,f.jsx)(\"span\",{title:s[e],className:t})},this.createColumn=(e,t,s)=>{const i=\"string\"==typeof e;return(0,f.jsx)(\"div\",{className:\"wrapper-ellipsis\",title:i?e:void 0,style:{width:s-16+\"px\"},children:t})},this.buildColumns=()=>{const{intl:e,isSingleStation:t}=this.props,{tableData:{list:s}}=this.state,i=0!==s.length,a=i?\"left\":\"center\",n=Ji(\"devRunningState\",i,t),o=Ji(\"devName\",i,t),r=Ji(\"mocTypeName\",i,t),l=Ji(\"softwareVersion\",i,t),c=Ji(\"devTypeId\",i,t),d=[{title:e.formatMessage({id:\"neteco.pvms.tableDetail.abnormalType.comState\"}),dataIndex:\"devRunningState\",key:\"devRunningState\",align:\"center\",...n,render:e=>this.buildStatusIcon(e)},{title:e.formatMessage({id:\"ncoPvTable.column.deviceName\"}),dataIndex:\"devName\",key:\"devName\",align:a,...o,className:\"device-name-columns\",render:e=>{const t=la.util.iUnescape(e);return this.createColumn(e,t,o.maxWidth)}},{title:\" \",dataIndex:\"isTransshipment\",key:\"isTransshipment\",width:\"26px\",align:a,className:\"transshipment-column\",render:(e,t)=>this.crossRegionIcon(void 0!==e&&e,t.mocTypeName)},{title:e.formatMessage({id:\"ncoPvTable.column.deviceType\"}),dataIndex:\"mocTypeName\",key:\"mocTypeName\",align:a,...r,render:(t,s)=>{const i=20816===s.mocId&&(0,Xi.r)(s.paramValues[20004])?`${t}(${(0,Xi.k)(s.paramValues[20004],e)})`:t;return this.createColumn(t?la.util.iUnescape(t):t,(0,f.jsx)(\"span\",{title:i,children:i}),r.maxWidth)}},{title:e.formatMessage({id:\"ncoPvTable.column.softwareVersion\"}),dataIndex:\"softwareVersion\",key:\"softwareVersion\",align:a,...l,render:e=>this.createColumn(e,(0,f.jsx)(\"span\",{title:null!=e?e:j.lH,children:null!=e?e:j.lH}),l.maxWidth)},{title:e.formatMessage({id:\"neteco.pvms.partials.main.configuration.model\"}),dataIndex:\"devTypeId\",key:\"devTypeId\",sorter:!1,align:a,...c,render:e=>this.createColumn(e,(0,f.jsx)(\"span\",{title:null!=e?e:j.lH,children:null!=e?e:j.lH}),c.maxWidth)}];return t?d.filter((e=>\"stationName\"!==e.key)):d},this.clearExpandedRowKeys=()=>{this.setState({expandedRowKeys:[]})},this.getTableRowSelection=()=>{const{tableData:{list:e}}=this.state,{selectedRowKeys:t,isPOWER_M:s}=this.state;return e&&e.length?{type:\"checkBox\",selectedRowKeys:t,onChange:(e,t)=>{this.setState({selectedRowKeys:e,selectedRows:t})},getCheckboxProps:e=>({disabled:!!s&&!(0,ia.H7)(e.mocId)})}:void 0},this.buildTable=()=>{const{intl:e}=this.props,{expandedRowKeys:t,tableData:{list:s},loading:i}=this.state,a=this.getTableRowSelection();return(0,f.jsx)(Zs.Z,{className:\"nco-table-scroll\",size:\"small\",rowKey:\"dnId\",showSorterTooltip:!1,loading:i,dataSource:s,scroll:s?{y:s.length>10?\"400px\":void 0}:{y:void 0},columns:this.buildColumns(),pagination:!1,rowSelection:a,expandedRowKeys:t,onExpand:(t,i)=>{t?(this.setState({expandedRowKeys:[i.dnId]}),i.hasLoadedSubDevices||(async(e,t,s,i)=>{const{dn:a}=t,n=await(0,U.Fe)((0,U.U2)(\"/rest/neteco/web/config/device/v1/children-list\",{\"conditionParams.parentDn\":a,\"conditionParams.curPage\":0,\"conditionParams.recordperpage\":500,\"conditionParams.mocTypes\":\"20814,20815,20816,50017,60022,60066,60014,60015,23037,20868\"}));((e,t,s)=>{const{dn:i,intl:a,parentDn:n,communicationName:o,communicationDn:r}=t,l=e.findIndex((e=>e.dn===i)),c=[...e],d={...c[l]},h=t.subDevs;let p=[];if(h){const e=[],t=[];let s=\"Disconnected\";for(let i=0;i<h.length;i++){const a=h[i];20814===h[i].mocId?(e.push(a),\"Connected\"===a.status&&(s=\"Connected\")):t.push({...a,status:a.status,devRunningState:a.status,stationName:d.stationName,stationKey:d.stationKey,devName:a.name,bindUsers:a.paramValues[50017]||j.lH,parentDeviceName:o||d.name,communicationDn:r,parentDn:n})}if(p=p.concat(t),e.length>0){const t=e[0];let a=j.lH;t.paramValues&&t.paramValues[20006]&&(a=t.paramValues[20006]);const r={...t,dn:i,status:s,devRunningState:s,stationName:d.stationName,stationKey:d.stationKey||j.lH,name:`Optimizer(${e.length})`,devName:`Optimizer(${e.length})`,parentDeviceName:o||d.name,parentDn:n,softwareVersion:a,allOpts:e};p.push(r)}}d.children=h?p:void 0,d.hasLoadedSubDevices=!0,c[l]=d,s(c)})(e,{...t,subDevs:0===n.code&&n.data?n.data:void 0,intl:s,communicationName:t.communication?t.communication.name:void 0,communicationDn:t.communication?t.communication.dn:void 0},i)})(s,i,e,(e=>{this.setState({tableData:{...this.state.tableData,list:e}})}))):this.clearExpandedRowKeys()}})};const{intl:t,stationDn:s}=this.props;this.formRef=(0,d.createRef)(),this.inputRef=(0,d.createRef)(),this.state={tableData:{list:[],total:0,page:1,pageSize:10},count:60,liked:!0,loading:!1,checkLoading:!1,codeLoading:!1,pwdConfirmModal:!1,selectConfirmModal:!1,deleteType:1,expandedRowKeys:[],selectedRowKeys:[],selectedRows:[],currentStep:0,nationCode:\"0086\",cellphone:\"***\",email:\"***\",parentDn:s,devStatusMap:{Connected:t.formatMessage({id:\"neteco.pvms.partials.main.dm.devConnected\"}),UnAvailable:t.formatMessage({id:\"pvms.device.status.unavailable\"}),Disconnected:t.formatMessage({id:\"neteco.pvms.partials.main.dm.devDisconnected\"}),Deleted:t.formatMessage({id:\"pvms.device.status.deleted\"}),Initialized:t.formatMessage({id:\"pvms.device.status.initialized\"})},selectPowerCubeDevice:!1,supportEmmaMigrateDelDeviceStatus:!1,isPOWER_M:!1}}componentDidMount(){const{parentDn:e}=this.state;this.setState({loading:!0}),bi(e,{page:1,pageSize:10},(e=>{this.setState({tableData:e}),this.setState({loading:!1})})),(0,U.U2)(\"/rest/plat/smapp/v1/users/user/contact\",{}).then((e=>{const{cellphone:t,email:s,nationCode:i}=e;this.setState({cellphone:t,email:s,nationCode:i})})),(0,aa.ef)({dns:[e]}).then((t=>{const{data:s,success:i}=t;if(i&&s[e]){const{deviceFlag:t}=s[e],i=(0,na.tO)(t,3);this.setState({isPOWER_M:i})}})),this.clearData()}componentWillUnmount(){this.setState=()=>{}}countDown(){const{count:e}=this.state;1===e?this.setState({count:60,liked:!0,codeLoading:!1}):(this.setState({count:e-1,liked:!1}),setTimeout(this.countDown.bind(this),1e3))}render(){const{intl:e,isViewMode:t}=this.props,{selectedRowKeys:s,pwdConfirmModal:i,selectConfirmModal:a,deleteType:o,checkLoading:r,codeLoading:l,currentStep:d,nationCode:h,cellphone:p,email:v,liked:y,count:S,tableData:{total:b,page:C,pageSize:x},selectPowerCubeDevice:D,supportEmmaMigrateDelDeviceStatus:M}=this.state,w={display:\"block\",height:\"30px\",lineHeight:\"30px\"},N=(0,xi.Z)(e),I=ta()(N,(e=>e.value===h));let T,P=\"+86\";return I&&I.label.substring(I.label.lastIndexOf(\" \")+1),y?e.formatMessage({id:\"neteco.pvms.nologin.findpwd.tips.vercode\"}):e.formatMessage({id:\"neteco.pvms.smapp.regainverifycode.btn.label\"},{0:S}),T=0===s.length?e.formatMessage({id:\"ncoPvToolbar.tip.selectDevice\"}):this.deleteButtonDisable()?e.formatMessage({id:\"neteco.pvms.device.delete.onlychargeMeter.information\"}):null,(0,f.jsxs)(\"div\",{className:\"nco-simple-pv-container\",children:[(0,f.jsx)(\"div\",{className:\"nco-pv-toolbar\",children:(0,f.jsx)(_.Z,{title:T,children:(0,g.lVp)(g.zVX)&&!t&&(0,f.jsx)(m.Z,{disabled:this.deleteButtonDisable(),onClick:()=>{this.deleteHandler()},children:(0,f.jsx)(u.Z,{id:\"common.button.delete\"})})},\"delete\")}),(0,f.jsx)(\"div\",{className:\"nco-pv-main-table-wrapper\",children:this.buildTable()}),(0,f.jsx)(ni.Z,{size:\"small\",total:b,showSizeChanger:!0,showTotal:(0,Ci.Z)(e),pageSize:x,current:C,pageSizeOptions:[\"10\",\"20\",\"30\",\"50\",\"100\"],onChange:this.onChangePage}),(0,f.jsxs)(ai.Z,{title:e.formatMessage({id:\"neteco.pvms.button.permanentlyDelete\"}),centered:!0,maskClosable:!1,className:\"nco-delete-device-check-modal\",destroyOnClose:!0,visible:i,onCancel:this.closeModal,footer:null,width:\"45rem\",children:[(0,f.jsx)(\"div\",{className:\"delete-steps\",children:(0,f.jsxs)(c.Z,{size:\"small\",current:d,children:[(0,f.jsx)(ra,{subTitle:e.formatMessage({id:\"neteco.pvms.smapp.audit.check.value\"})}),ca,(0,f.jsx)(ra,{subTitle:e.formatMessage({id:\"neteco.pvms.inspect.inspectObj.lastResult.2\"})})]})}),(0,f.jsxs)(\"div\",{className:\"nco-pwd-confirm\",children:[(0,f.jsxs)(n.Z,{layout:\"horizontal\",ref:this.formRef,children:[0===d&&(0,f.jsx)(n.Z.Item,{labelCol:{span:6},wrapperCol:{span:13},name:\"pwdConfirm\",className:\"pwdConfirm\",label:e.formatMessage({id:\"ncoEnterpriseInfo.label.mailPwd\"}),rules:[{required:!0,message:e.formatMessage({id:\"neteco.pvms.systemSetting.inputPassward\"})}],children:(0,f.jsx)(Z.Z,{type:\"password\",ref:this.inputRef,onKeyDown:e=>this.onKeyDownchange(e),allowClear:!0,autoComplete:\"new-password\",onCopy:e=>{e.preventDefault()},onCut:e=>{e.preventDefault()}})}),ca]}),ca,(0,f.jsxs)(\"div\",{className:\"flexBtn\",style:{display:\"flex\",justifyContent:\"flex-end\"},children:[(0,f.jsx)(m.Z,{type:\"primary\",onClick:this.closeModal,children:e.formatMessage({id:\"common.button.cancel\"})}),(0,f.jsx)(m.Z,{loading:r,onClick:this.pwdConfirm,style:{marginLeft:\"1rem\"},children:e.formatMessage({id:\"neteco.pvms.main.hhsrc.comfirm\"})})]})]})]}),(0,f.jsxs)(ai.Z,{title:e.formatMessage({id:\"neteco.pvms.unbind_or_delete_device\"}),centered:!0,maskClosable:!1,className:\"nco-delete-device-select-type-modal\",destroyOnClose:!0,visible:a,onCancel:this.closeSelectModal,onOk:()=>this.comfirmSelectType(),width:\"30rem\",children:[(0,f.jsxs)(\"div\",{className:\"select-type-area\",children:[!D&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(Jt.ZP,{name:\"radiogroup\",onClick:this.changeDeleteType,checked:1===o,style:w,value:1,children:e.formatMessage({id:\"neteco.pvms.configuration.unbindDev\"})}),(0,f.jsx)(\"div\",{className:\"delete-type-tip\",children:e.formatMessage({id:\"neteco.pvms.unbind_device.tip\"})})]}),(0,f.jsx)(Jt.ZP,{name:\"radiogroup\",onClick:this.changeDeleteType,checked:2===o,style:w,disabled:!(0,g.lVp)(g.ItM),value:2,children:e.formatMessage({id:\"common.button.delete\"})}),(0,f.jsx)(\"div\",{className:\"delete-type-tip\",children:e.formatMessage({id:\"neteco.pvms.delete.device.permanent.tip\"})})]}),(0,f.jsxs)(\"div\",{className:\"reset-pwd-tip\",children:[(0,f.jsx)(\"img\",{src:\"/pvmswebsite/assets/build/images/home/tipsIcon.png\",className:\"reset-pwd-tip-icon\"}),M?e.formatMessage({id:\"neteco.pvms.device.management.emma.network.reconstruction.delete.device.new.tip\"},{service:\"EMMA\"}):e.formatMessage({id:\"neteco.deviceManagement.deleteDevice.resetPassword\"})]})]})]})}}const ha=(0,a.ZP)((0,oi.EN)(da)),{pvSignals:pa}=Le.ZP,{BASIC_INFO:ma,BOUND_DEVICES:ua,CAPACITY:va,PRICE:ga,OTHER_INFO:fa,DEVICE_INFO:ya,ARCHIVE_ALBUM:Sa}=v.l2.TAB_KEYS,ba={labelCol:{sm:{span:7}},wrapperCol:{sm:{span:13}}},Ca=(e,t,s,i)=>(0,f.jsx)(L.Z,{dot:!0,style:{visibility:-1!==i[t].indexOf(!0)?\"visible\":\"hidden\"},title:s.formatMessage({id:\"neteco.pvms.stationInfo.modifyStation.badge.title\"}),children:s.formatMessage({id:e})}),xa={createOtherInfoStep:e=>{const{intl:t,site:s,onImageChange:i,setContentChanged:a,timeZoneList:n,supportMap:o,isModifyMode:r,isViewMode:l,form:c,mountedDn:d,selectedCompany:h,gridTime:p,isShareStation:m,areaList:u,monitorTablePanelChange:v,isShowStationLayoutChecked:y,isShowStationLayoutOnchange:S,stationLayoutDisplaySwitch:b,getSelectedPlan:C}=e;return{key:fa.tabKeyName,title:Ca(\"neteco.pvms.stationInfo.addStation.otherInfo\",5,t,v),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(we,{disabled:m||!(0,g.lVp)(g.gDj)||l,form:c,isShareStation:m,formItemLayout:ba,intl:t,record:s||{},mountedDn:d,selectedCompany:h,onImageChange:i,setContentChanged:a,timeZoneList:n||[],supportMap:o||{},areaList:u||[],isModifyMode:r,gridTime:p,isShowStationLayoutChecked:y,isShowStationLayoutOnchange:S,stationLayoutDisplaySwitch:b,getSelectedPlan:C})})}},createBasicInfoStep:e=>{const{intl:t,site:s,stationName:i,isShareStation:a,siteBoundDevices:n=[],monitorTablePanelChange:o,isViewMode:r,getAgreeDetailStatus:l}=e;return{key:ma.tabKeyName,title:Ca(\"neteco.pvms.smsrc.updateStation_basic\",0,t,o),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(Qt,{disabled:a||!(0,g.lVp)(g.FyL)||r,...e,formItemLayout:ba,record:s||{},currentStationName:i,siteBoundDevices:n.map(((e,t)=>({...e,count:-(t+1)}))),getAgreeDetailStatus:l})})}},createBoundDevicesStep:e=>{const{intl:t,site:s,siteBoundDevices:i=[],selectedDevices:a,isModifyMode:o,isViewMode:r,setContentChanged:l,isShareStation:c,form:d,isPureCharge:h,setPureCharge:p,haveUnChargeDevice:m,setUnChargeDevice:u,monitorTablePanelChange:v}=e;return{key:ua.tabKeyName,title:Ca(\"neteco.pvms.stationInfo.addStation.bingDev\",1,t,v),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(n.Z.Item,{name:\"boundDevices\",children:(0,f.jsx)(As,{form:d,disabled:c||!(0,g.lVp)(g.zVX)||r,isModifyMode:o,selectedDevices:a,site:s,setContentChanged:l,isPureCharge:h,setPureCharge:p,haveUnChargeDevice:m,setUnChargeDevice:u,siteBoundDevices:i.map(((e,t)=>({...e,count:-(t+1)})))})})})}},createPvCapacityStep:e=>{const{intl:t,devices:s,isModifyMode:i,isViewMode:a,siteBoundDevices:o,isShareStation:r,site:l={},monitorTablePanelChange:c}=e,{dn:d}=l,h=l[21030],p=(i?o:s).map((e=>{let t=[];if(i){const s=pa.map((t=>{const s=e.paramValues?e.paramValues[`${t}`]:0,i=parseFloat(s);return i>0?i:0})),i=[].concat(s).reverse().findIndex(((e,t,s)=>s[t]>0));t=t.concat(i>=0?s.slice(0,s.length-i):[])}return{...e,key:e.esn,name:e.deviceName,type:e.deviceType?e.deviceType.devId:\"-\",typeName:e.deviceType?e.deviceType.devName:\"-\",esn:e.esn,capacity:e.pvCapacity/1e3||\"-\",pvCapacities:t}}));return{key:va.tabKeyName,title:Ca(\"neteco.pvms.stationInfo.addStation.capacitySetting\",2,t,c),content:e=>(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(n.Z.Item,{name:\"pvCapacity\",rules:[],initialValue:{data:p},children:(0,f.jsx)(si,{tabKeyName:e,data:p,isModifyMode:i,pvDeviceList:p,disabled:r||!(0,g.agq)([g.zVX,g.Vcd])||a,stationDn:d,stationCapacity:h})})})}},createPriceSettingStep:e=>{const{intl:t,site:s,selectedCompany:i,setContentChanged:a,isShareStation:o,isGroundStation:r,shareStationCompanyDetail:l,isModifyMode:c,isViewMode:d,mountedDn:h,monitorTablePanelChange:p,form:m}=e;let u;if(i){const{elementDn:e}=i;e&&(u=e)}else u=h||\"/\";return{key:ga.tabKeyName,title:Ca(\"neteco.pvms.smsrc.updateStation_price\",3,t,p),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(n.Z.Item,{name:\"price\",children:s&&s.dn?(0,f.jsx)(ii.Q,{stationDn:s.dn,parentDn:u,setContentChanged:a,disabled:o||!(0,g.lVp)(g.E0$)||d,shareStationCompanyDetail:l,isModifyMode:c,isGroundStation:r,form:m}):(0,f.jsx)(ii.Q,{setContentChanged:a,parentDn:u,disabled:o||!(0,g.lVp)(g.E0$)||d,shareStationCompanyDetail:l,isModifyMode:c,isGroundStation:r,form:m})})})}},createDeviceListStep:e=>{const{intl:t,site:s={},isViewMode:i}=e;return{key:ya.tabKeyName,title:t.formatMessage({id:\"neteco.pvms.thirdInterface.src.devList\"}),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(ha,{isViewMode:i,stationDn:s.dn})})}},createArchiveStep:e=>{const{intl:t,form:s,site:i={},setAlbumList:a,archiveAlbum:n,newSnUpdate:o,monitorTablePanelChange:r,setInstallEnv:l,installEnv:c,resetMonitorTablePanelChange:d,currentTabKey:h,setAllDeviceSn:p,isShareStation:m,isViewMode:u,getOriginInstallEnv:v}=e,{dn:g}=i;return{key:Sa.tabKeyName,title:Ca(\"ncoStationContainer.tabs.label.archive\",4,t,r),content:(0,f.jsx)(\"div\",{className:\"nco-form-item-wrapper\",children:(0,f.jsx)(os,{intl:t,form:s,dn:g,setAlbumList:a,archiveAlbum:n,devices:o,setInstallEnv:l,installEnv:c,resetMonitorTablePanelChange:d,currentTabKey:h,setAllDeviceSn:p,isViewMode:u||m,getOriginInstallEnv:v})})}}};var Da=s(16910),Ma=s(65835);const{changeBasicCurrentStationName:wa,changeBasicCurrentGridtime:Na,updateModalTableSubject:Ia,changeCompany:Ta,removeNewDeviceListSubject:Pa,validateDeviceListSubject:ja}=T.Z,{createOtherInfoStep:Ea,createBasicInfoStep:La,createBoundDevicesStep:ka,createPvCapacityStep:Aa,createPriceSettingStep:Za,createDeviceListStep:Va,createArchiveStep:Oa}=xa,{operationWarn:Ra,operationConfirm:_a}=E.Z,{Step:Fa}=c.Z,{TabPane:Ha}=l.Z,{neteco:Ua}=window,{BASIC_INFO_REQUIRED_KEYS:Ba,OTHER_INFO_REQUIRED_KEYS:Ka}=v.l2.REQUIRED_FIELD_KEYS,{BASIC_INFO:za,BOUND_DEVICES:Wa,OTHER_INFO:$a,CAPACITY:Ya,PRICE:Ga,ARCHIVE_ALBUM:qa}=v.l2.TAB_KEYS,{LINKMAN_PHONE:Qa,ISSHOW_STATION_LAYOUT:Ja,STATION_TYPE:Xa}=v.l2.CONFIG_SIGNAL_KEYS,en=(0,ft.Jm)().some((e=>{let{name:t}=e;return t===ft.xZ.owner})),{accessId:tn,leaveId:sn,pageName:an}=Ze.e.stationDetailView;class nn extends d.Component{constructor(e){var t,s;super(e),t=this,this.formRef=d.createRef(),this.setPureCharge=(e,t)=>{if(t){const{isShareStation:e,loadStationInfo:t,loadShareStationInfo:s,selectedSites:i}=this.props;setTimeout((()=>{e?t(i[0]):s(i[0])}),400)}this.setState({isPureCharge:e})},this.setUnChargeDevice=e=>{const{currentTabKey:t,monitorTablePanelChange:s}=this.state,i=this.formRef.current;t===za.tabKeyName&&e&&\"1\"===(null==i?void 0:i.getFieldValue(\"pureCharge\"))&&(s[0][1]=!1),this.setState({haveUnChargeDevice:e,monitorTablePanelChange:s})},this.setIsGroundStation=e=>{this.setState({isGroundStation:e})},this.changeStationName=e=>{this.setState({stationName:e})},this.changeGridTime=e=>{this.setState({gridTime:e})},this.getGlobalSwitch=()=>{(0,U.U2)(\"/rest/dp/iot/medroute/v1/pvms/first-login/global-switch\").then((e=>{var t;0===e.code&&1===(null===(t=e.data)||void 0===t?void 0:t.switch)&&this.setState({globalSwitch:!0})})).catch((()=>{}))},this.showPasswordModal=()=>{this.setState({shouldShowPasswordModal:!0})},this.closePasswordModal=e=>{this.setState({shouldShowPasswordModal:!1},e)},this.setPassword=e=>{this.setState({password:e})},this.isInit=!0,this.setContentChanged=e=>{this.setState({isContentChanged:e||!0})},this.onImageChange=e=>{this.formRef.current.setFieldsValue({image:e,hasLogoChange:!0})},this.warn=()=>{const{intl:e}=this.props;Ra(e,(0,f.jsxs)(\"div\",{children:[(0,f.jsxs)(\"p\",{children:[\"1.\",\" \",e.formatMessage({id:\"neteco.pvms.stationInfo.addStation.snInvalid\"})]}),(0,f.jsxs)(\"p\",{children:[\"2.\",\" \",e.formatMessage({id:\"neteco.pvms.stationInfo.addStation.DevBinded\"})]}),(0,f.jsxs)(\"p\",{children:[\"3.\",\" \",e.formatMessage({id:\"neteco.pvms.device.management.not_exists\"})]}),(0,f.jsxs)(\"p\",{children:[\"4.\",\" \",e.formatMessage({id:\"neteco.pvms.stationInfo.addStation.validRegisterError.-100\"})]})]}))},this.next=e=>{const{intl:t,allDeviceSn:s}=this.props,{isInFreezePeriod:i}=this.state,a=this.formRef.current;if(i)return;const{current:n,currentTabKey:o}=e,r=()=>{this.setState({current:n+1,isInFreezePeriod:!0}),setTimeout((()=>{this.setState({isInFreezePeriod:!1})}),333)};if(o===za.tabKeyName)a.validateFields([...Ba,\"contact\"]).then((()=>{r()})).catch(ie.mz);else if(o===Wa.tabKeyName){const{devices:e,devicesConfig:s}=this.props,{globalSwitch:i,password:a}=this.state;if(this.checkValidateSnConflict(e,s,t))return;if(this.checkDeviceTypeInconsistent(e,s,t))return;i&&(null==e?void 0:e.length)>0&&void 0===a?this.showPasswordModal():ja.next({switchNext:r,warn:()=>{this.warn()}})}else if(o===Ga.tabKeyName){const e=a.getFieldValue(\"price\");(0,ke.af)(e,[],t)&&r()}else o===Ya.tabKeyName?this.state.stationPvError||r():o===qa.tabKeyName?a.validateFields(s).then((()=>{r()})):o===$a.tabKeyName?a.validateFields(Ka).then((()=>{r()})):r()},this.prev=e=>{const{current:t}=e;this.setState({current:t-1});const s=this.formRef.current;if(3===t){const e=[\"area\",\"stationAddress\",\"safeRunningDate\",\"introduction\",\"timeCode\",\"subscriptionTime\"];s.setFields(e.map((e=>({name:e,errors:[]}))))}},this.reset=()=>{const e=za.tabKeyName;this.setState({current:0,currentTabKey:e,data:{}})},this.cancel=()=>{this.reset(),this.props.resetPovertySupportState(),I.wb.next();const{callbacks:e}=this.props;e&&e.cancelCallbacks&&e.cancelCallbacks.forEach((e=>e()))},this.getAllDeviceList=e=>{const t=[];return Array.isArray(e)?(e.forEach((e=>{var s;t.push(e),((null===(s=e.deviceList)||void 0===s?void 0:s.filter((t=>t.esn!==e.esn)))||e.subDevs).forEach((e=>{const{esn:s}=e;s&&\"-\"!==s&&t.push(e)}))})),t):t},this.duplicateArr=(e,t)=>{let s=[];return e.forEach((i=>{t.includes(i)&&s.push(i),e.indexOf(i)!==e.lastIndexOf(i)&&-1===s.indexOf(i)&&s.push(i)})),s},this.isAddDongle=(e,t,s)=>{if((0,ft.jA)())return!1;const i=t.filter((t=>e.includes(t.esn))),a=s.filter((t=>e.includes(t.esn)));if(i.length!==a.length)return!1;if(i.find((e=>!v.XL.includes(e.devTypeId))))return!1;if(a.find((e=>!(0,ce.Zr)(e.mocId))))return!1;const n=i.filter((e=>e.parentEsn)).map((e=>e.parentEsn)),o=a.filter((e=>e.parentDn)).map((e=>e.parentDn));if((0,fe.xb)(n)||!(0,fe.xb)(s.filter((e=>o.includes(e.dn)))))return!1;const r=t.filter((e=>n.includes(e.esn)));return!r.find((e=>!(0,ce.Ou)(\"\",e.devTypeId)))&&!r.some((e=>e.subDevs.length>1))},this.checkDeviceTypeInconsistent=(e,t,s)=>{const i=this.getAllDeviceList(e).map((e=>e.devTypeId));let a=[];a=t&&t.siteBoundDevices&&t.siteBoundDevices.length>0?[...this.getAllDeviceList(t.siteBoundDevices).map((e=>e.typeId)),...i]:i;const n=a.some((e=>e!==v.LL));return!!(a.length>1&&n&&a.includes(v.LL))&&(Ra(s,s.formatMessage({id:\"neteco.pvms.stationInfo.addStation.powerCubeDeviceTypeInconsistent\"})),!0)},this.isDeviceHems=e=>\"EMMA\"===(null==e?void 0:e.deviceType)||(0,Da.lS)(null==e?void 0:e.mocId),this.hasSameHemsDevice=(e,t)=>{let s=0;const i=t.length;for(let a=0;a<i;a++){const n=t[a];if(n.esn===e){if(this.isDeviceHems(n))return!0;for(let e=0;e<i;e++){const i=t[e];if(n.parentDn!==i.dn&&n.parentEsn!==i.esn||!this.isDeviceHems(i)||(s+=1),s>=2)return!0}if(s>=2)return!0}}return s>=2},this.checkHemsValidateSnConflict=(e,t)=>{const s=(e||[]).filter((e=>this.isDeviceHems(e)));if(0===s.length)return!1;const i=this.getAllDeviceList(e);if(this.duplicateArr(i.map((e=>e.esn)),[]).length>0)return!0;const a=this.getAllDeviceList(s),n=a.concat(t),o=a.map((e=>e.esn)),r=t.map((e=>e.esn)),l=this.duplicateArr(o,r),c=l.length;for(let e=0;e<c;e++)if(this.hasSameHemsDevice(l[e],n))return!0;return!1},this.checkValidateSnConflict=(e,t,s)=>{const i=(e||[]).filter((e=>!this.isDeviceHems(e))),a=this.getAllDeviceList(i);let n=[];t&&t.siteBoundDevices&&t.siteBoundDevices.length>0&&(n=this.getAllDeviceList(t.siteBoundDevices));const o=a.map((e=>e.esn)),r=n.map((e=>e.esn)),l=this.duplicateArr(o,r);return!!(l.length>0&&!this.isAddDongle(l,a,n)||this.checkHemsValidateSnConflict(e,n))&&(Ra(s,s.formatMessage({id:\"neteco.pvms.boundDevice.removeConflictDevice\"})),!0)},this.checkDeviceListCrossRegion=e=>{let t=!1;for(const s of e)if(s.isTransshipment){t=!0;break}return t},this.save=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const{onSubmit:i,intl:a,devices:n,selectedSites:o,isModifyMode:l,handHomeCallback:c,selectedSingleSite:d,savingConfig:h,applyingConfig:p,devicesConfig:m,callbacks:u,archiveAlbum:v,allDeviceSn:g,installEnv:f}=t.props,{resetMonitorTablePanelChange:y}=t,{selectedCompany:S,isPureCharge:b}=t.state,{currentTabKey:C,globalSwitch:x,password:D,isShowStationLayoutChecked:M,stationLayoutDisplaySwitch:w}=t.state,N=t.formRef.current,I=()=>{const r=e?h:p;let I;if(l){if(I=(()=>{if(C===za.tabKeyName)return Ba;if(C===$a.tabKeyName)return[...Ka];if(C===Wa.tabKeyName){let e=!0;if(ja.next({warn:()=>{t.warn(),e=!1}}),!e||t.checkDeviceListCrossRegion(n))return}if(C===qa.tabKeyName){let e=!0;if(ja.next({warn:()=>{t.warn(),t.switchTabPane(Wa.tabKeyName),e=!1}}),!e||t.checkDeviceListCrossRegion(n))return;return g}return[]})(),!I)return}else I=t.steps.some((e=>e.key===$a.tabKeyName))?[...Ba,...Ka]:Ba;const T=N.getFieldsValue(),{deletePovertyObject:P,loadStationInfo:j,loadShareStationInfo:E,isShareStation:L}=t.props;if(t.checkDeviceListCrossRegion(n))return Ra(a,a.formatMessage({id:\"neteco.pvms.intelAlarm.crossRegion.selectTip.new\"}));if(t.checkValidateSnConflict(n,m,a))return;if(t.checkDeviceTypeInconsistent(n,m,a))return;if(x&&(null==n?void 0:n.length)>0&&void 0===D)return void t.showPasswordModal();const k={...T};l&&C===za.tabKeyName&&(N.getFieldValue(\"stationName\")===Ua.util.iUnescape(t.state.stationName)&&(k.stationName=void 0),N.getFieldValue(\"phone\")===Ua.util.iUnescape(t.props.selectedSites[0][Qa])&&(k.phone=void 0)),\"1\"===b&&(k.pvCapacity={data:[]}),N.validateFields(I).then((()=>{const l={form:N,intl:a,devices:n,selectedSites:o,handHomeCallback:c,currentTabKey:C,selectedSingleSite:d,fieldsValue:k,...r,...m,...u,deletePovertyObject:P,selectedCompany:S,closeModal:e,resetMonitorTablePanelChange:y,switchCallBack:s,isShowStationLayoutChecked:M,stationLayoutDisplaySwitch:w};i(l,t.state.password,v,f,g),e||setTimeout((()=>{L?j(o[0]):E(o[0])}),400)})).catch(ie.mz)};if(C===za.tabKeyName){const e=N.getFieldValue(\"remoteOnOff\"),t=N.isFieldTouched(\"remoteOnOff\");N.validateFields([\"remoteOnOff\"]).then((()=>{e&&t?r.Z.confirm({title:a.formatMessage({id:\"neteco.pvms.info\"}),content:a.formatMessage({id:\"neteco.pvms.station.nmi.infoMessage\"}),okText:a.formatMessage({id:\"neteco.pvms.confirm\"}),cancelText:a.formatMessage({id:\"neteco.pvms.systemSetting.tclean\"}),centered:!0,maskClosable:!1,onOk:()=>{I()}}):I()}))}else I()},this.closeHandle=e=>{const{intl:t,selectedSites:s}=this.props,{currentTabKey:i,monitorTablePanelChange:a}=this.state;this.validWhetherChange(a,s,i)?_a(t,t.formatMessage({id:\"neteco.pvms.create.station.bind.device.not.save\"}),(()=>{this.save(!0)}),(()=>{e()})):e()},this.validWhetherChange=(e,t,s,i)=>{const{newSnUpdate:a}=this.props;if(!(e&&t&&t.length>0))return!1;if(\"basicInformation\"===s)return-1!==e[0].indexOf(!0);if(\"devices\"===s){let t=-1!==e[1].indexOf(!0);return(!t||!a.length||i!==qa.tabKeyName)&&t}return\"capacity\"===s?-1!==e[2].indexOf(!0):\"price\"===s?-1!==e[3].indexOf(!0):s===qa.tabKeyName?i!==Wa.tabKeyName&&(e[1][0]||e[4][0]):\"otherInformation\"===s?-1!==e[5].indexOf(!0):void 0},this.isShowStationLayoutOnchange=e=>{this.setState({isShowStationLayoutChecked:e})},this.resetMonitorTablePanelChange=e=>{const{monitorTablePanelChange:t}=this.state;t[e]=1===e||2===e||3===e||4===e?[!1]:0===e?[!1,!1,!1,!1,!1,!1,!1]:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],3===e&&I.WU.next(),this.setState({monitorTablePanelChange:t})},this.switchTabPane=e=>{const t=this.formRef.current,{intl:s,selectedSites:i,setInstallEnv:a}=this.props,{currentTabKey:n,monitorTablePanelChange:r}=this.state;if(this.validWhetherChange(r,i,n,e)){const{applyingConfig:i,savingConfig:l}=this.props;null!=i&&i.isApplying||null!=l&&l.isSaving?o.ZP.info(s.formatMessage({id:\"neteco.pvms.create.station.applying\"})):_a(s,s.formatMessage({id:\"neteco.pvms.create.station.bind.device.not.save\"}),(()=>{this.save(!1,(()=>{this.setState({currentTabKey:e,shouldCheckFieldsChanged:!0})}))}),(()=>{switch(n){case za.tabKeyName:this.resetMonitorTablePanelChange(0),t.resetFields([\"stationType\",\"pureCharge\",\"stationName\",\"gridTime\",\"phone\",\"contact\",\"aidType\"]),me.next();break;case Wa.tabKeyName:this.resetMonitorTablePanelChange(1),t.resetFields([\"boundDevices\"]),t.setFieldsValue({boundDevices:{...t.getFieldValue(\"boundDevices\"),haveNewDeviceToSave:!1}}),Pa.next(),r[4][0]&&e!==qa.tabKeyName&&this.resetMonitorTablePanelChange(4);break;case Ya.tabKeyName:this.resetMonitorTablePanelChange(2),t.resetFields([\"pvCapacity\"]),t.setFieldsValue({pvCapacity:{...t.getFieldValue(\"pvCapacity\"),hasCurrentPageChanged:!1}});break;case Ga.tabKeyName:this.resetMonitorTablePanelChange(3),I.tb.next();break;case qa.tabKeyName:a(null),this.resetMonitorTablePanelChange(4),r[1][0]&&e!==Wa.tabKeyName&&(this.resetMonitorTablePanelChange(1),t.resetFields([\"boundDevices\"]),t.setFieldsValue({boundDevices:{...t.getFieldValue(\"boundDevices\"),haveNewDeviceToSave:!1}}),Pa.next());break;case $a.tabKeyName:this.resetMonitorTablePanelChange(5),t.resetFields(Ka),ue.next()}this.switchPostOperation(t,n,e)}))}else this.switchPostOperation(t,n,e)},this.switchPostOperation=(e,t,s)=>{t===Wa.tabKeyName&&setTimeout((()=>{Ia.next()}),200),this.setState({currentTabKey:s,shouldCheckFieldsChanged:!0})},this.getOriginInstallEnv=e=>{this.setState({originInstallEnv:e})},this.basicInfoChange=(e,t,s,i)=>{let a=[...i];for(let i=0;i<s.length;i++)switch(s[i]){case\"stationType\":a[0]=e.stationType!==t[Xa]&&Object.values(ct).includes(e.stationType);break;case\"pureCharge\":\"1\"===t[25009]&&e.pureCharge?a[1]=e.pureCharge!==t[25010]:a[1]=!1;break;case\"stationName\":a[2]=e.stationName&&e.stationName!==t[33595393];break;case\"gridTime\":a[3]=e.gridTime&&e.gridTime.format(\"YYYY-MM-DD HH:mm:ss\")!==t[21007];break;case\"phone\":a[4]=e.phone&&e.phone!==t[21026];break;case\"contact\":a[5]=e.contact&&e.contact!==t[21025];break;case\"aidType\":a[6]=e.aidType&&e.aidType!==t[21020]}return a},this.otherInfoChange=(e,t,s,i)=>{let a=[...i],n=new Map;n.set(\"stationAddress\",(()=>{a[0]=e.stationAddress&&e.stationAddress.address!==t[21022]})),n.set(\"lonlat\",(()=>{var s,i,n,o,r,l,c;a[1]=e.stationAddress&&((null===(s=e.stationAddress)||void 0===s||null===(i=s.center)||void 0===i||null===(n=i.lat)||void 0===n||null===(o=n.toFixed(6))||void 0===o?void 0:o.toString())!==t[21014]||e.stationAddress&&(null===(r=e.stationAddress)||void 0===r||null===(l=r.center)||void 0===l||null===(c=l.lng.toFixed(6))||void 0===c?void 0:c.toString())!==t[21013])})),n.set(\"area\",(()=>{a[2]=e.area&&e.area.toString()!==t[21019]})),n.set(\"safeRunningDate\",(()=>{a[3]=e.safeRunningDate&&e.safeRunningDate.format(\"YYYY-MM-DD HH:mm:ss\")!==t[21012]})),n.set(\"introduction\",(()=>{a[4]=e.introduction&&e.introduction!==t[21024]})),n.set(\"image\",(()=>{a[5]=e.image&&e.image!==t[21021]})),n.set(\"timeCode\",(()=>{a[6]=e.timeCode&&e.timeCode.toString()!==t[21023]})),n.set(\"daylight\",(()=>{a[7]=e.daylight&&\"0\"===t[21032]||!e.daylight&&\"1\"===t[21032]})),n.set(\"existLoad\",(()=>{a[8]=e.existLoad&&\"0\"===t[21031]||!e.existLoad&&\"1\"===t[21031]})),n.set(\"subscriptionTime\",(()=>{a[9]=e.subscriptionTime&&e.subscriptionTime!==t[21033]})),n.set(\"administrativeDistrict\",(()=>{a[10]=e.administrativeDistrict&&e.administrativeDistrict.toString()!==t[21034]})),n.set(\"isSyncHistoryData\",(()=>{a[11]=e.isSyncHistoryData&&\"0\"===t[21035]||!e.isSyncHistoryData&&\"1\"===t[21035]}));for(let e=0;e<s.length;e++){let t=n.get(s[e]);t&&t()}return a},this.onValuesChange=function(e){var s;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{selectedSites:a}=t.props,{currentTabKey:n,monitorTablePanelChange:o,haveUnChargeDevice:r,originInstallEnv:l}=t.state,c=i||(null===(s=t.formRef.current)||void 0===s?void 0:s.getFieldsValue());if(!(c&&a&&a.length>0))return!1;{let s=a[0];\"basicInformation\"===n?o[0]=t.basicInfoChange(c,s,Object.keys(e),o[0],r):\"devices\"===n?o[1][0]=c.boundDevices&&c.boundDevices.haveNewDeviceToSave:\"capacity\"===n?o[2][0]=c.pvCapacity&&c.pvCapacity.hasCurrentPageChanged:\"price\"===n?o[3][0]=c.price&&c.price.changed:n===qa.tabKeyName?o[4][0]=l!==e.installEnv:\"otherInformation\"===n&&(o[5]=t.otherInfoChange(c,s,Object.keys(e),o[5])),t.setState({monitorTablePanelChange:o})}},this.buildSteps=()=>{const e=this.formRef.current,{intl:t,isModifyMode:s,isViewMode:i,selectedSites:a,changeStationCompany:n,devicesConfig:o,savingConfig:r,devices:l,timeZoneList:c,supportMap:d,checkHasPoverty:h,deletePovertyObject:p,loadCompanySupportPoverty:m,companySupportPoverty:u,company:v,userCompany:f,mountedDn:y,isShareStation:S,shareStationCompanyDetail:b,areaList:C,hasPovertyLicense:x,setAlbumList:D,archiveAlbum:M,newSnUpdate:w,setInstallEnv:N,installEnv:I,setAllDeviceSn:T,stationLayoutDisplayStatus:P,selectSmartDesignPlans:j,getSelectedPlan:E}=this.props,{current:L,currentTabKey:k,selectedCompany:A,stationName:Z,gridTime:V,isPureCharge:O,isGroundStation:R,isOldEelctricityVersion:_,haveUnChargeDevice:F,monitorTablePanelChange:H,supportArchive:U,isShowStationLayoutChecked:B,stationLayoutDisplaySwitch:K}=this.state;return(e=>{const{selectedSites:t=[],isModifyMode:s}=e;let i={};return 1===t.length&&(i=t[0],e.site=i),s?(e=>{const{isShareStation:t,isPureCharge:s,supportArchive:i}=e,a=[];return(0,g.lVp)(g.D_d)?(a.push(La(e)),a.push(ka(e)),\"1\"!==s&&(a.push(Aa(e)),a.push(Za(e))),Ne.MJ&&i&&a.push(Oa(e)),a.push(Ea(e)),(en||(0,ft.EV)())&&!t&&a.push(Va(e)),a):a})(e):(e=>{const{isPureCharge:t,supportArchive:s}=e;if(!(0,g.lVp)(g.hXL))return[];let i=[La(e),ka(e)];return\"1\"!==t&&i.push(Aa(e)),Ne.MJ&&s&&i.push(Oa(e)),i.push(Ea(e)),i})(e)})({intl:t,isModifyMode:s,isViewMode:i,selectedSites:a,devices:l,currentTabKey:k,current:L,changeStationCompany:n,...r,...o,timeZoneList:c,supportMap:d,checkHasPoverty:h,deletePovertyObject:p,loadCompanySupportPoverty:m,companySupportPoverty:u,selectedCompany:A,company:v,form:e,stationName:Z,userCompany:f,gridTime:V,mountedDn:y,isShareStation:S,shareStationCompanyDetail:b,areaList:C,hasPovertyLicense:x,isGroundStation:R,isPureCharge:O,isOldEelctricityVersion:_,haveUnChargeDevice:F,monitorTablePanelChange:H,setAlbumList:D,archiveAlbum:M,newSnUpdate:w,setInstallEnv:N,installEnv:I,setAllDeviceSn:T,supportArchive:U,isShowStationLayoutChecked:B,stationLayoutDisplaySwitch:K,setContentChanged:this.setContentChanged,onImageChange:this.onImageChange,setPureCharge:this.setPureCharge,setIsGroundStation:this.setIsGroundStation,setUnChargeDevice:this.setUnChargeDevice,resetMonitorTablePanelChange:this.resetMonitorTablePanelChange,getOriginInstallEnv:this.getOriginInstallEnv,onChange:this.onValuesChange,isShowStationLayoutOnchange:this.isShowStationLayoutOnchange,getAgreeDetailStatus:this.getAgreeDetailStatus,selectSmartDesignPlans:j,getSelectedPlan:E})},this.getAgreeDetailStatus=e=>{this.setState({agreeDetailStatus:e})},this.state={current:0,currentTabKey:null!==(s=null==e?void 0:e.selectTab)&&void 0!==s?s:za.tabKeyName,data:{},isContentChanged:!1,shouldCheckFieldsChanged:!0,selectedCompany:null,gridTime:void 0,isInFreezePeriod:!1,shouldShowPasswordModal:!1,globalSwitch:!1,password:void 0,isPureCharge:\"0\",haveUnChargeDevice:!1,monitorTablePanelChange:[[!1,!1,!1,!1,!1,!1,!1],[!1],[!1],[!1],[!1],[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],defaultForm:{},originInstallEnv:\"2\",supportArchive:!0,isGroundStation:!1,isOldEelctricityVersion:!1,isShowStationLayoutChecked:\"\",stationLayoutDisplaySwitch:!1,agreeDetailStatus:!(!this.props.isModifyMode&&Ne.MJ)},this.steps=[],this.startTime=Ma.$.pageAccess(tn,{pageName:an})}componentDidMount(){const{savingConfig:e,applyingConfig:t,shouldHeadToDevicesPage:s,checkHasPovertyLicense:i,selectSmartDesignPlans:a}=this.props;(0,P.Z)().then((e=>{this.setState({supportArchive:e})})),i();const{isInFreezePeriod:n}=this.state;n&&this.setState({isInFreezePeriod:!1}),e&&e.closeSaving&&e.closeSaving(),t&&t.closeApplying&&t.closeApplying(),s&&setTimeout((()=>{this.setState({currentTabKey:Wa.tabKeyName,isContentChanged:!0})}),300),this.changeCompanySub=Ta.subscribe((e=>{this.setState({selectedCompany:e})})),this.changeBasicCurrentStationName=wa.subscribe((e=>{this.changeStationName(e)})),this.changeBasicCurrentGridtime=Na.subscribe((e=>{this.changeGridTime(e)})),this.setStationError=pe.subscribe((e=>{let{stationPvError:t}=e;this.setState({stationPvError:t})})),this.getGlobalSwitch(),(0,U.U2)(\"/rest/dp/pvms/pvmswebsite/v1/sysconfig/plant-view\").then((e=>{this.setState({stationLayoutDisplaySwitch:e})})),a({})}componentDidUpdate(e){var t;if(null!==(t=this.props.selectedSites)&&void 0!==t&&t.length&&!ds()(this.props.selectedSites[0],e.selectedSites[0])&&this.isInit){const e=this.props.selectedSites[0][Ja];this.setState({isShowStationLayoutChecked:e},(()=>{this.isInit=!1}))}}componentWillUnmount(){Ma.$.pageLeave(this.startTime,sn,{pageName:an}),this.setState=()=>{};const{setAlbumList:e,setInstallEnv:t,setAllDeviceSn:s}=this.props;e([]),t(null),s([]),this.changeCompanySub&&this.changeCompanySub.unsubscribe(),this.changeBasicCurrentStationName&&this.changeBasicCurrentStationName.unsubscribe(),this.changeBasicCurrentGridtime&&this.changeBasicCurrentGridtime.unsubscribe(),this.setStationError&&this.setStationError.unsubscribe()}render(){const{intl:e,isModifyMode:t,isViewMode:s,visible:i,selectedSites:a,devicesConfig:o,savingConfig:d,isShareStation:m,newSnUpdate:u}=this.props,{current:v,currentTabKey:g,monitorTablePanelChange:y,supportArchive:S,agreeDetailStatus:b}=this.state,{isSaving:C}=d;this.steps=this.buildSteps();let x=[],D=!1;if(t){const{applyingConfig:e}=this.props;D=e&&e.isApplying,x=this.steps.map((e=>{let{key:t,title:s,content:i}=e;return{key:t,tab:s,content:i}}))}const M=a&&a.length>0,w={successCallbacks:[this.closePasswordModal],failCallbacks:[],intl:e,selected:null==o?void 0:o.selectedDevices,setPassword:this.setPassword};let I=\"\";return I=s?e.formatMessage({id:\"neteco.pvms.systemSetting.planManage.view\"}):t?e.formatMessage({id:\"neteco.pvms.modify\"}):e.formatMessage({id:\"neteco.pvms.stationInfo.add\"}),(0,f.jsxs)(\"div\",{className:\"nco-create-station\",children:[(0,f.jsxs)(r.Z,{className:\"nco-create-station-modal\",title:I,width:((0,ce.ax)(),\"82rem\"),visible:i,onCancel:()=>{this.closeHandle(this.cancel)},footer:null,destroyOnClose:!0,wrapClassName:\"nco-create-station-modal\",maskClosable:!1,getContainer:()=>document.querySelector(\".nco-create-station\"),children:[t?(0,f.jsx)(n.Z,{ref:this.formRef,name:\"ncoCreateStationForm\",onValuesChange:this.onValuesChange,children:(0,f.jsx)(l.Z,{activeKey:this.state.currentTabKey,onTabClick:this.switchTabPane,className:\"nco-create-station-outer-tabs\",children:x.map((e=>{const t=\"function\"==typeof e.content?e.content(this.state.currentTabKey):e.content;return(0,f.jsx)(Ha,{tab:e.tab,children:M?t:(0,f.jsx)(\"div\",{style:{height:\"35rem\",textAlign:\"center\",lineHeight:\"18rem\"},children:(0,f.jsx)(p.Z,{style:{fontSize:\"2rem\"}})})},e.key)}))})}):(0,f.jsx)(c.Z,{current:v,size:\"small\",progressDot:!0,children:this.steps.map((e=>(0,f.jsx)(Fa,{title:e.title},e.title)))}),!t&&(0,f.jsx)(n.Z,{ref:this.formRef,name:\"ncoCreateStationForm\",initialValues:{installEnv:\"2\"},children:this.steps.map(((e,t)=>{let{key:s,content:i}=e;const a=(0,h.Z)(\"steps-content\",{\"steps-content-visible\":v===t});return(0,f.jsx)(\"div\",{className:a,children:\"function\"==typeof i?i(v):i},s)}))}),(0,f.jsx)(N,{intl:e,saving:C,applying:D,current:v,currentTabKey:g,totalLength:this.steps.length,steps:this.steps,prevHandler:this.prev,nextHandler:this.next,cancelHandler:()=>this.closeHandle(this.cancel),saveHandler:this.save,isModifyMode:t,isViewMode:s,selectedSiteLoaded:M,isShareStationMode:m,newUpdateArchives:u.length&&y[1]&&S,switchTabPane:this.switchTabPane,agreeDetailStatus:b})]}),(0,f.jsx)(ln,{shouldShowPasswordModal:this.state.shouldShowPasswordModal,...w})]})}}const on=(0,a.ZP)(nn);class rn extends d.Component{constructor(e){var t;super(e),t=this,this.newPasswordLabel=this.props.intl.formatMessage({id:\"ncoEnterpriseInfo.label.mailPwd\"}),this.confirmPasswordLabel=this.props.intl.formatMessage({id:\"neteco.pvms.superviseSetting.serviceManage.confirmPsw\"}),this.passwordTipsHelpMessage=this.props.intl.formatMessage({id:\"neteco.device.password.length.tips\"}),this.passwordRepeatHelpMessage=this.props.intl.formatMessage({id:\"neteco.pvms.systemSetting.updatePswTips.checkPswRepeatErrorMsg\"}),this.passwordComplexHelpMessage=this.props.intl.formatMessage({id:\"neteco.pvms.device.password.complex.message2\"}),this.setOkButtonStatus=()=>{if(!this.state.passwordDirty||!this.state.confirmDirty)return void this.setState({okButtonDisabled:!0});const{confirmInput:e,passwordInput:t}=this.state,s=t===e,i=\"success\"===this.state.passwordValidateStatus&&\"success\"===this.state.confirmValidateStatus;this.setState({okButtonDisabled:!(s&&i)})},this.resetCheckboxChecked=()=>{this.setState({checkboxChecked:!1})},this.getMatchLength=e=>{let t=0;const s=rn.reverseString(e),i=s.match(/[0-9]/);i&&i[0]&&(t+=1);const a=s.match(/[A-Z]/);a&&a[0]&&(t+=1);const n=s.match(/[a-z]/);n&&n[0]&&(t+=1);const o=s.match(new RegExp(\"[-`=\\\\[\\\\];\\\\',\\\\./~!@#\\\\$%\\\\^&\\\\*\\\\(\\\\)_\\\\+\\\\|\\\\{\\\\}:\\\"<>\\\\?]\"));return o&&o[0]&&(t+=1),t},this.newPasswordValidator=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";if(!e||16!==e.length)return{passed:!1,message:t.passwordTipsHelpMessage};const s=t.getMatchLength(e);return!rn.regex.test(e)||s<3?{passed:!1,message:t.passwordComplexHelpMessage}:{passed:!0}},this.confirmPasswordValidator=e=>{if(!e||16!==e.length)return{passed:!1,message:this.passwordTipsHelpMessage};const t=this.getMatchLength(e);return!rn.regex.test(e)||t<3?{passed:!1,message:this.passwordComplexHelpMessage}:e!==this.state.passwordInput?{passed:!1,message:this.passwordRepeatHelpMessage}:{passed:!0}},this.handlePasswordInput=e=>{e.preventDefault();const t=e.target.value,s=this.newPasswordValidator(t),{passed:i,message:a}=s,n=i?\"success\":\"error\";this.setState({passwordInput:t,passwordDirty:\"\"!==t,passwordValidateStatus:n,passwordHelpMessage:a},(()=>{this.setOkButtonStatus()}))},this.handleConfirmInput=e=>{e.preventDefault();const t=e.target.value,s=this.confirmPasswordValidator(t),{passed:i,message:a}=s,n=i?\"success\":\"error\";this.setState({confirmInput:t,confirmDirty:\"\"!==t,confirmValidateStatus:n,confirmHelpMessage:a},(()=>{this.setOkButtonStatus()}))},this.formRef=(0,d.createRef)(),this.state={checkboxChecked:!1,okButtonDisabled:!0,passwordDirty:!1,passwordInput:\"\",passwordValidateStatus:\"success\",passwordHelpMessage:\"\",confirmDirty:!1,confirmInput:\"\",confirmValidateStatus:\"success\",confirmHelpMessage:\"\"}}render(){const{shouldShowPasswordModal:e,successCallbacks:t,setPassword:s,intl:i}=this.props,a={},{checkboxChecked:o}=this.state,l=this.formRef.current;return(0,f.jsx)(r.Z,{title:i.formatMessage({id:\"neteco.pvms.stationInfo.globalSwitch.setTitle\"}),centered:!0,visible:e,onOk:()=>{if(l){const e=this.state.passwordInput;s(e),t.forEach((e=>e()))}},onCancel:()=>{l&&l.resetFields(),this.resetCheckboxChecked(),t.forEach((e=>e()))},okButtonProps:{disabled:this.state.okButtonDisabled},children:(0,f.jsxs)(\"div\",{children:[(0,f.jsxs)(n.Z,{ref:this.formRef,layout:\"vertical\",children:[(0,f.jsx)(n.Z.Item,{required:!0,...a,label:this.newPasswordLabel,validateStatus:this.state.passwordValidateStatus,help:this.state.passwordHelpMessage,children:(0,f.jsx)(\"input\",{type:\"password\",className:\"ant-input\",autoComplete:\"new-password\",onChange:this.handlePasswordInput,onCopy:e=>{e.preventDefault()},onCut:e=>{e.preventDefault()}})}),(0,f.jsx)(n.Z.Item,{required:!0,...a,label:this.confirmPasswordLabel,validateStatus:this.state.confirmValidateStatus,help:this.state.confirmHelpMessage,children:(0,f.jsx)(\"input\",{type:\"password\",className:\"ant-input\",autoComplete:\"new-password\",onChange:this.handleConfirmInput,onCopy:e=>{e.preventDefault()},onCut:e=>{e.preventDefault()}})})]}),(0,f.jsx)(\"p\",{style:{color:\"red\"},children:i.formatMessage({id:\"neteco.pvms.stationInfo.globalSwitch.setTip\"})})]})})}}rn.regex=new RegExp(\"^(?:([0-9])|([A-Z])|([a-z])|([-`=\\\\[\\\\];\\\\',\\\\./~!@#\\\\$%\\\\^&\\\\*\\\\(\\\\)_\\\\+\\\\|\\\\{\\\\}:\\\"<>\\\\?])){16}$\"),rn.reverseString=e=>{let t=e.length,s=\"\";for(;t>=0;)s+=e.charAt(t),t--;return s};const ln=rn;var cn=s(4959);const dn=(0,i.$j)((e=>({devices:e.ncoDeviceList.devices,hasPovertyLicense:e.ncoCreateStation.hasPovertyLicense,companySupportPoverty:e.ncoCreateStation.companySupportPoverty,archiveAlbum:e.ncoCreateStation.archiveAlbum,newSnUpdate:Bs(e.ncoDeviceList.devices),installEnv:e.ncoCreateStation.installEnv,allDeviceSn:e.ncoCreateStation.allDeviceSn,getSelectedPlan:e.ncoCreateStation.getSelectedPlan})),(e=>({onSubmit:(e,t,s,i,a)=>{ut(0,e,t,s,i,a)},finishModify:()=>{(e=>{e({type:Pe.EG})})(e)},clearDevicesList:()=>{(e=>{(0,Ee.hQ)()(e)})(e)},loadStationInfo:(t,s)=>{(0,cn.Oo)(e,t,s)},loadShareStationInfo:(t,s)=>{(0,cn.bI)(e,t,s)},changeStationCompany:(t,s,i,a)=>async function(e,t,s,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{successCallback:n=()=>{},failCallback:o=()=>{}}=a,r=await(0,U.v_)(`${Ye}?sourceDn=${t}&targetDn=${s}`),{code:l}=r;return 0===l?n():o(),0===r.code}(e,t,s,i,a),checkHasPoverty:e=>(async e=>(0,U.U2)(`/rest/pvms/web/poverty/v1/povertyall/check-has-povertys?stationDn=${e}`))(e),deletePovertyObject:e=>{(async e=>{(0,U.v_)(`/rest/pvms/web/poverty/v1/povertyall/delete-station-povertys?stationDn=${e}`)})(e)},loadCompanySupportPoverty:(t,s)=>{!async function(e,t){const s=\"companyType\"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"companyType\")?\"/rest/pvms/web/station/v1/overview/poverty?companyDn=\":\"/rest/pvms/web/station/v1/overview/poverty?stationDn=\",i=await(0,U.U2)(s+t);e({type:Pe.Ez,payload:i.success&&i.data&&\"1\"===String(i.data.supportPoor)})}(e,t,s)},resetPovertySupportState:()=>{e({type:Pe.vQ})},checkHasPovertyLicense:()=>{(async e=>{const t=await(0,U.U2)(\"/rest/pvms/web/station/v1/station/poverty-license-control\"),{success:s,data:i}=t;e(s&&i?{type:Pe.nF,payload:!0}:{type:Pe.nF,payload:!1})})(e)},setAlbumList:t=>{(async(e,t)=>{e({type:Pe.vj,payload:t})})(e,t)},setInstallEnv:t=>{(async(e,t)=>{e({type:Pe.$D,payload:t})})(e,t)},setAllDeviceSn:t=>{(async(e,t)=>{e({type:Pe.zo,payload:t})})(e,t)},selectSmartDesignPlans:t=>{((e,t)=>{e({type:Pe.sm,payload:t})})(e,t)}})))((0,a.ZP)(on));var hn=s(89433)},82898:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(88391),a=s(51767),n=s(23712);class o extends i.Component{constructor(e){super(e),this.handleSelect=e=>{let{node:t}=e;this.props.onChange({selected:t})},this.state={}}render(){const{selectConfig:e={}}=this.props,{selectCallbacks:t=[]}=e,s={...this.props,selectConfig:{...e,selectCallbacks:[...t,this.handleSelect]},checkConfig:{singleSelectMode:!0}};return(0,n.jsx)(\"div\",{children:(0,n.jsx)(a.Z,{...s})})}}const r=o},18742:(e,t,s)=>{s.d(t,{Z:()=>C});var i=s(58082),a=s(79416),n=s(45258),o=s(24301),r=s(13450),l=s(52305),c=s(88391),d=s(93706),h=s(37825);const{neteco:p}=window;var m=s(53137),u=s(44184),v=s(13746),g=s(10749),f=s(4342),y=s(23712);const{changeLonLatSubject:S}=g.Z;class b extends c.Component{static getDerivedStateFromProps(e,t){if(\"value\"in e){var s;const i={...e.value||{}};if(t.center&&null!==(s=e.value)&&void 0!==s&&s.center){const{lng:s,lat:a}=t.center,{lng:n,lat:o}=e.value.center;if(Math.abs(n-s)>.001||Math.abs(o-a>.001)){const e={lng:n,lat:o};i.center=e}}return i}return null}constructor(e){super(e),this.updateLonLat=e=>{const{lng:t,lat:s}=e,{onChange:i,value:a}=this.props,{center:n={},address:o}=this.state;n.lat||n.lng||(this.tempPosition={lng:t,lat:s},i&&i({...a,center:{lng:t,lat:s},address:o}))},this.resetFlagStyle=()=>{this.setState({isShowLocation:!0})},this.setMapPositionVisible=e=>{this.setState({showPositionSelector:!0},(()=>{e&&e(!0)}))},this.showPositionSelector=()=>{if(this.props.disabled)return;const{isEmptyMap:e,intl:t,moveLeft:s}=this.props;e?n.Z.info({title:t.formatMessage({id:\"neteco.pvms.systemSetting.logManage.prompt\"}),content:t.formatMessage({id:\"pvms.company.basic.info.config.isEmpty.map\"})}):this.setMapPositionVisible(s)},this.hidePositionSelector=()=>{const{moveLeft:e,onChange:t,value:s}=this.props;this.setState({showPositionSelector:!1,isShowLocation:!1},e&&e(!1)),!t||this.tempPosition.lat===s.center.lat&&this.tempPosition.lng===s.center.lng||t({...s,center:this.tempPosition})},this.searchLocationHandler=e=>{let{center:t,address:s}=e;const{lon:i,lat:a}=t,{onChange:n,value:o}=this.props;n&&n({...o,center:{lng:i,lat:a},address:s}),this.tempPosition={lng:i,lat:a}},this.selectSearch=(e,t,s,i)=>(0,y.jsx)(\"div\",{className:\"nco-station-address-selector-search\",style:{width:e},children:t&&s&&(0,y.jsx)(a.Z,{mapConfigs:t,placeholder:i.formatMessage({id:\"neteco.pvms.inputTheKey\"}),onChange:this.searchLocationHandler,location:(0,f.jA)()?h.vO.CHINESE:h.vO.ENGLISH,extras:{reportException:m.fZ}})}),this.onPositionChange=(e,t,s)=>{const{onChange:i,value:a}=this.props;i&&i({...a,address:s}),this.tempPosition={lng:e,lat:t}},this.onInputValueChange=e=>{const{onChange:t,value:s}=this.props;t&&t({...s,address:e})};const t=e.value||{};this.state={defaultCenter:t.center||{lng:0,lat:0},address:\"\",showPositionSelector:!1},this.tempPosition=t.center||{lng:0,lat:0}}componentDidMount(){this.restoreConsole=(0,u.ae)(m.m2),this.changeLonLatSub=S.subscribe(this.updateLonLat)}componentWillUnmount(){this.setState=h.mz,this.restoreConsole&&this.restoreConsole(),this.changeLonLatSub.unsubscribe()}render(){const{mapSettings:e,mapConfigs:t,intl:s,position:c,width:d,height:u,searchWidth:g,disabled:S,placeholder:b,onBlur:C}=this.props,{address:x,center:D={},defaultCenter:M,showPositionSelector:w,isShowLocation:N}=this.state,{lng:I,lat:T}=D,P=(e=>e&&e.map((e=>{let{mapUrl:t,...s}=e;return{...s,mapUrl:p.util.iUnescape(t)}})))(t),j=e&&s.formatMessage({id:\"neteco.map.disclaimer.content\"},{0:s.formatMessage({id:(0,v.rJ)(e.mapType)})});return(0,y.jsx)(\"div\",{children:(0,y.jsxs)(\"div\",{className:\"nco-station-address-selector\",children:[P&&(0,y.jsx)(a.Z,{mapConfigs:P,placeholder:b,disabled:S,value:{address:x},onChange:this.searchLocationHandler,onInputValueChange:this.onInputValueChange,location:(0,f.jA)()?h.vO.CHINESE:h.vO.ENGLISH,extras:{reportException:m.fZ},onBlur:C}),(0,y.jsx)(\"div\",{className:`nco-map-icon ${S&&\"disabled-icon\"}`,children:(0,y.jsx)(\"i\",{className:\"icon-mappin-on-map-lined\",onClick:this.showPositionSelector})}),(0,y.jsx)(n.Z,{title:\"\",width:d,style:{...c},bodyStyle:{height:u,padding:\"1px\"},wrapClassName:\"nco-station-address-selector-modal\",visible:w,onCancel:this.hidePositionSelector,mask:!1,destroyOnClose:!0,footer:null,children:(0,y.jsxs)(\"div\",{className:\"nco-station-address-container\",children:[this.selectSearch(g,P,N,s),(0,y.jsx)(\"div\",{className:\"nco-station-address-selector-map\",style:{height:u},children:e&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.Z,{mapSettings:{...e,centerLongitude:M.lng||0,centerLatitude:M.lat||0,defaultZoom:3,cameraControl:!1},centerLon:I,centerLat:T,positionSelectorOptions:{show:!0,onChange:this.onPositionChange,center:D,icon:{url:\"/pvmswebsite/assets/build/images/gis/little_position_marker.png\",address:x}},afterMapLoaded:this.resetFlagStyle,hideMapElemFilter:!0,extras:{reportException:m.fZ}}),(0,y.jsx)(\"div\",{className:\"disclaimer\",children:(0,y.jsx)(o.Z,{title:j,placement:\"topRight\",children:(0,y.jsxs)(r.Z,{type:\"text\",children:[(0,y.jsx)(l.Z,{className:\"disclaimer-icon\"}),s.formatMessage({id:\"neteco.map.disclaimer\"})]})})})]})})]})})]})})}}b.defaultProps={};const C=(0,d.ZP)(b)}}]);"
          },
          "redirectURL": "",
          "headersSize": 577,
          "bodySize": 50849,
          "_transferSize": 51426,
          "_error": null,
          "_fetchedViaServiceWorker": false
        },
        "serverIPAddress": "119.8.229.117",
        "startedDateTime": "2025-08-12T13:53:48.797Z",
        "time": 199.0910000167787,
        "timings": {
          "blocked": 2.311000028654933,
          "dns": -1,
          "ssl": -1,
          "connect": -1,
          "send": 0.07099999999999995,
          "wait": 70.34100004887581,
          "receive": 126.36799993924797,
          "_blocked_queueing": 0.493000028654933,
          "_workerStart": -1,
          "_workerReady": -1,
          "_workerFetchStart": -1,
          "_workerRespondWithSettled": -1
        }
      },
      {
        "_connectionId": "406301",
        "_initiator": {
          "type": "script",
          "stack": {
            "callFrames": [
              {
                "functionName": "t",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 568710
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6339201
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6339217
              },
              {
                "functionName": "s",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6338398
              },
              {
                "functionName": "d.f.miniCss",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6339844
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329159
              },
              {
                "functionName": "d.e",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329137
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6357794
              },
              {
                "functionName": "componentDidMount",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 1335
              },
              {
                "functionName": "Sl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834903
              },
              {
                "functionName": "bl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834688
              },
              {
                "functionName": "yl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834232
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4845889
              },
              {
                "functionName": "xc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4846391
              },
              {
                "functionName": "lc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4840207
              },
              {
                "functionName": "Vi",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4781235
              },
              {
                "functionName": "nc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4837137
              },
              {
                "functionName": "enqueueSetState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4803637
              },
              {
                "functionName": "v.setState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4888021
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6362932
              }
            ],
            "parent": {
              "description": "Promise.then",
              "callFrames": [
                {
                  "functionName": "componentDidMount",
                  "scriptId": "135",
                  "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                  "lineNumber": 1,
                  "columnNumber": 6362621
                }
              ],
              "parent": {
                "description": "await",
                "callFrames": [
                  {
                    "functionName": "Sl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834903
                  },
                  {
                    "functionName": "bl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834688
                  },
                  {
                    "functionName": "yl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834232
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4845889
                  },
                  {
                    "functionName": "xc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4846391
                  },
                  {
                    "functionName": "lc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840207
                  },
                  {
                    "functionName": "Vi",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4781235
                  },
                  {
                    "functionName": "uc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840505
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858411
                  },
                  {
                    "functionName": "$c",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858443
                  },
                  {
                    "functionName": "t.render",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4862662
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018630
                  },
                  {
                    "functionName": "d",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3002876
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3004223
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3003305
                  },
                  {
                    "functionName": "Nt",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3008794
                  },
                  {
                    "functionName": "a",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018913
                  }
                ],
                "parent": {
                  "description": "Promise.then",
                  "callFrames": [
                    {
                      "functionName": "Nt",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3008865
                    },
                    {
                      "functionName": "a",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018913
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018974
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018853
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3019019
                    },
                    {
                      "functionName": "it",
                      "scriptId": "113",
                      "url": "https://la5.fusionsolar.huawei.com/webadapter/adapter.js",
                      "lineNumber": 1,
                      "columnNumber": 114919
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018366
                    }
                  ],
                  "parent": {
                    "description": "Promise.then",
                    "callFrames": [
                      {
                        "functionName": "createApp",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 3018294
                      },
                      {
                        "functionName": "Dr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6384837
                      },
                      {
                        "functionName": "Nr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6385817
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585814
                      },
                      {
                        "functionName": "v",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 482618
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483960
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483047
                      },
                      {
                        "functionName": "r",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 491861
                      },
                      {
                        "functionName": "l",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492064
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492123
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492004
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585973
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 509599
                      }
                    ],
                    "parent": {
                      "description": "Promise.then",
                      "callFrames": [
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509576
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509543
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514135
                        },
                        {
                          "functionName": "le",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514090
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 510636
                        }
                      ],
                      "parent": {
                        "description": "Promise.then",
                        "callFrames": [
                          {
                            "functionName": "G",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 510525
                          },
                          {
                            "functionName": "",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 525005
                          }
                        ],
                        "parent": {
                          "description": "Promise.then",
                          "callFrames": [
                            {
                              "functionName": "",
                              "scriptId": "114",
                              "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                              "lineNumber": 1,
                              "columnNumber": 524976
                            }
                          ],
                          "parent": {
                            "description": "Promise.then",
                            "callFrames": [
                              {
                                "functionName": "We",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 524949
                              },
                              {
                                "functionName": "",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 523493
                              }
                            ],
                            "parent": {
                              "description": "Promise.then",
                              "callFrames": [
                                {
                                  "functionName": "",
                                  "scriptId": "114",
                                  "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                  "lineNumber": 1,
                                  "columnNumber": 523468
                                },
                                {
                                  "functionName": "",
                                  "scriptId": "114",
                                  "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                  "lineNumber": 1,
                                  "columnNumber": 523438
                                }
                              ],
                              "parent": {
                                "description": "Promise.then",
                                "callFrames": [
                                  {
                                    "functionName": "He",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 522919
                                  },
                                  {
                                    "functionName": "Re",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 520869
                                  },
                                  {
                                    "functionName": "",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 642717
                                  },
                                  {
                                    "functionName": "",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 642612
                                  },
                                  {
                                    "functionName": "Zc",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 643549
                                  },
                                  {
                                    "functionName": "b",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 646852
                                  }
                                ],
                                "parent": {
                                  "description": "await",
                                  "callFrames": [
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 647298
                                    },
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 647309
                                    },
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 82578
                                    },
                                    {
                                      "functionName": "Gn",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 82523
                                    },
                                    {
                                      "functionName": "ht",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 66848
                                    },
                                    {
                                      "functionName": "it",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 66438
                                    }
                                  ],
                                  "parentId": {
                                    "id": "339",
                                    "debuggerId": "-6060000868116882005.8926023096971503728"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "_priority": "VeryHigh",
        "_resourceType": "stylesheet",
        "cache": {},
        "connection": "443",
        "pageref": "page_5",
        "request": {
          "method": "GET",
          "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/css/214.4d4c2456.chunk.css",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Accept",
              "value": "text/css,*/*;q=0.1"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br, zstd"
            },
            {
              "name": "Accept-Language",
              "value": "es-CL,es;q=0.9"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "DNT",
              "value": "1"
            },
            {
              "name": "Host",
              "value": "la5.fusionsolar.huawei.com"
            },
            {
              "name": "Referer",
              "value": "https://la5.fusionsolar.huawei.com/uniportal/pvmswebsite/assets/build/cloud.html?app-id=smartpvms&instance-id=smartpvms&zone-id=region-1-a30723bb-f51d-46f4-8eab-6a21dd3a8563"
            },
            {
              "name": "Sec-Fetch-Dest",
              "value": "style"
            },
            {
              "name": "Sec-Fetch-Mode",
              "value": "no-cors"
            },
            {
              "name": "Sec-Fetch-Site",
              "value": "same-origin"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Not;A=Brand\";v=\"99\", \"Microsoft Edge\";v=\"139\", \"Chromium\";v=\"139\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            }
          ],
          "queryString": [],
          "cookies": [],
          "headersSize": 1291,
          "bodySize": 0
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Type",
              "value": "text/css"
            },
            {
              "name": "Date",
              "value": "Tue, 12 Aug 2025 13:53:47 GMT"
            },
            {
              "name": "Server",
              "value": "elb"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "cache-control",
              "value": "private max-age=31536000"
            },
            {
              "name": "etag",
              "value": "W/\"20035-1752456993000\""
            },
            {
              "name": "last-modified",
              "value": "Mon, 14 Jul 2025 01:36:33 GMT"
            },
            {
              "name": "lubanops-gtrace-id",
              "value": "5081-1755006812785-2227691"
            },
            {
              "name": "lubanops-nenv-id",
              "value": "36"
            },
            {
              "name": "lubanops-ntrace-id",
              "value": "5081-1755006812785-2227691"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-download-options",
              "value": "noopen"
            },
            {
              "name": "x-envoy-upstream-service-time",
              "value": "2"
            },
            {
              "name": "x-frame-options",
              "value": "SAMEORIGIN"
            },
            {
              "name": "x-xss-protection",
              "value": "1; mode=block"
            }
          ],
          "cookies": [],
          "content": {
            "size": 20035,
            "mimeType": "text/css",
            "compression": 16612,
            "text": ".ant-modal-footer {\n  border-top: none;\n}\n.ant-modal-confirm .ant-modal-close,\n.ant-modal-confirm .ant-modal-header {\n  display: none;\n}\n.ant-input-search > .ant-input-group > .ant-input-group-addon:last-child {\n  left: -1px;\n  padding: 0;\n  border: 0;\n}\n.ant-select-selection-overflow {\n  position: relative;\n  display: flex;\n  flex: auto;\n  flex-wrap: wrap;\n  max-width: 100%;\n}\n.ant-cascader-menus {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.ant-table-selection {\n  display: flex !important;\n  justify-content: center;\n  align-items: center;\n}\n@media (max-width: 1366px) {\n  html,\n  body {\n    font-size: 12px;\n  }\n}\n@media (min-width: 1367px) and (max-width: 1680px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1681px) and (max-width: 1900px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1901px) {\n  html,\n  body {\n    font-size: 16px;\n  }\n}\nhtml,\nbody {\n  font-family: Titillium-Regular, 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;\n}\n/**\n * padding\n */\n/**\n * fontsize\n */\n.nco-form-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n}\n.link-color {\n  color: #0A59F7;\n}\n.nco-plant-detail {\n  max-width: 45rem;\n  z-index: 9999;\n  background-color: #fff;\n}\n.nco-plant-detail .nco-plant-detail-name {\n  font-size: 1.25rem;\n  font-weight: bold;\n  color: '#212121';\n  padding: 0.5rem 0 0 1.5rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: default;\n  white-space: pre;\n}\n.nco-plant-detail .nco-weather-data-empty {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-evenly;\n  width: 100%;\n  height: auto;\n}\n.nco-plant-detail .ant-divider-horizontal {\n  margin: 0.5rem 0;\n}\n.nco-plant-detail .nco-plant-detail-content {\n  padding: 0.75rem 1.5rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content {\n  display: flex;\n  justify-content: space-between;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image {\n  flex: 1.5 1;\n  margin-right: 0.5rem;\n  width: 19.375rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image .nco-plant-detail-plant-scene {\n  position: relative;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image .nco-plant-detail-plant-scene .nco-plant-detail-plant-scence-shared {\n  position: absolute;\n  width: 3rem;\n  height: 3rem;\n  right: 2rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image .nco-plant-detail-plant-intro {\n  display: flex;\n  margin-top: 1.5rem;\n  font-size: 0.875rem;\n  align-items: center;\n  width: 90%;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image .nco-plant-detail-plant-intro .nco-plant-detail-plant-intro-label {\n  color: #333;\n  margin-right: 0.5rem;\n  font-weight: bold;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-plant-image .nco-plant-detail-plant-intro .nco-plant-detail-plant-intro-value {\n  color: #666;\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview {\n  flex: 1 1;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info {\n  display: flex;\n  font-size: 0.875rem;\n  margin-bottom: 0.5rem;\n  align-items: center;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-label {\n  width: 7em;\n  color: #333;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  line-height: 1.3;\n  font-weight: bold;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-value {\n  padding-left: 0.5rem;\n  color: #666;\n  flex-grow: 1;\n  width: 12rem;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  cursor: default;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-value-grid {\n  display: flex;\n  justify-content: space-between;\n  color: #666;\n  flex-grow: 1;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-value-power {\n  border-right: 1px solid #ccc;\n  padding-right: 1rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-value-power:last-child {\n  border-right: none;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-top-content .nco-plant-detail-station-overview .nco-plant-detail-station-info .nco-plant-detail-station-value-power div:last-child {\n  font-weight: bold;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-content-weather-title {\n  font-size: 1.125rem;\n  font-weight: bold;\n  color: #212121;\n  padding: 0 0 0.5rem 0;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-current-weather {\n  flex: 1 1;\n  font-size: 0.875rem;\n  color: #999;\n  padding: 0.2rem 0 0 2rem;\n  text-align: center;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-content-temp {\n  display: flex;\n  font-size: 0.875rem;\n  padding-top: 1rem;\n  padding-left: 1rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-current-info {\n  flex: 2 1;\n  border-right: 1px #ccc solid;\n  padding-right: 1rem;\n  text-align: right;\n  font-size: 0.875rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-temp-data {\n  font-size: 3rem;\n  color: #4faff5;\n  font-weight: bold;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-weather-text {\n  display: inline-block;\n  margin-left: 0.5rem;\n  color: #666;\n  word-break: break-all;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-weather-temp {\n  display: inline-block;\n  margin-left: 0.75rem;\n}\n.nco-plant-detail .nco-plant-detail-content .nco-plant-detail-right-content {\n  flex-grow: 1;\n  margin-left: 2rem;\n}\n.ol-selectable {\n  z-index: 1;\n}\n.gm-style-iw.gm-style-iw-c {\n  max-width: 57rem !important;\n  max-height: 46.75rem !important;\n}\n\n.ant-modal-footer {\n  border-top: none;\n}\n.ant-modal-confirm .ant-modal-close,\n.ant-modal-confirm .ant-modal-header {\n  display: none;\n}\n.ant-input-search > .ant-input-group > .ant-input-group-addon:last-child {\n  left: -1px;\n  padding: 0;\n  border: 0;\n}\n.ant-select-selection-overflow {\n  position: relative;\n  display: flex;\n  flex: auto;\n  flex-wrap: wrap;\n  max-width: 100%;\n}\n.ant-cascader-menus {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.ant-table-selection {\n  display: flex !important;\n  justify-content: center;\n  align-items: center;\n}\n@media (max-width: 1366px) {\n  html,\n  body {\n    font-size: 12px;\n  }\n}\n@media (min-width: 1367px) and (max-width: 1680px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1681px) and (max-width: 1900px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1901px) {\n  html,\n  body {\n    font-size: 16px;\n  }\n}\nhtml,\nbody {\n  font-family: Titillium-Regular, 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;\n}\n/**\n * padding\n */\n/**\n * fontsize\n */\n.nco-form-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n}\n.link-color {\n  color: #0A59F7;\n}\n.nco-station-state-circle {\n  width: 1rem;\n  height: 1rem;\n  border-radius: 50%;\n}\n.nco-station-state-green-circle {\n  background-color: #41ba41;\n}\n.nco-station-state-grey-circle {\n  background-color: #b3b3b3;\n}\n.nco-station-state-red-circle {\n  background-color: #fa2a2d;\n}\n.nco-map-station-list-selected {\n  background-color: #eaf6f9 !important;\n}\n.nco-cloumn-relative {\n  position: relative;\n}\n.nco-table-site-name {\n  width: 9.5rem;\n  overflow: hidden;\n  display: inline-block;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.ant-modal-footer {\n  border-top: none;\n}\n.ant-modal-confirm .ant-modal-close,\n.ant-modal-confirm .ant-modal-header {\n  display: none;\n}\n.ant-input-search > .ant-input-group > .ant-input-group-addon:last-child {\n  left: -1px;\n  padding: 0;\n  border: 0;\n}\n.ant-select-selection-overflow {\n  position: relative;\n  display: flex;\n  flex: auto;\n  flex-wrap: wrap;\n  max-width: 100%;\n}\n.ant-cascader-menus {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.ant-table-selection {\n  display: flex !important;\n  justify-content: center;\n  align-items: center;\n}\n@media (max-width: 1366px) {\n  html,\n  body {\n    font-size: 12px;\n  }\n}\n@media (min-width: 1367px) and (max-width: 1680px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1681px) and (max-width: 1900px) {\n  html,\n  body {\n    font-size: 14px;\n  }\n}\n@media (min-width: 1901px) {\n  html,\n  body {\n    font-size: 16px;\n  }\n}\nhtml,\nbody {\n  font-family: Titillium-Regular, 'PingFang SC', 'Microsoft YaHei', Arial, sans-serif;\n}\n/**\n * padding\n */\n/**\n * fontsize\n */\n.nco-form-label {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  word-break: keep-all;\n}\n.link-color {\n  color: #0A59F7;\n}\n.ant-input-affix-wrapper {\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  min-width: 0;\n  padding: 4px 11px;\n  color: #1c1c1c;\n  font-size: 14px;\n  line-height: 1.5715;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid #c1c1c1;\n  border-radius: 2px;\n  transition: all 0.3s;\n  display: inline-flex;\n}\n.ant-input-affix-wrapper > input.ant-input {\n  padding: 0;\n  border: none;\n  outline: none;\n}\n.ant-input {\n  box-sizing: border-box;\n  margin: 0;\n  font-variant: tabular-nums;\n  list-style: none;\n  font-feature-settings: 'tnum', \"tnum\";\n  position: relative;\n  display: inline-block;\n  width: 100%;\n  min-width: 0;\n  padding: 4px 11px;\n  color: #1c1c1c;\n  font-size: 14px;\n  line-height: 1.5715;\n  background-color: #fff;\n  background-image: none;\n  border: 1px solid #c1c1c1;\n  border-radius: 2px;\n  transition: all 0.3s;\n}\n.ant-input-focused,\n.ant-input:focus {\n  border-color: #2997ff;\n  border-right-width: 1px !important;\n  outline: 0;\n  box-shadow: 0 0 0 2px rgba(0, 125, 255, 0.2);\n}\n.ant-input-prefix,\n.ant-input-suffix {\n  display: flex;\n  flex: none;\n  align-items: center;\n}\n.nco-input-with-help .anticon {\n  cursor: pointer;\n  font-size: 1rem;\n}\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n}\n.nco-input-with-help {\n  display: flex;\n  align-items: center;\n}\n.nco-input-with-help .anticon-question-circle {\n  margin-left: 0.5rem;\n}\n.ant-form {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  color: #1c1c1c;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5715;\n  list-style: none;\n  font-feature-settings: 'tnum', \"tnum\";\n}\n.ant-form-item {\n  box-sizing: border-box;\n  padding: 0;\n  color: #1c1c1c;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5715;\n  list-style: none;\n  font-feature-settings: 'tnum', \"tnum\";\n  margin: 0 0 1.5rem;\n  vertical-align: top;\n}\n.ant-form-horizontal .ant-form-item-control {\n  flex: 1 1;\n}\n.ant-input-affix-wrapper-focused,\n.ant-input-affix-wrapper:focus {\n  border-color: #2997ff;\n  border-right-width: 1px !important;\n  outline: 0;\n  box-shadow: 0 0 0 2px rgba(0, 125, 255, 0.2);\n}\n.ant-input-affix-wrapper > input.ant-input:focus {\n  box-shadow: none;\n}\nbody {\n  padding-right: 0 !important;\n}\n.nco-home-gis {\n  position: absolute;\n  width: 100%;\n}\n.nco-home-gis .ant-select-selector {\n  height: 3rem !important;\n}\n.nco-home-gis .ant-select-selection-search-input {\n  height: 3rem !important;\n}\n.nco-home-gis .ant-select-selection-item {\n  flex: none;\n  line-height: 3rem !important;\n  display: inline-block;\n  width: 17.5rem;\n  box-sizing: border-box;\n}\n.nco-home-gis .ant-select-selection-placeholder {\n  line-height: 3rem !important;\n}\n.nco-home-gis .nco-home-gis-search {\n  position: absolute;\n  display: flex;\n  height: 3rem;\n  top: 1.3rem;\n  left: 1.73rem;\n  z-index: 1;\n}\n.nco-home-gis .nco-home-gis-search .serach_area {\n  display: flex;\n  height: 3rem;\n  width: 3rem;\n  background-color: #fff;\n  align-items: center;\n  justify-content: center;\n}\n.nco-home-gis .nco-home-gis-search .ant-select-selection {\n  border: 1px solid transparent;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 -1px 0 rgba(0, 0, 0, 0.02);\n}\n.nco-home-gis .nco-home-gis-search .ant-select-focused .ant-select-selection,\n.nco-home-gis .nco-home-gis-search .ant-select-selection:focus,\n.nco-home-gis .nco-home-gis-search .ant-select-selection:active {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 -1px 0 rgba(0, 0, 0, 0.02) !important;\n}\n.nco-home-gis .nco-home-gis-search .ant-select-open .ant-select-selection {\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2), 0 -1px 0 rgba(0, 0, 0, 0.02) !important;\n}\n.nco-home-gis .nco-home-gis-search .ant-input-clear-icon {\n  margin-right: 0.5rem;\n}\n.nco-home-gis .nco-home-gis-search .ant-select-selection-selected-value {\n  padding-right: 2.5rem;\n}\n.nco-home-gis .nco-home-gis-search .ant-input-search-icon {\n  font-size: 1.1rem;\n}\n.nco-home-gis .nco-home-gis-search .ant-select-selection--single {\n  height: 3rem;\n}\n.nco-home-gis .nco-home-gis-search .ant-select-selection--single .ant-select-selection__rendered {\n  line-height: 3rem;\n}\n.nco-home-gis .nco-home-gis-search .ant-input-search .ant-input {\n  border: 1px solid transparent;\n  box-shadow: 4px 2px 4px rgba(0, 0, 0, 0.2), 0 -1px 0 rgba(0, 0, 0, 0.02);\n}\n.nco-home-gis .nco-home-gis-search .ant-select-selection__clear {\n  right: 2.3rem;\n}\n.nco-home-gis .nco-home-gis-search .nco-home-gis-search-icon {\n  font-size: 1.2rem;\n  cursor: pointer;\n}\n.nco-home-gis .nco-home-gis-search .nco-home-gis-search-icon:hover {\n  color: #1b8adb;\n}\n.nco-home-gis .nco-home-gis-search .nco-home-gis-search-icon:focus {\n  outline: none;\n  border: none;\n}\n.nco-home-gis .nco-gis-panel .gm-style-iw-chr {\n  display: none !important;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list {\n  padding: 1rem;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-title {\n  display: none;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-container .ant-table-header {\n  display: none;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-container .ant-table-body {\n  border: 1px solid #f0f0f0;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-container .ant-table-body .ant-table-row {\n  background-color: #fff !important;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-container .ant-table-body .ant-table-row .ant-table-cell {\n  padding: 0.25rem 0.5rem;\n}\n.nco-home-gis .nco-gis-panel .siteDetail .popup-content .nco-cluster-list .ant-table .ant-table-container .ant-table-body .node-icon {\n  position: relative;\n  font-size: 32px;\n}\n.nco-home-gis .nco-gis-panel .ol-zoom {\n  left: 3rem;\n}\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol {\n  left: 2rem;\n  top: auto;\n  right: auto;\n  z-index: 100;\n  background-color: transparent;\n  padding: 0;\n  border-radius: 0;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  width: auto;\n  border: 0;\n}\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol:hover {\n  background-color: transparent;\n}\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol:after {\n  height: 0;\n}\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol .amap-zoom-touch-plus,\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol .amap-zoom-touch-minus {\n  width: 1.5rem;\n  height: 1.5rem;\n  background: transparent;\n}\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol .amap-zoom-touch-plus div,\n.nco-home-gis .nco-gis-panel .amap-zoomcontrol .amap-zoom-touch-minus div {\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.6);\n  border-radius: 2px;\n  width: 1.5rem;\n  height: 1.5rem;\n  line-height: 1.5rem;\n  cursor: pointer;\n  margin: 0;\n  outline: none;\n  font-size: 0.75rem;\n}\n.nco-home-gis .nco-gis-panel .ol-popup {\n  background: #fff;\n  display: block;\n}\n.nco-home-gis .nco-gis-panel .ol-popup .site-detail {\n  padding-left: 0;\n}\n.nco-home-gis .disclaimer {\n  position: absolute;\n  bottom: 2rem;\n  right: 2rem;\n}\n.nco-home-gis .disclaimer .disclaimer-icon {\n  width: 1.2rem;\n  text-align: left;\n}\n.nco-home-gis .nco-home-settings {\n  left: 3rem;\n}\n.nco-home-gis .gm-bundled-control-on-bottom .gmnoprint > div button {\n  width: 1.5rem !important;\n  height: 1.5rem !important;\n}\n.nco-home-gis .gm-bundled-control-on-bottom .gmnoprint > div {\n  height: 3.1785rem !important;\n  width: 1.5rem !important;\n}\n.nco-home-gis .gmnoprint div {\n  left: 1.2rem !important;\n}\n.nco-home-gis .gm-style-cc div {\n  left: 0 !important;\n}\n.nco-home-gis .nco-gis-map-setting-icon {\n  position: absolute;\n  z-index: 99999999;\n  margin-top: -10.14rem;\n  left: 2.5%;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1.1rem;\n  cursor: pointer;\n  color: #333;\n  background-color: rgba(255, 255, 255, 0.6);\n  border-radius: 2px;\n  margin-bottom: 0.5rem;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n}\n.nco-home-gis .nco-home-gis-big-screen-search {\n  width: 13rem;\n  position: absolute;\n  top: 15%;\n  padding: 0.25rem;\n  border-radius: 0.3125rem;\n  right: 21%;\n  border: 1px solid #182c3f;\n  z-index: 1;\n  height: 2.625rem;\n  box-sizing: border-box;\n  background: rgba(14, 29, 43, 0.8);\n}\n.nco-home-gis .nco-home-gis-big-screen-search .ant-select-selection--single {\n  height: 2rem;\n}\n.nco-home-gis .nco-home-gis-big-screen-search .ant-select-selection--single .ant-select-selection__rendered {\n  line-height: 2rem;\n}\n.nco-home-gis .amap-info-contentContainer:hover .amap-info-outer {\n  box-shadow: none;\n}\n.nco-big-screen .ant-select-selection-search input {\n  width: 77% !important;\n}\n.nco-big-screen-search-icon {\n  position: absolute;\n  font-size: 1.4rem;\n  right: 22.5%;\n  top: 16%;\n  color: #212121;\n  z-index: 1;\n  cursor: pointer;\n}\n.nco-big-screen-search-icon:hover {\n  color: #1b8adb;\n}\n.nco-big-screen-search-icon:focus {\n  outline: none;\n  border: none;\n}\n.nco-home-gis-search-match-name-item {\n  height: 2.5rem !important;\n  line-height: 2.5rem !important;\n  padding: 0 0.8125rem !important;\n  cursor: pointer;\n}\n.nco-home-gis-search-match-name-item:hover {\n  background-color: #ebfaff;\n}\n.nco-home-gis-loading {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.2);\n  z-index: 3;\n}\n.nco-home-gis-loading .nco-home-gis-loading-icon {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n}\n.nco-map-search-disabled {\n  cursor: default !important;\n  color: #212121;\n}\n.nco-map-search-disabled:hover {\n  color: #212121 !important;\n}\n.nco-map-list-tips .ant-drawer-content-wrapper {\n  height: 33.75rem;\n  transform: translateX(-19.2rem);\n}\n@media screen and (max-width: 1441px) {\n  .nco-home-settings {\n    bottom: 8rem;\n  }\n  .nco-map-list-tips .ant-drawer-content-wrapper {\n    transform: translateX(-20.2rem);\n  }\n  .nco-home-gis .gmnoprint div {\n    left: 1.1rem !important;\n  }\n  .nco-gis-panel .amap-toolbar {\n    bottom: 11rem;\n  }\n}\n.new-app-container .nco-home-container .nco-home-gis {\n  margin: 0 -1.5rem;\n}\n\n.map-company-card {\n  width: 18.75rem;\n}\n.map-company-card .company-name-key {\n  margin-right: 0.5rem;\n}\n.map-company-card .company-name-value {\n  max-width: 10rem;\n  cursor: 'pointer';\n  height: '100%';\n}\n\n"
          },
          "redirectURL": "",
          "headersSize": 562,
          "bodySize": 3423,
          "_transferSize": 3985,
          "_error": null,
          "_fetchedViaServiceWorker": false
        },
        "serverIPAddress": "119.8.229.117",
        "startedDateTime": "2025-08-12T13:53:48.797Z",
        "time": 77.69099995493889,
        "timings": {
          "blocked": 2.155999964289367,
          "dns": -1,
          "ssl": -1,
          "connect": -1,
          "send": 0.04399999999999993,
          "wait": 75.10200005540997,
          "receive": 0.38899993523955345,
          "_blocked_queueing": 1.3559999642893672,
          "_workerStart": -1,
          "_workerReady": -1,
          "_workerFetchStart": -1,
          "_workerRespondWithSettled": -1
        }
      },
      {
        "_connectionId": "406294",
        "_initiator": {
          "type": "script",
          "stack": {
            "callFrames": [
              {
                "functionName": "n",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 530806
              },
              {
                "functionName": "",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 531024
              },
              {
                "functionName": "Jt",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 530965
              },
              {
                "functionName": "tn",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 531861
              },
              {
                "functionName": "t",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 569072
              },
              {
                "functionName": "d.l",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6336939
              },
              {
                "functionName": "d.f.j",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6340121
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329159
              },
              {
                "functionName": "d.e",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329137
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6357794
              },
              {
                "functionName": "componentDidMount",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 1335
              },
              {
                "functionName": "Sl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834903
              },
              {
                "functionName": "bl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834688
              },
              {
                "functionName": "yl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834232
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4845889
              },
              {
                "functionName": "xc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4846391
              },
              {
                "functionName": "lc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4840207
              },
              {
                "functionName": "Vi",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4781235
              },
              {
                "functionName": "nc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4837137
              },
              {
                "functionName": "enqueueSetState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4803637
              },
              {
                "functionName": "v.setState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4888021
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6362932
              }
            ],
            "parent": {
              "description": "Promise.then",
              "callFrames": [
                {
                  "functionName": "componentDidMount",
                  "scriptId": "135",
                  "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                  "lineNumber": 1,
                  "columnNumber": 6362621
                }
              ],
              "parent": {
                "description": "await",
                "callFrames": [
                  {
                    "functionName": "Sl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834903
                  },
                  {
                    "functionName": "bl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834688
                  },
                  {
                    "functionName": "yl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834232
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4845889
                  },
                  {
                    "functionName": "xc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4846391
                  },
                  {
                    "functionName": "lc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840207
                  },
                  {
                    "functionName": "Vi",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4781235
                  },
                  {
                    "functionName": "uc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840505
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858411
                  },
                  {
                    "functionName": "$c",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858443
                  },
                  {
                    "functionName": "t.render",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4862662
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018630
                  },
                  {
                    "functionName": "d",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3002876
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3004223
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3003305
                  },
                  {
                    "functionName": "Nt",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3008794
                  },
                  {
                    "functionName": "a",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018913
                  }
                ],
                "parent": {
                  "description": "Promise.then",
                  "callFrames": [
                    {
                      "functionName": "Nt",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3008865
                    },
                    {
                      "functionName": "a",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018913
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018974
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018853
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3019019
                    },
                    {
                      "functionName": "it",
                      "scriptId": "113",
                      "url": "https://la5.fusionsolar.huawei.com/webadapter/adapter.js",
                      "lineNumber": 1,
                      "columnNumber": 114919
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018366
                    }
                  ],
                  "parent": {
                    "description": "Promise.then",
                    "callFrames": [
                      {
                        "functionName": "createApp",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 3018294
                      },
                      {
                        "functionName": "Dr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6384837
                      },
                      {
                        "functionName": "Nr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6385817
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585814
                      },
                      {
                        "functionName": "v",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 482618
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483960
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483047
                      },
                      {
                        "functionName": "r",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 491861
                      },
                      {
                        "functionName": "l",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492064
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492123
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492004
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585973
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 509599
                      }
                    ],
                    "parent": {
                      "description": "Promise.then",
                      "callFrames": [
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509576
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509543
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514135
                        },
                        {
                          "functionName": "le",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514090
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 510636
                        }
                      ],
                      "parent": {
                        "description": "Promise.then",
                        "callFrames": [
                          {
                            "functionName": "G",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 510525
                          },
                          {
                            "functionName": "",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 525005
                          }
                        ],
                        "parent": {
                          "description": "Promise.then",
                          "callFrames": [
                            {
                              "functionName": "",
                              "scriptId": "114",
                              "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                              "lineNumber": 1,
                              "columnNumber": 524976
                            }
                          ],
                          "parent": {
                            "description": "Promise.then",
                            "callFrames": [
                              {
                                "functionName": "We",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 524949
                              },
                              {
                                "functionName": "",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 523493
                              }
                            ],
                            "parent": {
                              "description": "Promise.then",
                              "callFrames": [
                                {
                                  "functionName": "",
                                  "scriptId": "114",
                                  "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                  "lineNumber": 1,
                                  "columnNumber": 523468
                                },
                                {
                                  "functionName": "",
                                  "scriptId": "114",
                                  "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                  "lineNumber": 1,
                                  "columnNumber": 523438
                                }
                              ],
                              "parent": {
                                "description": "Promise.then",
                                "callFrames": [
                                  {
                                    "functionName": "He",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 522919
                                  },
                                  {
                                    "functionName": "Re",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 520869
                                  },
                                  {
                                    "functionName": "",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 642717
                                  },
                                  {
                                    "functionName": "",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 642612
                                  },
                                  {
                                    "functionName": "Zc",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 643549
                                  },
                                  {
                                    "functionName": "b",
                                    "scriptId": "114",
                                    "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                    "lineNumber": 1,
                                    "columnNumber": 646852
                                  }
                                ],
                                "parent": {
                                  "description": "await",
                                  "callFrames": [
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 647298
                                    },
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 647309
                                    },
                                    {
                                      "functionName": "",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 82578
                                    },
                                    {
                                      "functionName": "Gn",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 82523
                                    },
                                    {
                                      "functionName": "ht",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 66848
                                    },
                                    {
                                      "functionName": "it",
                                      "scriptId": "114",
                                      "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                      "lineNumber": 1,
                                      "columnNumber": 66438
                                    }
                                  ],
                                  "parentId": {
                                    "id": "339",
                                    "debuggerId": "-6060000868116882005.8926023096971503728"
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "_priority": "High",
        "_resourceType": "fetch",
        "cache": {},
        "connection": "443",
        "pageref": "page_5",
        "request": {
          "method": "GET",
          "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/214.b9cdcab1.chunk.js",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Accept",
              "value": "*/*"
            },
            {
              "name": "Accept-Encoding",
              "value": "gzip, deflate, br, zstd"
            },
            {
              "name": "Accept-Language",
              "value": "es-CL,es;q=0.9"
            },
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "DNT",
              "value": "1"
            },
            {
              "name": "Host",
              "value": "la5.fusionsolar.huawei.com"
            },
            {
              "name": "Referer",
              "value": "https://la5.fusionsolar.huawei.com/uniportal/pvmswebsite/assets/build/cloud.html?app-id=smartpvms&instance-id=smartpvms&zone-id=region-1-a30723bb-f51d-46f4-8eab-6a21dd3a8563"
            },
            {
              "name": "Sec-Fetch-Dest",
              "value": "empty"
            },
            {
              "name": "Sec-Fetch-Mode",
              "value": "cors"
            },
            {
              "name": "Sec-Fetch-Site",
              "value": "same-origin"
            },
            {
              "name": "User-Agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Not;A=Brand\";v=\"99\", \"Microsoft Edge\";v=\"139\", \"Chromium\";v=\"139\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            }
          ],
          "queryString": [],
          "cookies": [],
          "headersSize": 1271,
          "bodySize": 0
        },
        "response": {
          "status": 200,
          "statusText": "OK",
          "httpVersion": "HTTP/1.1",
          "headers": [
            {
              "name": "Connection",
              "value": "keep-alive"
            },
            {
              "name": "Content-Encoding",
              "value": "gzip"
            },
            {
              "name": "Content-Type",
              "value": "application/javascript"
            },
            {
              "name": "Date",
              "value": "Tue, 12 Aug 2025 13:53:47 GMT"
            },
            {
              "name": "Server",
              "value": "elb"
            },
            {
              "name": "Transfer-Encoding",
              "value": "chunked"
            },
            {
              "name": "cache-control",
              "value": "private max-age=31536000"
            },
            {
              "name": "etag",
              "value": "W/\"28054-1752456992000\""
            },
            {
              "name": "last-modified",
              "value": "Mon, 14 Jul 2025 01:36:32 GMT"
            },
            {
              "name": "lubanops-gtrace-id",
              "value": "5044-1755006859435-2443596"
            },
            {
              "name": "lubanops-nenv-id",
              "value": "36"
            },
            {
              "name": "lubanops-ntrace-id",
              "value": "5044-1755006859435-2443596"
            },
            {
              "name": "x-content-type-options",
              "value": "nosniff"
            },
            {
              "name": "x-download-options",
              "value": "noopen"
            },
            {
              "name": "x-envoy-upstream-service-time",
              "value": "1"
            },
            {
              "name": "x-frame-options",
              "value": "SAMEORIGIN"
            },
            {
              "name": "x-xss-protection",
              "value": "1; mode=block"
            }
          ],
          "cookies": [],
          "content": {
            "size": 28054,
            "mimeType": "application/javascript",
            "compression": 18603,
            "text": "\"use strict\";(self[\"webpackJsonp_PVMSWebsite-website\"]=self[\"webpackJsonp_PVMSWebsite-website\"]||[]).push([[214],{68288:(e,t,s)=>{s.d(t,{Z:()=>Ue});var a=s(23774),i=s(93706),n=s(2326),o=s(92943),l=s(58082),r=s(21499),c=s(26887),d=s(92252),h=s(88391),m=s(66467),p=s(22934),u=s(24301),g=s(13450),S=s(52305),v=s(18804),y=s(55534),f=s.n(y),x=s(51523),w=s.n(x),b=s(70250),N=s.n(b),C=s(64218),j=s(59516),M=s(51250),D=s(31519),L=s(40401);const P={showMapSettingSubject:new L.x,hideClusterListSubject:new L.x};var T=s(41779),I=s(37920),Z=s.n(I),O=s(30912),k=(s(42904),s(34754)),H=s(23712);const{neteco:B}=window;class E extends h.Component{constructor(e){super(e),this.getDetailData=()=>{const{loadNcoPlantDetail:e,dn:t,intl:s,hideClusterList:a,mouseOutHandler:i,existPlant:n}=this.props;a&&a(),e(t,(0,O.Z)(\"-\"),s,n,i)},this.chargeSceneCustomOperate=e=>e&&\"1\"===e?\"--\":\"\";const t=\"zh-cn\"===B.i18n.getLocale();this.state={isCurLangZh:t}}componentDidMount(){this.getDetailData();const e=document.querySelector(\".nco-gis-panel .ol-overlaycontainer-stopevent\");e&&(e.style.pointerEvents=\"auto !important;\")}componentDidUpdate(e){const{dn:t,clearMapDtailData:s}=this.props;e.dn!==t&&(s(),this.getDetailData())}componentWillUnmount(){this.setState=()=>{}}render(){const{name:e,detail:t,intl:s,isWeather:a,currentWeather:i,otherDayWeather:n,errCode:o,dn:l,mouseOverHandler:r,mouseOutHandler:c}=this.props,{plantAddress:d,installedCapacity:h,gridConnectedTime:m,stationRunningDays:p,timeZone:u,stationDate:g,plantScene:S,isShared:v,stationSummary:y,isPureCharge:f}=t,{iUnescape:x}=B.util,{isCurLangZh:w}=this.state,b=[{label:s.formatMessage({id:\"neteco.pvms.map.stationInfoWin.stationAddress\"}),value:x(d)},{label:`${s.formatMessage({id:(0,k.k)()?\"neteco.pvms.inverter.DcCapacity\":\"neteco.pvms.totalPV.string.capacity\"})}:`,value:this.chargeSceneCustomOperate(f)||h},{label:s.formatMessage({id:\"neteco.pvms.map.stationInfoWin.gridTime\"}),value:this.chargeSceneCustomOperate(f)||(m?Z()(m).format(\"YYYY-MM-DD\"):\"\")},{label:s.formatMessage({id:\"neteco.pvms.map.stationInfoWin.runDays\"}),value:p||0===p?s.formatMessage({id:\"neteco.smartpvms.antoEci.analytics.cookies.validity.period\"},{0:p}):\"\"},{label:s.formatMessage({id:\"neteco.pvms.KPI.singlePlant.plantSurvey.stationTimeZone\"}),value:x(u)},{label:s.formatMessage({id:\"neteco.pvms.KPI.singlePlant.plantSurvey.stationTime\"}),value:g}];return(0,H.jsxs)(\"div\",{className:\"nco-plant-detail\",style:{width:w?\"45rem\":\"auto\",height:w?\"34.75rem\":\"auto\"},onMouseOver:()=>{r&&r(!0)},onMouseOut:()=>{c&&c(!1)},children:[(0,H.jsx)(\"div\",{className:\"nco-plant-detail-name\",title:x(e),children:x(e)}),(0,H.jsx)(T.Z,{}),(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-content\",children:[(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-top-content\",children:[(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-plant-image\",children:[(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-plant-scene\",children:[v&&\"true\"===v&&(0,H.jsx)(\"img\",{src:\"/pvmswebsite/assets/build/images/home/ic_map_shared.png\",alt:\"\",className:\"nco-plant-detail-plant-scence-shared\"}),(0,H.jsx)(\"img\",{src:S?`/rest/pvms/web/station/v1/station/download-logo?stationDn=${l}&t=${Date.now()}`:\"/pvmswebsite/assets/build/images/station/Site_img.png\",alt:\"\",style:{width:\"90%\",height:\"12rem\"}})]}),(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-plant-intro\",children:[(0,H.jsx)(\"div\",{className:\"nco-plant-detail-plant-intro-label\",children:s.formatMessage({id:\"neteco.pvms.map.stationInfoWin.stationIntroduce\"})}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-plant-intro-value\",title:x(y),children:x(y)})]})]}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-station-overview\",children:b.length&&b.map(((e,t)=>(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-station-info\",children:[(0,H.jsx)(\"div\",{className:\"nco-plant-detail-station-label\",children:e.label}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-station-value\",children:(0,H.jsx)(\"span\",{title:e.value,children:e.value})})]},t)))})]}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-bottom-content\",children:(0,H.jsxs)(\"div\",{style:{marginTop:\"1.5rem\"},children:[(0,H.jsx)(T.Z,{}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-content-weather-title\",children:s.formatMessage({id:\"neteco.pvms.KPI.singlePlant.plantSurvey.weatherForecase\"})}),a?(0,H.jsxs)(\"div\",{style:{display:\"flex\"},children:[(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-current-weather\",children:[(0,H.jsx)(\"div\",{children:(0,H.jsx)(\"img\",{src:i.iconUrl,style:{width:\"90%\"},alt:\"\"})}),(0,H.jsx)(\"div\",{style:{color:\"#333\",marginTop:\".5rem\",textAlign:\"left\"},children:i.weatherText})]}),(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-current-info\",children:[(0,H.jsx)(\"div\",{children:`${i.weekDay}　${i.date}`}),(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-temp-data\",children:[(0,H.jsx)(\"span\",{children:i.currentTemperature}),(0,H.jsx)(\"span\",{style:{fontSize:\"2.625rem\"},children:\"℃\"})]}),(0,H.jsx)(\"div\",{children:`${i.minTemperature}~${i.maxTemperature}℃`}),(0,H.jsxs)(\"div\",{style:{color:\"#666\",fontSize:\".75rem\"},children:[s.formatMessage({id:\"neteco.pvms.weather.forecast.wind.speed\"}),\" \",i.windSpeed,\"km/h\"]})]}),(0,H.jsx)(\"div\",{style:{display:\"flex\",flex:5},children:n.map((e=>(0,H.jsxs)(\"div\",{style:{textAlign:\"center\",paddingRight:\".5rem\",borderRight:\"1px solid #ccc\",fontSize:\".875rem\",color:\"#333\"},children:[(0,H.jsx)(\"div\",{className:!0,children:e.weekDay}),(0,H.jsxs)(\"div\",{style:{fontSize:\".875rem\"},children:[(0,H.jsx)(\"div\",{style:{margin:\"0.6rem\",height:\"2rem\"},children:(0,H.jsx)(\"img\",{src:e.iconUrl,alt:\"\",style:{width:\"2rem\"}})}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-weather-text\",children:e.weatherText}),(0,H.jsx)(\"div\",{className:\"nco-plant-detail-weather-temp\",children:`${e.minTemperature}~${e.maxTemperature}℃`}),(0,H.jsxs)(\"div\",{className:\"nco-plant-detail-weather-text\",style:{fontSize:\".75rem\"},children:[s.formatMessage({id:\"neteco.pvms.weather.forecast.wind.speed\"}),\" \",e.windSpeed,\"km/h\"]})]})]})))})]}):(0,H.jsxs)(\"div\",{className:\"nco-weather-data-empty\",children:[(0,H.jsx)(\"img\",{src:\"/pvmswebsite/assets/build/images/station/noData.png\",style:{width:\"13%\"}}),(0,H.jsx)(\"span\",{style:{fontSize:\".875rem\"},children:o})]})]})})]})]})}}const F=E;var R=s(45258),z=s(11150),A=s(49453),U=s(74495);const $=e=>{let t=\"\";return t=e?Number.isInteger(e)?e.toFixed(1):Number(e):\"0.0\",t},W=e=>({type:z.T_,payload:e}),G=e=>({type:z.FS,payload:e}),_=[],J=e=>{e(W({errCode:\"\",weather:[]})),e(G({}))},V=(0,a.$j)((e=>({detail:e.ncoPlantDetail.detail,currentWeather:e.ncoPlantDetail.currentWeather,isWeather:e.ncoPlantDetail.isWeather,otherDayWeather:e.ncoPlantDetail.otherDayWeather,errCode:e.ncoPlantDetail.errCode,loading:e.ncoPlantDetail.loading})),(e=>({loadNcoPlantDetail:(t,s,a,i)=>{(async(e,t,s,a,i)=>{e({type:z.Mb});try{if(!_.includes(t)){const{success:i,data:l}=await(0,A.U2)(\"/rest/pvms/web/station/v1/overview/station-detail\",{stationDn:t});if(i){var n;e(G(l));let t=\"\";const{latitude:i,longitude:r}=l,{success:c,data:d}=await(0,A.U2)(\"/rest/pvms/web/weather/v1/station-weathers\",{latitude:$(i),longitude:$(r),language:s});var o;c&&200===(null===(n=d[0])||void 0===n?void 0:n.statusCode)?e(W({errCode:t,weather:d})):(t=(0,U.Z)(a,null===(o=d[0])||void 0===o?void 0:o.statusCode),e(W({errCode:t,weather:[]})))}}}catch(s){406===s.status&&(_.includes(t)||R.Z.info({title:a.formatMessage({id:\"neteco.pvms.info\"}),content:a.formatMessage({id:\"neteco.pvms.stationInfo.modifyStation.isDeleted\"}),okText:`${a.formatMessage({id:\"neteco.pvms.confirm\"})} `,onOk:()=>{i&&i(t,_),_.push(t)}}),J(e))}})(e,t,s,a,i)},clearMapDtailData:()=>{J(e)}})))((0,i.ZP)(F));s(36685);var K=s(3120),Y=s(13746);function q(e,t){return(0,Y.rh)(e)&&!(0,C.B5)(t)?{x:16,y:60}:(0,Y.NV)(e)&&!(0,C.B5)(t)?{x:0,y:40}:null}const Q=new K.Z({clusterImage:\"/pvmswebsite/assets/build/images/gis/ic_cluster_s.png\",clusterDistance:50,siteImageUrlBuilder:(e,t,s)=>{const{healthState:a,mocId:i}=e;let n=\"\";switch(a){case\"connected\":default:n=\"normal\";break;case\"trouble\":n=\"critical\";break;case\"disconnected\":n=\"disconnect\";break;case\"major\":n=\"major\"}return{url:a?`/pvmswebsite/assets/build/images/gis/${n}_normal.png`:\"\",...(0,Y.Ad)(\"major\"===n?n:\"normal\"),textOffset:q(null==s?void 0:s.mapType,i)}}});var X=s(15694),ee=s(90701),te=s(56017);const{neteco:se}=window,{iUnescape:ae}=se.util;class ie extends h.Component{constructor(e){super(e),this.handleTableChange=(e,t,s)=>{this.setState({filteredInfo:t,sortedInfo:s,curPlant:{}})},this.mouserPlant=(e,t)=>{const{showSiteTips:s}=this.props;s(e,t),this.setState({curPlant:e})},this.isDeleteDn=e=>{const{deleteDn:t,deleteDns:s}=this.props;return t===e||s.length&&s.includes(e)},this.enterPlant=e=>{const{history:t}=this.props,{path:s,redirectPage:a}=te.D.container;t.push((0,te.n)(s,a,e))},this.state={sortedInfo:null}}render(){const{visiable:e,hideClusterList:t,clusterPlant:s,intl:a,clusterSingleShow:i}=this.props,{curPlant:n}=this.state,l=[\"connected\",\"trouble\",\"disconnected\"],r=[{title:a.formatMessage({id:\"ncoHomeSiteList.columns.siteStatus\"}),dataIndex:\"healthState\",key:\"healthState\",align:\"center\",sorter:(e,t)=>l.indexOf(e.healthState)-l.indexOf(t.healthState),render:(e,t)=>{const s={};if(this.isDeleteDn(t.dn))s.css=\"nco-station-state-grey-circle nco-station-state-circle\",s.title=a.formatMessage({id:\"ncoHomeContainer.label.siteFilter.disconnected\"});else switch(e){case\"disconnected\":s.css=\"nco-station-state-grey-circle nco-station-state-circle\",s.title=a.formatMessage({id:\"ncoHomeContainer.label.siteFilter.disconnected\"});break;case\"connected\":s.css=\"nco-station-state-green-circle nco-station-state-circle\",s.title=a.formatMessage({id:\"common.message.status.normal\"});break;default:s.css=\"nco-station-state-red-circle nco-station-state-circle\",s.title=a.formatMessage({id:\"ncoHomeContainer.label.siteFilter.breakdown\"})}return(0,H.jsx)(ee.Z,{title:s.title,children:(0,H.jsx)(\"div\",{className:s.css,style:{display:\"inline-block\"}})})}},{title:a.formatMessage({id:\"neteco.pvms.deviceDialog.stationName\"}),dataIndex:\"name\",key:\"name\",className:\"nco-cloumn-relative\",sorter:(e,t)=>ae(e.name).localeCompare(ae(t.name)),render:(e,t)=>(0,H.jsx)(ee.Z,{title:ae(e),placement:\"topLeft\",children:(0,H.jsx)(\"span\",{className:\"nco-table-site-name\",style:{color:this.isDeleteDn(t.dn)?\"#212121\":\"#1b8adb\",cursor:this.isDeleteDn(t.dn)?\"default\":\"pointer\"},children:ae(e)})})}];return(0,H.jsx)(\"div\",{children:(0,H.jsx)(o.Z,{title:`${a.formatMessage({id:\"neteco.pvms.cluster.plant.list\"})}(${s.length})`,placement:\"right\",maskClosable:!1,mask:!1,width:(0,C.ax)()?\"19.75rem\":\"18.75rem\",onClose:()=>{t()},zIndex:1001,visible:e,style:{marginTop:(0,C.ax)()?\"3rem\":\"4rem\"},children:s&&s.length&&(0,H.jsx)(X.Z,{columns:r,rowKey:\"dn\",showSorterTooltip:!1,dataSource:s,rowClassName:e=>n&&i&&e.dn===n.dn?\"nco-map-station-list-selected\":null,showSizeChanger:!0,size:\"small\",onChange:this.handleTableChange,pagination:{total:s.length,defaultPageSize:(0,C.ax)()?10:15},onRow:e=>({onClick:()=>{this.enterPlant(e.dn)},onMouseOver:()=>{this.isDeleteDn(e.dn)||this.mouserPlant(e,!0)},onMouseOut:()=>{this.mouserPlant(e,!1)}})})})})}}const ne=ie;var oe=s(9490),le=s.n(oe),re=s(44184),ce=s(53137),de=s(59005);const{iUnescape:he}=window.neteco.util;function me(e){let{intl:t,name:s,dn:a}=e;return(0,H.jsx)(de.Z,{className:\"map-company-card\",children:(0,H.jsxs)(\"div\",{children:[(0,H.jsxs)(\"span\",{className:\"company-name-key\",children:[t.formatMessage({id:\"neteco.pvms.partials.main.io.stationStatus.tableList.company\"}),\" :\"]}),(0,H.jsx)(\"span\",{title:he(s),className:\"company-name-value\",children:he(s)})]})})}var pe=s(37825),ue=s(4342),ge=s(65835),Se=s(65595),ve=s(99073);const{Option:ye}=d.Z,{neteco:fe}=window,{iUnescape:xe}=fe.util,{showMapSettingSubject:we,hideClusterListSubject:be}=P,{accessId:Ne,leaveId:Ce,pageName:je,changeMapId:Me,changeMapActionName:De}=D.e.homeMapView,Le=e=>{let{color:t}=e;return(0,H.jsx)(\"div\",{style:{position:\"absolute\",bottom:0,right:0,width:\"14px\",height:\"14px\",backgroundColor:t,borderRadius:\"50%\"}})},Pe=e=>{switch(e){case\"disconnected\":return M.u.DISCONNECTED;case\"connected\":default:return M.u.CONNECTED;case\"trouble\":return M.u.TROUBLE}};class Te extends h.Component{constructor(e){var t;super(e),t=this,this.showSiteTips=(e,t)=>{this.setState({clusterSingleShow:t,clusterSingleData:e})},this.switchClusterDetail=e=>{this.setState({clusterSingleShow:e})},this.loadMapSites=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{loadSites:a,isBigScreen:i,loadCompanyAndSite:n,dn:o,isCompanyView:l,intl:r}=t.props;if(!l)return i?(e&&\"/\"!==e||a(r,i),void n(e||o,s)):void a(r,i);\"/\"===o?a(r,i):n(o,s,l)},this.changeMapHandler=e=>{const{saveSelectedMap:t}=this.props;this.setState({currentMap:e});const s={pageName:je,actionName:De,mapTypes:e.id};ge.$.saveAnalyticsData(Me,s),t(e)},this.isBusinessBigScreen=async e=>{var t;const s=await(0,Se.aS)(e);return!(String(null==s||null===(t=s.data)||void 0===t?void 0:t.plantType)!==ve.x1.BUSINESS_STATION||!(0,j.lVp)(j._iZ)||((0,re.cW)(`/pvmswebsite/assets/build/index.html#/home/business-screen/station/${e}`),0))},this.clickSiteHandler=async e=>{const{history:t,isBigScreen:s,loadCompanyAndSite:a}=this.props,i=await this.isBusinessBigScreen(e.dn);if(!s||!i)if(e.length>0&&!s)e.sort(((e,t)=>t.createTime-e.createTime)),this.setState({clusterPlant:e,clusterVisiable:!0});else if(s){const{bigScreenSearchName:t}=this.state;if(t){const s=JSON.parse(t),{parentDn:i}=s;\"share-station-company-dn\"===i?a(e.dn,s):a(e.dn)}else a(e.dn)}else{const{path:s,redirectPage:a}=te.D.container;t.push((0,te.n)(s,a,e.dn))}},this.searchPlantByStatus=e=>{const{sites:t,getMapSiteList:s,dn:a}=this.props,i=t.filter((t=>t.healthState===e||!e));this.setState({sites:i,searchStationStatus:e}),s(a)},this.notFindStationTips=()=>{const{intl:e}=this.props;c.ZP&&c.ZP.destroy(),c.ZP.error(e.formatMessage({id:\"neteco.pvms.partials.main.io.map.nofind\"}),1),c.ZP.config({maxCount:1})},this.searchPlantByName=e=>{const{centerRandom:t}=this.state;let s=this.getRandom()/1e6;s===t&&(s=this.getRandom()/1e6),this.hideClusterList(),this.setState({centerRandom:s});const{searchStationName:a,searchStationStatus:i}=this.state,{sites:n,intl:o}=this.props;let l=\"\",r=\"\";if(e&&Object.keys(e).length&&\"more\"!==e.id){const{longitude:t,latitude:s}=e;l=t,r=s}else{const e=n.filter((e=>e.name.toLowerCase()===a.toLowerCase()&&(i===e.healthState||!i)));if(e.length){const[{longitude:t,latitude:s}]=e;l=t,r=s}else this.notFindStationTips(o)}l&&r&&(this.setState({centerLongitude:l+t,centerLatitude:r+t,mapZoom:20+t}),this.getMapSelectList())},this.getRandom=()=>{const e=[];for(let t=0;t<10;t+=1)e[t]=t+1;e.sort((()=>.5-fe.util.random()));for(let t=0;t<10;t+=1)return e[t]},this.getMapSelectList=()=>{const{searchStationStatus:e}=this.state,{getMapStationByParams:t}=this.props;t({stationName:\"\",stationStatus:e})},this.changeMapSearchName=e=>{let t=e;if(e){const s=JSON.parse(e);t=s.name,this.searchPlantByName(s)}this.setState({searchStationName:t})},this.getScreenStationList=e=>{e&&this.setState({bigScreenSearchName:e});const{loadStationList:t}=this.props;t(e)},this.changeScreenStationList=async e=>{const{loadCompanyAndSite:t}=this.props;if(e){const s=JSON.parse(e),{dn:a,parentDn:i}=s;if(await this.isBusinessBigScreen(a))return;s.children=[],s.mocId=20801,s.mapPath=[],t(a,s)}this.setState({bigScreenSearchName:e}),this.getScreenSelectList()},this.selectBlurCallback=()=>{le()(\".nco-home-gis-search-icon\").focus(),le()(\".nco-big-screen-search-icon\").focus(),this.setState({searchStationName:void 0})},this.getScreenSelectList=()=>{const{loadStationList:e}=this.props;e(\"\")},this.setMapSearchByWord=e=>{const{searchStationStatus:t}=this.state,{getMapStationByParams:s,dn:a}=this.props;e&&this.setState({searchStationName:e}),s({stationName:e,stationStatus:t})},this.gisTypeSelect=()=>{const{intl:e}=this.props,t=e.formatMessage({id:\"ncoHomeContainer.label.siteFilter.all\"}),s=e.formatMessage({id:\"neteco.pvms.systemSetting.tnormal\"}),a=e.formatMessage({id:\"ncoHomeContainer.label.siteFilter.breakdown\"}),i=e.formatMessage({id:\"ncoHomeContainer.label.siteFilter.disconnected\"});return(0,H.jsxs)(d.Z,{virtual:!1,defaultValue:\"\",style:{width:\"7rem\"},onChange:this.searchPlantByStatus,children:[(0,H.jsx)(ye,{value:\"\",title:t,children:t}),(0,H.jsx)(ye,{value:\"connected\",title:s,children:s}),(0,H.jsx)(ye,{value:\"trouble\",title:a,children:a}),(0,H.jsx)(ye,{value:\"disconnected\",title:i,children:i})]})},this.stationSelect=()=>{const{searchStationName:e,mapSearchList:t,placeholder:s}=this.state,{fetching:a}=this.props,i=a?[]:t;return(0,H.jsx)(d.Z,{showSearch:!0,showArrow:!1,onChange:e=>{this.changeMapSearchName(e)},placeholder:s,defaultActiveFirstOption:!1,filterOption:!1,value:xe(e),style:{width:\"22rem\"},allowClear:!0,onFocus:this.getMapSelectList,onSearch:w()((e=>this.setMapSearchByWord(e)),800),notFoundContent:a?(0,H.jsx)(r.Z,{size:\"small\"}):null,children:i&&i.map((e=>(0,H.jsx)(ye,{className:`nco-home-gis-search-match-name-item ${e.className||\"\"}`,disabled:e.disabled,title:xe(e.title)||null,children:xe(e.name)||(0,H.jsx)(m.Z,{})},JSON.stringify(e))))})},this.screenSelect=()=>{const{bigScreenSearchName:e,screenStationList:t,placeholder:s}=this.state,a=t.length>0&&t.map((e=>(0,H.jsx)(ye,{disabled:e.disabled,className:e.className||null,title:xe(e.title)||null,children:xe(e.name)||(0,H.jsx)(m.Z,{})},JSON.stringify(e))));return(0,H.jsx)(d.Z,{showArrow:!1,className:\"nco-home-gis-big-screen-search\",placeholder:s,showSearch:!0,value:e,filterOption:!1,allowClear:!0,defaultActiveFirstOption:!1,onSearch:e=>this.getScreenStationList(e),onChange:e=>this.changeScreenStationList(e),onFocus:this.getScreenSelectList,notFoundContent:null,children:a})},this.settingGisSearch=e=>!e&&(0,j.lVp)(j.TSA)?(0,H.jsxs)(\"div\",{className:\"nco-home-gis-search\",children:[this.gisTypeSelect(),this.stationSelect(),(0,H.jsx)(\"div\",{className:\"serach_area\",children:(0,H.jsx)(p.Z,{tabIndex:\"1\",className:\"nco-home-gis-search-icon\",onClick:()=>{this.searchPlantByName()}})})]}):(0,H.jsxs)(\"div\",{children:[this.screenSelect(),(0,H.jsx)(p.Z,{tabIndex:\"1\",className:\"nco-big-screen-search-icon\",onClick:this.searchScreenStation})]}),this.customColumns=[{dataIndex:\"healthState\",render:(e,t)=>(0,C.B5)(t.mocId)?(0,H.jsx)(\"span\",{className:\"icon-company-lined node-icon\"}):(0,H.jsx)(\"span\",{className:\"icon-station-lined node-icon\",children:(0,H.jsx)(Le,{color:Pe(e)})}),width:\"30%\"},{dataIndex:\"name\",ellipsis:!0}],this.setMapPanel=(e,t,s,a,i,n)=>{const{isBigScreen:o,intl:r}=this.props,{clusterPointTip:c}=this.state;let d=!0;o||(d=(0,j.lVp)(j.TSA));const h=getComputedStyle(window.document.documentElement)[\"font-size\"].replace(\"px\",\"\"),m=e&&r.formatMessage({id:\"neteco.map.disclaimer.content\"},{0:r.formatMessage({id:(0,Y.rJ)(e.mapType)})});return d?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(l.Z,{clusterList:{title:(0,H.jsx)(H.Fragment,{}),customColumns:this.customColumns,clusterPageSize:5},mapSettings:e,sites:{zoomToExtent:n,sites:t},siteRender:Q,isInverter:!0,siteDetailComponent:e=>{let{dn:t,name:s,mocId:a}=e;return void 0!==a&&(0,C.B5)(a)||void 0===t?(0,H.jsx)(me,{intl:r,dn:t,name:s}):(0,H.jsx)(V,{dn:t,name:s,hideClusterList:this.hideClusterList})},infoWindowSize:{height:540/h,width:720/h},centerLon:s,centerLat:a,zoom:i,clusterPointTip:c,seletionOnBlur:this.selectBlurCallback,onSelectFeature:this.clickSiteHandler,showPosition:!1,afterMapLoaded:this.loadMapSites,hideMapElemFilter:!0}),(0,H.jsx)(\"div\",{className:\"disclaimer\",children:(0,H.jsx)(u.Z,{color:o?\"#292929\":\"\",title:m,placement:\"topRight\",children:(0,H.jsxs)(g.Z,{ghost:!0,type:\"primary\",children:[(0,H.jsx)(S.Z,{className:\"disclaimer-icon\"}),r.formatMessage({id:\"neteco.map.disclaimer\"})]})})})]}):null},this.isJSON=e=>{if(\"string\"==typeof e)try{const t=JSON.parse(e);if(Object.keys(t).length>0)return!0}catch(e){return!1}return!1},this.searchScreenStation=()=>{const{bigScreenSearchName:e,screenStationList:t}=this.state;if(e&&this.isJSON(e))this.changeScreenStationList(e);else{const s=t.filter((t=>xe(t.name)===xe(e)));s.length>0?this.changeScreenStationList(JSON.stringify(s[0])):(e||0===e)&&this.notFindStationTips()}},this.showSettingModal=()=>{this.setState({showModal:!0})},this.handleCancel=()=>{this.setState({showModal:!1})},this.hideClusterList=()=>{this.setState({clusterVisiable:!1,clusterSingleShow:!1})},this.existPlant=(e,t)=>{this.setState({deleteDn:e,deleteDns:t})},this.state={sites:null,centerLongitude:void 0,centerLatitude:void 0,mapZoom:void 0,centerRandom:1e-6,bigScreenSearchName:void 0,mapSearchList:[],allStationList:[],screenStationList:[],currentMap:e.selectedMap||null,searchStationName:void 0,searchStationStatus:\"\",loadingSites:!1,clusterPlant:[],clusterPointTip:null,clusterPlantData:[],clusterSingleShow:!1,clusterSingleData:null,clusterVisiable:!1,deleteDn:\"\",deleteDns:[],placeholder:e.intl.formatMessage({id:\"ncoHomeContainer.label.searchSite.placeholder\"})},this.isFirstRenderSites=!0,this.startTime=ge.$.pageAccess(Ne,{pageName:je})}static getDerivedStateFromProps(e,t){return!t.currentMap&&e.selectedMap?{currentMap:e.selectedMap}:t.sites||t.sites===e.sites?f()(t.screenStationList,e.screenStationList)?f()(t.mapSearchList,e.mapSearchList)?f()(t.allStationList,e.allStationList)?t:{allStationList:N()(e.allStationList)}:{mapSearchList:N()(e.mapSearchList)}:{screenStationList:N()(e.screenStationList)}:{...t,zoomToExtent:!t.sites||0===t.sites.length&&e.sites.length>0,sites:e.sites}}componentDidMount(){this.restoreConsole=(0,re.ae)(ce.m2);const{loadNcoHomeGis:e,isBigScreen:t,getMapSiteList:s,dn:a}=this.props;we.subscribe(this.showSettingModal),t?this.props.onRef(this):s(a),be.subscribe(this.hideClusterList),e(this.hideClusterList)}componentDidUpdate(e){const{sites:t,currentNodeInfo:s,setMapCrumbs:a,isBigScreen:i,loadingSites:n}=this.props;if(!f()(e.sites,t)){const s=t&&t.length?t:e.sites;this.setState({sites:s})}f()(e.currentNodeInfo,s)||Object.keys(s).length>0&&a&&a(s),e.loadingSites!==n&&this.setState({loadingSites:n}),i&&(le()(\".ol-zoom\").length||le()(\".ol-scale-line\").length||le()(\".nco-home-settings\").length)&&(le()(\".ol-zoom\").hide(),le()(\".amap-zoomcontrol\").hide(),le()(\".ol-scale-line\").hide(),le()(\".amap-scalecontrol\").hide(),le()(\".nco-home-settings\").hide()),\"zh-cn\"!==fe.i18n.getLocale()&&le()(\".nco-map-list-tips .ant-drawer-content-wrapper\").height(\"auto\")}componentWillUnmount(){const{clearRenderedSites:e,changeMapToBlank:t}=this.props;e(),we.complete(),be.complete(),t(),this.setState=pe.mz,this.restoreConsole&&this.restoreConsole(),ge.$.pageLeave(this.startTime,Ce,{pageName:je})}render(){const{mapConfigs:e,isBigScreen:t,intl:s,commonConfig:a,history:i,hasConfigRight:n}=this.props,{currentMap:l,sites:c,zoomToExtent:d,centerLongitude:h,centerLatitude:m,loadingSites:p,mapZoom:u,clusterVisiable:g,clusterPlant:S,clusterSingleShow:y,clusterSingleData:f,deleteDn:x,deleteDns:w}=this.state,b=l?{...a,...l,cameraControl:!1}:null,N=d&&this.isFirstRenderSites;N&&!t&&(this.isFirstRenderSites=!1);const C=`${fe.util.getHeaderHeight()}`,j=(0,ue.jA)()?pe.SC.CHINESE:pe.SC.ENGLISH;return(0,H.jsxs)(\"div\",{className:\"nco-home-gis\",style:{height:t?\"71rem\":`calc(100vh - ${C}px)`,marginTop:t?\"-6.2%\":\"0\"},children:[p&&!t&&(0,H.jsx)(\"div\",{className:\"nco-home-gis-loading\",children:(0,H.jsx)(r.Z,{className:\"nco-home-gis-loading-icon\",size:\"large\"})}),this.settingGisSearch(t,h),this.setMapPanel(b,c,h,m,u,N),a&&e&&(0,H.jsx)(v.$,{className:\"nco-inventer-home-gis-setting\",intl:s,hasRights:!1,currentMap:l,mapConfigs:e,onChangeMap:this.changeMapHandler,isInverter:!0,mapConfigLang:j}),(0,H.jsx)(ne,{visiable:g,hideClusterList:this.hideClusterList,clusterPlant:S,deleteDn:x,deleteDns:w,clusterSingleShow:y,showSiteTips:this.showSiteTips,intl:s,history:i}),(0,H.jsx)(o.Z,{visible:y,style:{marginTop:\"4.5rem\"},footer:null,mask:!1,title:null,closable:!1,width:\"45rem\",className:\"nco-map-list-tips\",bodyStyle:{padding:0},children:f&&(0,H.jsx)(V,{dn:f.dn,name:f.name,mouseOverHandler:e=>this.switchClusterDetail(e),mouseOutHandler:e=>this.switchClusterDetail(e),existPlant:this.existPlant})})]})}}const Ie=Te;var Ze=s(99263),Oe=s(95059),ke=s(41148),He=s(69896);const{hideClusterListSubject:Be}=P,{operationInfo:Ee}=Oe.Z;let Fe=\"\";const Re=e=>({type:Ze.T_,payload:e}),ze=async e=>{e({type:Ze.Mb});const t=await(0,ke.Z)();e(Re(t)),Be.next()},Ae=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{stationName:\"\",stationStatus:\"\"};e({type:Ze.c_,payload:!0});const{success:s,data:a}=await(0,A.U2)(\"/rest/pvms/web/dashboard/v1/search-station\",t);s&&(e({type:Ze.yO,payload:a}),e({type:Ze.c_,payload:!1}))},Ue=(0,a.$j)((e=>({loadingSites:e.ncoHomeGis.loadingSites,commonConfig:e.ncoHomeGis.commonConfig,mapConfigs:e.ncoHomeGis.mapConfigs,sites:e.ncoHomeGis.sites,fetching:e.ncoHomeGis.fetching,currentNodeInfo:e.ncoHomeGis.currentNodeInfo,screenStationList:e.ncoHomeGis.screenStationList,selectedMap:e.ncoHomeGis.selectedMap,hasConfigRight:e.ncoHomeGis.hasConfigRight,mapSearchList:e.ncoHomeGis.mapSearchList,allStationList:e.ncoHomeGis.allStationList})),(e=>({loadNcoHomeGis:()=>{ze(e)},loadSites:(t,s)=>{(async(e,t,s)=>{e({type:Ze.qt});const{success:a,data:i}=await(0,A.U2)(\"/rest/pvms/web/station/v1/station/map-station-list\");a&&(i.length||s||(Fe=Ee(t,t.formatMessage({id:\"neteco.pvms.map.view.empty.beyond.station\"}))),e({type:Ze.sE,payload:{sites:i}}))})(e,t,s)},loadCompanyAndSite:(t,s,a)=>{(async(e,t,s,a)=>{const{success:i,data:n}=await(0,A.U2)(\"/rest/pvms/web/dashboard/v1/company-station-info\",{companyDn:t||\"\",includeShare:!0}),{installLanguage:o}=n;if(s){n.children=[s];const{parentDn:e,name:t,mocId:a,dn:i}=s;\"share-station-company-dn\"===e&&(n.mapPath=[{name:\"en\"===o?\"Shared Plants\":\"分享电站公司\",dn:\"share-station-company-dn\",mocId:\"20800\"},{name:t,dn:i,mocId:String(a),currentNode:s}])}a&&(n.children=n.children.filter((e=>20800!==e.mocId))),i&&e({type:Ze.US,payload:n})})(e,t,s,a)},loadStationList:t=>{(async(e,t)=>{const{success:s,data:a}=await(0,A.U2)(\"/rest/pvms/web/dashboard/v1/search-station\",{stationName:t});s&&e({type:Ze.p5,payload:a})})(e,t)},saveSelectedMap:t=>{(async(e,t)=>{const{id:s,name:a}=t,i={id:s,name:a},n=await He.Z.getSystemConfigs();await(0,A.v_)(\"/rest/dpcloud/dpunihomeservice/v1/geography/save-selected-map\",{mapJson:JSON.stringify(i),languageKey:(0,ue.jA)()?pe.SC.CHINESE:pe.SC.ENGLISH,regionName:(null==n?void 0:n.regionName)||\"\"},!0),ze(e)})(e,t)},getMapSiteList:t=>{((e,t)=>{t?(async(e,t)=>{const{success:s,data:{children:a}}=await(0,A.U2)(\"/rest/pvms/web/dashboard/v1/company-station-info\",{companyDn:t||\"\",includeShare:!0});if(s){const t=a.filter((e=>e.mocId&&20800!==Number(e.mocId)));e({type:Ze.YS,payload:t})}})(e,t):Ae(e)})(e,t)},getMapStationByParams:t=>{Ae(e,t)},clearRenderedSites:()=>{(e=>{Fe&&Fe.destroy(),e({type:Ze.sE,payload:{sites:null}}),e({type:Ze.US,payload:null})})(e)},changeMapToBlank:()=>{!async function(e){e(Re({mapSettings:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,commonConfig:{},hasConfigRight:!1,selectedMap:null}))}(e)}})))((0,n.EN)((0,i.ZP)(Ie)))},51250:(e,t,s)=>{s.d(t,{u:()=>a});const a={DISCONNECTED:\"#939393\",CONNECTED:\"#2da769\",TROUBLE:\"#f43146\"}},42904:(e,t,s)=>{s(4342)},74495:(e,t,s)=>{s.d(t,{Z:()=>a});const a=(e,t)=>{let s=\"\";switch(t){case 204:s=e.formatMessage({id:\"neteco.pvms.noWearth.addressError.tips\"});break;case 401:case 412:s=e.formatMessage({id:\"neteco.pvms.singlePlant.weatherErr.msg\"});break;case 429:s=e.formatMessage({id:\"neteco.pvms.singlePlant.weather.dayLimit.msg\"});break;default:s=e.formatMessage({id:\"neteco.pvms.intelAlarm.unknownAlarmName\"})}return s}},77386:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(49453),i=s(44184);const n=async e=>{const[t,s]=await(0,i.AM)((0,a.U2)(\"/rest/pvms/fm/v1/statistic\",e)),n={critical:0,major:0,minor:0,warning:0,all:0};if(!t&&s.success){const{data:e=[]}=s,t=e.find((e=>\"1\"===e.severity)),a=e.find((e=>\"2\"===e.severity)),i=e.find((e=>\"3\"===e.severity)),o=e.find((e=>\"4\"===e.severity)),l=e.reduce(((e,t)=>e+Number((null==t?void 0:t.value)||0)),0);n.critical=t.value||0,n.major=a.value||0,n.minor=i.value||0,n.warning=o.value||0,n.all=l||0}return n}}}]);"
          },
          "redirectURL": "",
          "headersSize": 576,
          "bodySize": 9451,
          "_transferSize": 10027,
          "_error": null,
          "_fetchedViaServiceWorker": false
        },
        "serverIPAddress": "119.8.229.117",
        "startedDateTime": "2025-08-12T13:53:48.798Z",
        "time": 72.99199991393834,
        "timings": {
          "blocked": 1.9850000004768371,
          "dns": -1,
          "ssl": -1,
          "connect": -1,
          "send": 0.049000000000000044,
          "wait": 70.47000003929436,
          "receive": 0.4879998741671443,
          "_blocked_queueing": 1.1620000004768372,
          "_workerStart": -1,
          "_workerReady": -1,
          "_workerFetchStart": -1,
          "_workerRespondWithSettled": -1
        }
      },
      {
        "_connectionId": "406360",
        "_initiator": {
          "type": "script",
          "stack": {
            "callFrames": [
              {
                "functionName": "n",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 530806
              },
              {
                "functionName": "",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 531024
              },
              {
                "functionName": "Jt",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 530965
              },
              {
                "functionName": "tn",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 531861
              },
              {
                "functionName": "t",
                "scriptId": "114",
                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                "lineNumber": 1,
                "columnNumber": 569072
              },
              {
                "functionName": "d.l",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6336939
              },
              {
                "functionName": "d.f.j",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6340121
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329159
              },
              {
                "functionName": "d.e",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6329137
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6357803
              },
              {
                "functionName": "componentDidMount",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 1335
              },
              {
                "functionName": "Sl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834903
              },
              {
                "functionName": "bl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834688
              },
              {
                "functionName": "yl",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4834232
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4845889
              },
              {
                "functionName": "xc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4846391
              },
              {
                "functionName": "lc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4840207
              },
              {
                "functionName": "Vi",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4781235
              },
              {
                "functionName": "nc",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4837137
              },
              {
                "functionName": "enqueueSetState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4803637
              },
              {
                "functionName": "v.setState",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 4888021
              },
              {
                "functionName": "eval",
                "scriptId": "135",
                "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                "lineNumber": 1,
                "columnNumber": 6362932
              }
            ],
            "parent": {
              "description": "Promise.then",
              "callFrames": [
                {
                  "functionName": "componentDidMount",
                  "scriptId": "135",
                  "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                  "lineNumber": 1,
                  "columnNumber": 6362621
                }
              ],
              "parent": {
                "description": "await",
                "callFrames": [
                  {
                    "functionName": "Sl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834903
                  },
                  {
                    "functionName": "bl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834688
                  },
                  {
                    "functionName": "yl",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4834232
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4845889
                  },
                  {
                    "functionName": "xc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4846391
                  },
                  {
                    "functionName": "lc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840207
                  },
                  {
                    "functionName": "Vi",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4781235
                  },
                  {
                    "functionName": "uc",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4840505
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858411
                  },
                  {
                    "functionName": "$c",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4858443
                  },
                  {
                    "functionName": "t.render",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 4862662
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018630
                  },
                  {
                    "functionName": "d",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3002876
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3004223
                  },
                  {
                    "functionName": "eval",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3003305
                  },
                  {
                    "functionName": "Nt",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3008794
                  },
                  {
                    "functionName": "a",
                    "scriptId": "135",
                    "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                    "lineNumber": 1,
                    "columnNumber": 3018913
                  }
                ],
                "parent": {
                  "description": "Promise.then",
                  "callFrames": [
                    {
                      "functionName": "Nt",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3008865
                    },
                    {
                      "functionName": "a",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018913
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018974
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018853
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3019019
                    },
                    {
                      "functionName": "it",
                      "scriptId": "113",
                      "url": "https://la5.fusionsolar.huawei.com/webadapter/adapter.js",
                      "lineNumber": 1,
                      "columnNumber": 114919
                    },
                    {
                      "functionName": "eval",
                      "scriptId": "135",
                      "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                      "lineNumber": 1,
                      "columnNumber": 3018366
                    }
                  ],
                  "parent": {
                    "description": "Promise.then",
                    "callFrames": [
                      {
                        "functionName": "createApp",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 3018294
                      },
                      {
                        "functionName": "Dr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6384837
                      },
                      {
                        "functionName": "Nr",
                        "scriptId": "135",
                        "url": "https://la5.fusionsolar.huawei.com/pvmswebsite/assets/build/static/js/main.37fa4adb.js",
                        "lineNumber": 1,
                        "columnNumber": 6385817
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585814
                      },
                      {
                        "functionName": "v",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 482618
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483960
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 483047
                      },
                      {
                        "functionName": "r",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 491861
                      },
                      {
                        "functionName": "l",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492064
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492123
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 492004
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 585973
                      },
                      {
                        "functionName": "",
                        "scriptId": "114",
                        "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                        "lineNumber": 1,
                        "columnNumber": 509599
                      }
                    ],
                    "parent": {
                      "description": "Promise.then",
                      "callFrames": [
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509576
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 509543
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514135
                        },
                        {
                          "functionName": "le",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 514090
                        },
                        {
                          "functionName": "",
                          "scriptId": "114",
                          "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                          "lineNumber": 1,
                          "columnNumber": 510636
                        }
                      ],
                      "parent": {
                        "description": "Promise.then",
                        "callFrames": [
                          {
                            "functionName": "G",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 510525
                          },
                          {
                            "functionName": "",
                            "scriptId": "114",
                            "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                            "lineNumber": 1,
                            "columnNumber": 525005
                          }
                        ],
                        "parent": {
                          "description": "Promise.then",
                          "callFrames": [
                            {
                              "functionName": "",
                              "scriptId": "114",
                              "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                              "lineNumber": 1,
                              "columnNumber": 524976
                            }
                          ],
                          "parent": {
                            "description": "Promise.then",
                            "callFrames": [
                              {
                                "functionName": "We",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 524949
                              },
                              {
                                "functionName": "",
                                "scriptId": "114",
                                "url": "https://la5.fusionsolar.huawei.com/framework/static/js/main.63d0a1cd.js",
                                "lineNumber": 1,
                                "columnNumber": 523493
                              }
                            ],
                            "parent": {
                              "description": "Promise.then",
                              "callFrames": [
                                {