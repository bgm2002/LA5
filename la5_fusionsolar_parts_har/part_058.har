asharray\",ZC);for(var m=0;m<FC.length;m++){var g=FC[m];if(r||t[g]!==rl[g]){var v=t[g]||rl[g];v&&e(zC[m],v)}}}else r&&e(\"stroke\",ZC)}})((function(i,o){var a=\"fill\"===i||\"stroke\"===i;a&&Hr(o)?xT(t,e,i,r):a&&Fr(o)?wT(n,e,i,r):e[i]=a&&\"none\"===o?\"transparent\":o}),t,n,!1),function(e,t,n){var r=e.style;if(function(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(r)){var i=function(e){var t=e.style,n=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(\",\")}(e),o=n.shadowCache,a=o[i];if(!a){var s=e.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=r.shadowOffsetX||0,d=r.shadowOffsetY||0,p=r.shadowBlur,f=jr(r.shadowColor),h=f.opacity,m=f.color,g=p/2/l+\" \"+p/2/c;a=n.zrId+\"-s\"+n.shadowIdx++,n.defs[a]=YC(\"filter\",a,{id:a,x:\"-100%\",y:\"-100%\",width:\"300%\",height:\"300%\"},[YC(\"feDropShadow\",\"\",{dx:u/l,dy:d/c,stdDeviation:g,\"flood-color\":m,\"flood-opacity\":h})]),o[i]=a}t.filter=Ur(a)}}(n,e,r)}function dT(e,t){var n=xo(t);n&&(n.each((function(t,n){null!=t&&(e[(UC+n).toLowerCase()]=t+\"\")})),t.isSilent()&&(e[UC+\"silent\"]=\"true\"))}function pT(e){return kr(e[0]-1)&&kr(e[1])&&kr(e[2])&&kr(e[3]-1)}function fT(e,t,n){if(t&&(!function(e){return kr(e[4])&&kr(e[5])}(t)||!pT(t))){var r=n?10:1e4;e.transform=pT(t)?\"translate(\"+sT(t[4]*r)/r+\" \"+sT(t[5]*r)/r+\")\":function(e){return\"matrix(\"+Lr(e[0])+\",\"+Lr(e[1])+\",\"+Lr(e[2])+\",\"+Lr(e[3])+\",\"+Rr(e[4])+\",\"+Rr(e[5])+\")\"}(t)}}function hT(e,t,n){for(var r=e.points,i=[],o=0;o<r.length;o++)i.push(sT(r[o][0]*n)/n),i.push(sT(r[o][1]*n)/n);t.points=i.join(\" \")}function mT(e){return!e.smooth}var gT,vT,yT={circle:[(gT=[\"cx\",\"cy\",\"r\"],vT=X(gT,(function(e){return\"string\"==typeof e?[e,e]:e})),function(e,t,n){for(var r=0;r<vT.length;r++){var i=vT[r],o=e[i[0]];null!=o&&(t[i[1]]=sT(o*n)/n)}})],polyline:[hT,mT],polygon:[hT,mT]};function bT(e,t){var n=e.style,r=e.shape,i=yT[e.type],o={},a=t.animation,s=\"path\",l=e.style.strokePercent,c=t.compress&&Gr(e)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||a&&function(e){for(var t=e.animators,n=0;n<t.length;n++)if(\"shape\"===t[n].targetName)return!0;return!1}(e)||l<1){var u=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;u&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var p=d.getVersion(),f=e,h=f.__svgPathBuilder;f.__svgPathVersion===p&&h&&l===f.__svgPathStrokePercent||(h||(h=f.__svgPathBuilder=new RC),h.reset(c),d.rebuildPath(h,l),h.generateStr(),f.__svgPathVersion=p,f.__svgPathStrokePercent=l),o.d=h.getStr()}else{s=e.type;var m=Math.pow(10,c);i[0](r,o,m)}return fT(o,e.transform),uT(o,n,e,t),dT(o,e),t.animation&&oT(e,o,t),t.emphasis&&function(e,t,n){if(!e.ignore)if(e.isSilent())aT(c={\"pointer-events\":\"none\"},t,n,!0);else{var r=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},i=r.fill;if(!i){var o=e.style&&e.style.fill,a=e.states.select&&e.states.select.style&&e.states.select.style.fill,s=e.currentStates.indexOf(\"select\")>=0&&a||o;s&&(i=Nr(s))}var l=r.lineWidth;l&&(l/=!r.strokeNoScale&&e.transform?e.transform[0]:1);var c={cursor:\"pointer\"};i&&(c.fill=i),r.stroke&&(c.stroke=r.stroke),l&&(c[\"stroke-width\"]=l),aT(c,t,n,!0)}}(e,o,t),YC(s,e.id+\"\",o)}function ST(e,t){return e instanceof sl?bT(e,t):e instanceof hl?function(e,t){var n=e.style,r=n.image;if(r&&!ae(r)&&(lT(r)?r=r.src:cT(r)&&(r=r.toDataURL())),r){var i=n.x||0,o=n.y||0,a={href:r,width:n.width,height:n.height};return i&&(a.x=i),o&&(a.y=o),fT(a,e.transform),uT(a,n,e,t),dT(a,e),t.animation&&oT(e,a,t),YC(\"image\",e.id+\"\",a)}}(e,t):e instanceof ul?function(e,t){var n=e.style,r=n.text;if(null!=r&&(r+=\"\"),r&&!isNaN(n.x)&&!isNaN(n.y)){var i=n.font||w,o=n.x||0,a=function(e,t,n){return\"top\"===n?e+=t/2:\"bottom\"===n&&(e-=t/2),e}(n.y||0,qi(i),n.textBaseline),s={\"dominant-baseline\":\"central\",\"text-anchor\":Zr[n.textAlign]||n.textAlign};if(Il(n)){var l=\"\",c=n.fontStyle,u=Pl(n.fontSize);if(!parseFloat(u))return;var d=n.fontFamily||x,p=n.fontWeight;l+=\"font-size:\"+u+\";font-family:\"+d+\";\",c&&\"normal\"!==c&&(l+=\"font-style:\"+c+\";\"),p&&\"normal\"!==p&&(l+=\"font-weight:\"+p+\";\"),s.style=l}else s.style=\"font: \"+i;return r.match(/\\s/)&&(s[\"xml:space\"]=\"preserve\"),o&&(s.x=o),a&&(s.y=a),fT(s,e.transform),uT(s,n,e,t),dT(s,e),t.animation&&oT(e,s,t),YC(\"text\",e.id+\"\",s,void 0,r)}}(e,t):void 0}function xT(e,t,n,r){var i,o=e[n],a={gradientUnits:o.global?\"userSpaceOnUse\":\"objectBoundingBox\"};if(zr(o))i=\"linearGradient\",a.x1=o.x,a.y1=o.y,a.x2=o.x2,a.y2=o.y2;else{if(!Vr(o))return;i=\"radialGradient\",a.cx=ye(o.x,.5),a.cy=ye(o.y,.5),a.r=ye(o.r,.5)}for(var s=o.colorStops,l=[],c=0,u=s.length;c<u;++c){var d=100*Rr(s[c].offset)+\"%\",p=jr(s[c].color),f=p.color,h=p.opacity,m={offset:d};m[\"stop-color\"]=f,h<1&&(m[\"stop-opacity\"]=h),l.push(YC(\"stop\",c+\"\",m))}var g=WC(YC(i,\"\",a,l)),v=r.gradientCache,y=v[g];y||(y=r.zrId+\"-g\"+r.gradientIdx++,v[g]=y,a.id=y,r.defs[y]=YC(i,y,a,l)),t[n]=Ur(y)}function wT(e,t,n,r){var i,o=e.style[n],a=e.getBoundingRect(),s={},l=o.repeat,c=\"no-repeat\"===l,u=\"repeat-x\"===l,d=\"repeat-y\"===l;if(Br(o)){var p=o.imageWidth,f=o.imageHeight,h=void 0,m=o.image;if(ae(m)?h=m:lT(m)?h=m.src:cT(m)&&(h=m.toDataURL()),\"undefined\"==typeof Image){var g=\"Image width/height must been given explictly in svg-ssr renderer.\";we(p,g),we(f,g)}else if(null==p||null==f){var v=function(e,t){if(e){var n=e.elm,r=p||t.width,i=f||t.height;\"pattern\"===e.tag&&(u?(i=1,r/=a.width):d&&(r=1,i/=a.height)),e.attrs.width=r,e.attrs.height=i,n&&(n.setAttribute(\"width\",r),n.setAttribute(\"height\",i))}},y=La(h,null,e,(function(e){c||v(w,e),v(i,e)}));y&&y.width&&y.height&&(p=p||y.width,f=f||y.height)}i=YC(\"image\",\"img\",{href:h,width:p,height:f}),s.width=p,s.height=f}else o.svgElement&&(i=F(o.svgElement),s.width=o.svgWidth,s.height=o.svgHeight);if(i){var b,S;c?b=S=1:u?(S=1,b=s.width/a.width):d?(b=1,S=s.height/a.height):s.patternUnits=\"userSpaceOnUse\",null==b||isNaN(b)||(s.width=b),null==S||isNaN(S)||(s.height=S);var x=Yr(o);x&&(s.patternTransform=x);var w=YC(\"pattern\",\"\",s,[i]),C=WC(w),T=r.patternCache,A=T[C];A||(A=r.zrId+\"-p\"+r.patternIdx++,T[C]=A,s.id=A,w=r.defs[A]=YC(\"pattern\",A,s,[i])),t[n]=Ur(A)}}function CT(e,t,n){var r=n.clipPathCache,i=n.defs,o=r[e.id];if(!o){var a={id:o=n.zrId+\"-c\"+n.clipPathIdx++};r[e.id]=o,i[o]=YC(\"clipPath\",o,a,[bT(e,n)])}t[\"clip-path\"]=Ur(o)}function TT(e){return document.createTextNode(e)}function AT(e,t,n){e.insertBefore(t,n)}function ET(e,t){e.removeChild(t)}function OT(e,t){e.appendChild(t)}function MT(e){return e.parentNode}function PT(e){return e.nextSibling}function DT(e,t){e.textContent=t}var IT=YC(\"\",\"\");function NT(e){return void 0===e}function _T(e){return void 0!==e}function jT(e,t,n){for(var r={},i=t;i<=n;++i){var o=e[i].key;void 0!==o&&(r[o]=i)}return r}function kT(e,t){var n=e.key===t.key;return e.tag===t.tag&&n}function LT(e){var t,n=e.children,r=e.tag;if(_T(r)){var i=e.elm=GC(r);if(BT(IT,e),ie(n))for(t=0;t<n.length;++t){var o=n[t];null!=o&&OT(i,LT(o))}else _T(e.text)&&!ce(e.text)&&OT(i,TT(e.text))}else e.elm=TT(e.text);return e.elm}function RT(e,t,n,r,i){for(;r<=i;++r){var o=n[r];null!=o&&AT(e,LT(o),t)}}function ZT(e,t,n,r){for(;n<=r;++n){var i=t[n];null!=i&&(_T(i.tag)?ET(MT(i.elm),i.elm):ET(e,i.elm))}}function BT(e,t){var n,r=t.elm,i=e&&e.attrs||{},o=t.attrs||{};if(i!==o){for(n in o){var a=o[n];i[n]!==a&&(!0===a?r.setAttribute(n,\"\"):!1===a?r.removeAttribute(n):\"style\"===n?r.style.cssText=a:120!==n.charCodeAt(0)?r.setAttribute(n,a):\"xmlns:xlink\"===n||\"xmlns\"===n?r.setAttributeNS(\"http://www.w3.org/2000/xmlns/\",n,a):58===n.charCodeAt(3)?r.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\",n,a):58===n.charCodeAt(5)?r.setAttributeNS(HC,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function FT(e,t){var n=t.elm=e.elm,r=e.children,i=t.children;e!==t&&(BT(e,t),NT(t.text)?_T(r)&&_T(i)?r!==i&&function(e,t,n){for(var r,i,o,a=0,s=0,l=t.length-1,c=t[0],u=t[l],d=n.length-1,p=n[0],f=n[d];a<=l&&s<=d;)null==c?c=t[++a]:null==u?u=t[--l]:null==p?p=n[++s]:null==f?f=n[--d]:kT(c,p)?(FT(c,p),c=t[++a],p=n[++s]):kT(u,f)?(FT(u,f),u=t[--l],f=n[--d]):kT(c,f)?(FT(c,f),AT(e,c.elm,PT(u.elm)),c=t[++a],f=n[--d]):kT(u,p)?(FT(u,p),AT(e,u.elm,c.elm),u=t[--l],p=n[++s]):(NT(r)&&(r=jT(t,a,l)),NT(i=r[p.key])||(o=t[i]).tag!==p.tag?AT(e,LT(p),c.elm):(FT(o,p),t[i]=void 0,AT(e,o.elm,c.elm)),p=n[++s]);(a<=l||s<=d)&&(a>l?RT(e,null==n[d+1]?null:n[d+1].elm,n,s,d):ZT(e,t,a,l))}(n,r,i):_T(i)?(_T(e.text)&&DT(n,\"\"),RT(n,null,i,0,i.length-1)):_T(r)?ZT(n,r,0,r.length-1):_T(e.text)&&DT(n,\"\"):e.text!==t.text&&(_T(r)&&ZT(n,r,0,r.length-1),DT(n,t.text)))}var zT=0,VT=function(){function e(e,t,n){if(this.type=\"svg\",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=H({},n),this.root=e,this._id=\"zr\"+zT++,this._oldVNode=qC(n.width,n.height),e&&!n.ssr){var r=this._viewport=document.createElement(\"div\");r.style.cssText=\"position:relative;overflow:hidden\";var i=this._svgDom=this._oldVNode.elm=GC(\"svg\");BT(null,this._oldVNode),r.appendChild(i),e.appendChild(r)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style=\"position:absolute;left:0;top:0;user-select:none\",function(e,t){if(kT(e,t))FT(e,t);else{var n=e.elm,r=MT(n);LT(t),null!==r&&(AT(r,t.elm,PT(n)),ZT(r,[e],0,0))}}(this._oldVNode,e),this._oldVNode=e}},e.prototype.renderOneToVNode=function(e){return ST(e,KC(this._id))},e.prototype.renderToVNode=function(e){e=e||{};var t=this.storage.getDisplayList(!0),n=this._width,r=this._height,i=KC(this._id);i.animation=e.animation,i.willUpdate=e.willUpdate,i.compress=e.compress,i.emphasis=e.emphasis;var o=[],a=this._bgVNode=function(e,t,n,r){var i;if(n&&\"none\"!==n)if(i=YC(\"rect\",\"bg\",{width:e,height:t,x:\"0\",y:\"0\"}),Hr(n))xT({fill:n},i.attrs,\"fill\",r);else if(Fr(n))wT({style:{fill:n},dirty:ke,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,\"fill\",r);else{var o=jr(n),a=o.color,s=o.opacity;i.attrs.fill=a,s<1&&(i.attrs[\"fill-opacity\"]=s)}return i}(n,r,this._backgroundColor,i);a&&o.push(a);var s=e.compress?null:this._mainVNode=YC(\"g\",\"main\",{},[]);this._paintList(t,i,s?s.children:o),s&&o.push(s);var l=X(te(i.defs),(function(e){return i.defs[e]}));if(l.length&&o.push(YC(\"defs\",\"defs\",{},l)),e.animation){var c=function(e,t,n){var r=(n=n||{}).newline?\"\\n\":\"\",i=\" {\"+r,o=r+\"}\",a=X(te(e),(function(t){return t+i+X(te(e[t]),(function(n){return n+\":\"+e[t][n]+\";\"})).join(r)+o})).join(r),s=X(te(t),(function(e){return\"@keyframes \"+e+i+X(te(t[e]),(function(n){return n+i+X(te(t[e][n]),(function(r){var i=t[e][n][r];return\"d\"===r&&(i='path(\"'+i+'\")'),r+\":\"+i+\";\"})).join(r)+o})).join(r)+o})).join(r);return a||s?[\"<![CDATA[\",a,s,\"]]>\"].join(r):\"\"}(i.cssNodes,i.cssAnims,{newline:!0});if(c){var u=YC(\"style\",\"stl\",{},[],c);o.push(u)}}return qC(n,r,o,e.useViewBox)},e.prototype.renderToString=function(e){return e=e||{},WC(this.renderToVNode({animation:ye(e.cssAnimation,!0),emphasis:ye(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:ye(e.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(e){this._backgroundColor=e},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(e,t,n){for(var r,i,o=e.length,a=[],s=0,l=0,c=0;c<o;c++){var u=e[c];if(!u.invisible){var d=u.__clipPaths,p=d&&d.length||0,f=i&&i.length||0,h=void 0;for(h=Math.max(p-1,f-1);h>=0&&(!d||!i||d[h]!==i[h]);h--);for(var m=f-1;m>h;m--)r=a[--s-1];for(var g=h+1;g<p;g++){var v={};CT(d[g],v,t);var y=YC(\"g\",\"clip-g-\"+l++,v,[]);(r?r.children:n).push(y),a[s++]=y,r=y}i=d;var b=ST(u,t);b&&(r?r.children:n).push(b)}}},e.prototype.resize=function(e,t){var n=this._opts,r=this.root,i=this._viewport;if(null!=e&&(n.width=e),null!=t&&(n.height=t),r&&i&&(i.style.display=\"none\",e=ey(r,0,n),t=ey(r,1,n),i.style.display=\"\"),this._width!==e||this._height!==t){if(this._width=e,this._height=t,i){var o=i.style;o.width=e+\"px\",o.height=t+\"px\"}if(Fr(this._backgroundColor))this.refresh();else{var a=this._svgDom;a&&(a.setAttribute(\"width\",e),a.setAttribute(\"height\",t));var s=this._bgVNode&&this._bgVNode.elm;s&&(s.setAttribute(\"width\",e),s.setAttribute(\"height\",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=\"\"),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(e){var t=this.renderToString(),n=\"data:image/svg+xml;\";return e?(t=Wr(t))&&n+\"base64,\"+t:n+\"charset=UTF-8,\"+encodeURIComponent(t)},e}();const HT=VT,UT=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e){return HS(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var t=new uo,n=Kv(\"line\",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);t.add(n),n.setStyle(e.lineStyle);var r=this.getData().getVisual(\"symbol\"),i=this.getData().getVisual(\"symbolRotate\"),o=\"none\"===r?\"circle\":r,a=.8*e.itemHeight,s=Kv(o,(e.itemWidth-a)/2,(e.itemHeight-a)/2,a,a,e.itemStyle.fill);t.add(s),s.setStyle(e.itemStyle);var l=\"inherit\"===e.iconRotate?i:e.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([e.itemWidth/2,e.itemHeight/2]),o.indexOf(\"empty\")>-1&&(s.style.stroke=s.style.fill,s.style.fill=\"#fff\",s.style.lineWidth=2),t},t.type=\"series.line\",t.dependencies=[\"grid\",\"polar\"],t.defaultOption={z:3,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,clip:!0,label:{position:\"top\"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:\"solid\"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:\"emptyCircle\",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:\"auto\",connectNulls:!1,sampling:\"none\",animationEasing:\"linear\",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:\"clone\"},triggerLineEvent:!1},t}(Oh);function GT(e,t){var n=e.mapDimensionsAll(\"defaultedLabel\"),r=n.length;if(1===r){var i=hf(e,t,n[0]);return null!=i?i+\"\":null}if(r){for(var o=[],a=0;a<n.length;a++)o.push(hf(e,t,n[a]));return o.join(\" \")}}function YT(e,t){var n=e.mapDimensionsAll(\"defaultedLabel\");if(!ie(t))return t+\"\";for(var r=[],i=0;i<n.length;i++){var o=e.getDimensionIndex(n[i]);o>=0&&r.push(t[o])}return r.join(\" \")}var WT=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.updateData(t,n,r,i),o}return(0,m.ZT)(t,e),t.prototype._createSymbol=function(e,t,n,r,i){this.removeAll();var o=Kv(e,-1,-1,2,2,null,i);o.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),o.drift=KT,this._symbolType=e,this.add(o)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){mc(this.childAt(0))},t.prototype.downplay=function(){gc(this.childAt(0))},t.prototype.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e,n.z=t},t.prototype.setDraggable=function(e,t){var n=this.childAt(0);n.draggable=e,n.cursor=!t&&e?\"move\":n.cursor},t.prototype.updateData=function(e,n,r,i){this.silent=!1;var o=e.getItemVisual(n,\"symbol\")||\"circle\",a=e.hostModel,s=t.getSymbolSize(e,n),l=o!==this._symbolType,c=i&&i.disableAnimation;if(l){var u=e.getItemVisual(n,\"symbolKeepAspect\");this._createSymbol(o,e,n,s,u)}else{(p=this.childAt(0)).silent=!1;var d={scaleX:s[0]/2,scaleY:s[1]/2};c?p.attr(d):zc(p,d,a,n),Wc(p)}if(this._updateCommon(e,n,s,r,i),l){var p=this.childAt(0);c||(d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}},p.scaleX=p.scaleY=0,p.style.opacity=0,Vc(p,d,a,n))}c&&this.childAt(0).stopAnimation(\"leave\")},t.prototype._updateCommon=function(e,t,n,r,i){var o,a,s,l,c,u,d,p,f,h=this.childAt(0),m=e.hostModel;if(r&&(o=r.emphasisItemStyle,a=r.blurItemStyle,s=r.selectItemStyle,l=r.focus,c=r.blurScope,d=r.labelStatesModels,p=r.hoverScale,f=r.cursorStyle,u=r.emphasisDisabled),!r||e.hasItemOption){var g=r&&r.itemModel?r.itemModel:e.getItemModel(t),v=g.getModel(\"emphasis\");o=v.getModel(\"itemStyle\").getItemStyle(),s=g.getModel([\"select\",\"itemStyle\"]).getItemStyle(),a=g.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),l=v.get(\"focus\"),c=v.get(\"blurScope\"),u=v.get(\"disabled\"),d=Jc(g),p=v.getShallow(\"scale\"),f=g.getShallow(\"cursor\")}var y=e.getItemVisual(t,\"symbolRotate\");h.attr(\"rotation\",(y||0)*Math.PI/180||0);var b=Qv(e.getItemVisual(t,\"symbolOffset\"),n);b&&(h.x=b[0],h.y=b[1]),f&&h.attr(\"cursor\",f);var S=e.getItemVisual(t,\"style\"),x=S.fill;if(h instanceof hl){var w=h.style;h.useStyle(H({image:w.image,x:w.x,y:w.y,width:w.width,height:w.height},S))}else h.__isEmptyBrush?h.useStyle(H({},S)):h.useStyle(S),h.style.decal=null,h.setColor(x,i&&i.symbolInnerColor),h.style.strokeNoScale=!0;var C=e.getItemVisual(t,\"liftZ\"),T=this._z2;null!=C?null==T&&(this._z2=h.z2,h.z2+=C):null!=T&&(h.z2=T,this._z2=null);var A=i&&i.useNameLabel;Xc(h,d,{labelFetcher:m,labelDataIndex:t,defaultText:function(t){return A?e.getName(t):GT(e,t)},inheritColor:x,defaultOpacity:S.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var E=h.ensureState(\"emphasis\");E.style=o,h.ensureState(\"select\").style=s,h.ensureState(\"blur\").style=a;var O=null==p||!0===p?Math.max(1.1,3/this._sizeY):isFinite(p)&&p>0?+p:1;E.scaleX=this._sizeX*O,E.scaleY=this._sizeY*O,this.setSymbolScale(1),Pc(this,l,c,u)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,t,n){var r=this.childAt(0),i=Bl(this).dataIndex,o=n&&n.animation;if(this.silent=r.silent=!0,n&&n.fadeLabel){var a=r.getTextContent();a&&Uc(a,{style:{opacity:0}},t,{dataIndex:i,removeOpt:o,cb:function(){r.removeTextContent()}})}else r.removeTextContent();Uc(r,{style:{opacity:0},scaleX:0,scaleY:0},t,{dataIndex:i,cb:e,removeOpt:o})},t.getSymbolSize=function(e,t){return qv(e.getItemVisual(t,\"symbolSize\"))},t}(uo);function KT(e,t){this.parent.drift(e,t)}const qT=WT;function QT(e,t,n,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(n))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&\"none\"!==e.getItemVisual(n,\"symbol\")}function XT(e){return null==e||ce(e)||(e={isIgnore:e}),e||{}}function JT(e){var t=e.hostModel,n=t.getModel(\"emphasis\");return{emphasisItemStyle:n.getModel(\"itemStyle\").getItemStyle(),blurItemStyle:t.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),selectItemStyle:t.getModel([\"select\",\"itemStyle\"]).getItemStyle(),focus:n.get(\"focus\"),blurScope:n.get(\"blurScope\"),emphasisDisabled:n.get(\"disabled\"),hoverScale:n.get(\"scale\"),labelStatesModels:Jc(t),cursorStyle:t.get(\"cursor\")}}var $T=function(){function e(e){this.group=new uo,this._SymbolCtor=e||qT}return e.prototype.updateData=function(e,t){this._progressiveEls=null,t=XT(t);var n=this.group,r=e.hostModel,i=this._data,o=this._SymbolCtor,a=t.disableAnimation,s=JT(e),l={disableAnimation:a},c=t.getSymbolPoint||function(t){return e.getItemLayout(t)};i||n.removeAll(),e.diff(i).add((function(r){var i=c(r);if(QT(e,i,r,t)){var a=new o(e,r,s,l);a.setPosition(i),e.setItemGraphicEl(r,a),n.add(a)}})).update((function(u,d){var p=i.getItemGraphicEl(d),f=c(u);if(QT(e,f,u,t)){var h=e.getItemVisual(u,\"symbol\")||\"circle\",m=p&&p.getSymbolType&&p.getSymbolType();if(!p||m&&m!==h)n.remove(p),(p=new o(e,u,s,l)).setPosition(f);else{p.updateData(e,u,s,l);var g={x:f[0],y:f[1]};a?p.attr(g):zc(p,g,r)}n.add(p),e.setItemGraphicEl(u,p)}else n.remove(p)})).remove((function(e){var t=i.getItemGraphicEl(e);t&&t.fadeOut((function(){n.remove(t)}),r)})).execute(),this._getSymbolPoint=c,this._data=e},e.prototype.updateLayout=function(){var e=this,t=this._data;t&&t.eachItemGraphicEl((function(t,n){var r=e._getSymbolPoint(n);t.setPosition(r),t.markRedraw()}))},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=JT(e),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t,n){function r(e){e.isGroup||(e.incremental=!0,e.ensureState(\"emphasis\").hoverLayer=!0)}this._progressiveEls=[],n=XT(n);for(var i=e.start;i<e.end;i++){var o=t.getItemLayout(i);if(QT(t,o,i,n)){var a=new this._SymbolCtor(t,i,this._seriesScope);a.traverse(r),a.setPosition(o),this.group.add(a),t.setItemGraphicEl(i,a),this._progressiveEls.push(a)}}},e.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},e.prototype.remove=function(e){var t=this.group,n=this._data;n&&e?n.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}),n.hostModel)})):t.removeAll()},e}();const eA=$T;function tA(e,t,n){var r=e.getBaseAxis(),i=e.getOtherAxis(r),o=function(e,t){var n=0,r=e.scale.getExtent();return\"start\"===t?n=r[0]:\"end\"===t?n=r[1]:le(t)&&!isNaN(t)?n=t:r[0]>0?n=r[0]:r[1]<0&&(n=r[1]),n}(i,n),a=r.dim,s=i.dim,l=t.mapDimension(s),c=t.mapDimension(a),u=\"x\"===s||\"radius\"===s?1:0,d=X(e.dimensions,(function(e){return t.mapDimension(e)})),p=!1,f=t.getCalculationInfo(\"stackResultDimension\");return zS(t,d[0])&&(p=!0,d[0]=f),zS(t,d[1])&&(p=!0,d[1]=f),{dataDimsForPoint:d,valueStart:o,valueAxisDim:s,baseAxisDim:a,stacked:!!p,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:t.getCalculationInfo(\"stackedOverDimension\")}}function nA(e,t,n,r){var i=NaN;e.stacked&&(i=n.get(n.getCalculationInfo(\"stackedOverDimension\"),r)),isNaN(i)&&(i=e.valueStart);var o=e.baseDataOffset,a=[];return a[o]=n.get(e.baseDim,r),a[1-o]=i,t.dataToPoint(a)}var rA=Math.min,iA=Math.max;function oA(e,t){return isNaN(e)||isNaN(t)}function aA(e,t,n,r,i,o,a,s,l){for(var c,u,d,p,f,h,m=n,g=0;g<r;g++){var v=t[2*m],y=t[2*m+1];if(m>=i||m<0)break;if(oA(v,y)){if(l){m+=o;continue}break}if(m===n)e[o>0?\"moveTo\":\"lineTo\"](v,y),d=v,p=y;else{var b=v-c,S=y-u;if(b*b+S*S<.5){m+=o;continue}if(a>0){for(var x=m+o,w=t[2*x],C=t[2*x+1];w===v&&C===y&&g<r;)g++,m+=o,w=t[2*(x+=o)],C=t[2*x+1],b=(v=t[2*m])-c,S=(y=t[2*m+1])-u;var T=g+1;if(l)for(;oA(w,C)&&T<r;)T++,w=t[2*(x+=o)],C=t[2*x+1];var A=.5,E=0,O=0,M=void 0,P=void 0;if(T>=r||oA(w,C))f=v,h=y;else{E=w-c,O=C-u;var D=v-c,I=w-v,N=y-u,_=C-y,j=void 0,k=void 0;if(\"x\"===s){var L=E>0?1:-1;f=v-L*(j=Math.abs(D))*a,h=y,M=v+L*(k=Math.abs(I))*a,P=y}else if(\"y\"===s){var R=O>0?1:-1;f=v,h=y-R*(j=Math.abs(N))*a,M=v,P=y+R*(k=Math.abs(_))*a}else j=Math.sqrt(D*D+N*N),f=v-E*a*(1-(A=(k=Math.sqrt(I*I+_*_))/(k+j))),h=y-O*a*(1-A),P=y+O*a*A,M=rA(M=v+E*a*A,iA(w,v)),P=rA(P,iA(C,y)),M=iA(M,rA(w,v)),h=y-(O=(P=iA(P,rA(C,y)))-y)*j/k,f=rA(f=v-(E=M-v)*j/k,iA(c,v)),h=rA(h,iA(u,y)),M=v+(E=v-(f=iA(f,rA(c,v))))*k/j,P=y+(O=y-(h=iA(h,rA(u,y))))*k/j}e.bezierCurveTo(d,p,f,h,v,y),d=M,p=P}else e.lineTo(v,y)}c=v,u=y,m+=o}return g}var sA=function(){this.smooth=0,this.smoothConstraint=!0},lA=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"ec-polyline\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},t.prototype.getDefaultShape=function(){return new sA},t.prototype.buildPath=function(e,t){var n=t.points,r=0,i=n.length/2;if(t.connectNulls){for(;i>0&&oA(n[2*i-2],n[2*i-1]);i--);for(;r<i&&oA(n[2*r],n[2*r+1]);r++);}for(;r<i;)r+=aA(e,n,r,i,i,1,t.smooth,t.smoothMonotone,t.connectNulls)+1},t.prototype.getPointOn=function(e,t){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,r,i=this.path.data,o=Fs.CMD,a=\"x\"===t,s=[],l=0;l<i.length;){var c=void 0,u=void 0,d=void 0,p=void 0,f=void 0,h=void 0,m=void 0;switch(i[l++]){case o.M:n=i[l++],r=i[l++];break;case o.L:if(c=i[l++],u=i[l++],(m=a?(e-n)/(c-n):(e-r)/(u-r))<=1&&m>=0){var g=a?(u-r)*m+r:(c-n)*m+n;return a?[e,g]:[g,e]}n=c,r=u;break;case o.C:c=i[l++],u=i[l++],d=i[l++],p=i[l++],f=i[l++],h=i[l++];var v=a?Vn(n,c,d,f,e,s):Vn(r,u,p,h,e,s);if(v>0)for(var y=0;y<v;y++){var b=s[y];if(b<=1&&b>=0)return g=a?Fn(r,u,p,h,b):Fn(n,c,d,f,b),a?[e,g]:[g,e]}n=f,r=h}}},t}(sl),cA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t}(sA),uA=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"ec-polygon\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new cA},t.prototype.buildPath=function(e,t){var n=t.points,r=t.stackedOnPoints,i=0,o=n.length/2,a=t.smoothMonotone;if(t.connectNulls){for(;o>0&&oA(n[2*o-2],n[2*o-1]);o--);for(;i<o&&oA(n[2*i],n[2*i+1]);i++);}for(;i<o;){var s=aA(e,n,i,o,o,1,t.smooth,a,t.connectNulls);aA(e,r,i+s-1,s,o,-1,t.stackedOnSmooth,a,t.connectNulls),i+=s+1,e.closePath()}},t}(sl);function dA(e,t,n,r,i){var o=e.getArea(),a=o.x,s=o.y,l=o.width,c=o.height,u=n.get([\"lineStyle\",\"width\"])||2;a-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),a!==Math.floor(a)&&(a=Math.floor(a),l++);var d=new wl({shape:{x:a,y:s,width:l,height:c}});if(t){var p=e.getBaseAxis(),f=p.isHorizontal(),h=p.inverse;f?(h&&(d.shape.x+=l),d.shape.width=0):(h||(d.shape.y+=c),d.shape.height=0);var m=oe(i)?function(e){i(e,d)}:null;Vc(d,{shape:{width:l,height:c,x:a,y:s}},n,null,r,m)}return d}function pA(e,t,n){var r=e.getArea(),i=Mo(r.r0,1),o=Mo(r.r,1),a=new vm({shape:{cx:Mo(e.cx,1),cy:Mo(e.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&(\"angle\"===e.getBaseAxis().dim?a.shape.endAngle=r.startAngle:a.shape.r=i,Vc(a,{shape:{endAngle:r.endAngle,r:o}},n)),a}function fA(e,t,n,r,i){return e?\"polar\"===e.type?pA(e,t,n):\"cartesian2d\"===e.type?dA(e,t,n,r,i):null:null}function hA(e,t){return e.type===t}function mA(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return;return!0}}function gA(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,o=0;o<e.length;){var a=e[o++],s=e[o++];isNaN(a)||(t=Math.min(a,t),r=Math.max(a,r)),isNaN(s)||(n=Math.min(s,n),i=Math.max(s,i))}return[[t,n],[r,i]]}function vA(e,t){var n=gA(e),r=n[0],i=n[1],o=gA(t),a=o[0],s=o[1];return Math.max(Math.abs(r[0]-a[0]),Math.abs(r[1]-a[1]),Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]))}function yA(e){return le(e)?e:e?.5:0}function bA(e,t,n,r){var i=t.getBaseAxis(),o=\"x\"===i.dim||\"radius\"===i.dim?0:1,a=[],s=0,l=[],c=[],u=[],d=[];if(r){for(s=0;s<e.length;s+=2)isNaN(e[s])||isNaN(e[s+1])||d.push(e[s],e[s+1]);e=d}for(s=0;s<e.length-2;s+=2)switch(u[0]=e[s+2],u[1]=e[s+3],c[0]=e[s],c[1]=e[s+1],a.push(c[0],c[1]),n){case\"end\":l[o]=u[o],l[1-o]=c[1-o],a.push(l[0],l[1]);break;case\"middle\":var p=(c[o]+u[o])/2,f=[];l[o]=f[o]=p,l[1-o]=c[1-o],f[1-o]=u[1-o],a.push(l[0],l[1]),a.push(f[0],f[1]);break;default:l[o]=c[o],l[1-o]=u[1-o],a.push(l[0],l[1])}return a.push(e[s++],e[s++]),a}function SA(e,t){return[e[2*t],e[2*t+1]]}function xA(e){if(e.get([\"endLabel\",\"show\"]))return!0;for(var t=0;t<Gl.length;t++)if(e.get([Gl[t],\"endLabel\",\"show\"]))return!0;return!1}function wA(e,t,n,r){if(hA(t,\"cartesian2d\")){var i=r.getModel(\"endLabel\"),o=i.get(\"valueAnimation\"),a=r.getData(),s={lastFrameIndex:0},l=xA(r)?function(n,r){e._endLabelOnDuring(n,r,a,s,o,i,t)}:null,c=t.getBaseAxis().isHorizontal(),u=dA(t,n,r,(function(){var t=e._endLabel;t&&n&&null!=s.originalX&&t.attr({x:s.originalX,y:s.originalY})}),l);if(!r.get(\"clip\",!0)){var d=u.shape,p=Math.max(d.width,d.height);c?(d.y-=p,d.height+=2*p):(d.x-=p,d.width+=2*p)}return l&&l(1,u),u}return pA(t,n,r)}var CA=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.init=function(){var e=new uo,t=new eA;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem,o=this.group,a=e.getData(),s=e.getModel(\"lineStyle\"),l=e.getModel(\"areaStyle\"),c=a.getLayout(\"points\")||[],u=\"polar\"===i.type,d=this._coordSys,p=this._symbolDraw,f=this._polyline,h=this._polygon,m=this._lineGroup,g=!t.ssr&&e.get(\"animation\"),v=!l.isEmpty(),y=l.get(\"origin\"),b=tA(i,a,y),S=v&&function(e,t,n){if(!n.valueDim)return[];for(var r=t.count(),i=cx(2*r),o=0;o<r;o++){var a=nA(n,e,t,o);i[2*o]=a[0],i[2*o+1]=a[1]}return i}(i,a,b),x=e.get(\"showSymbol\"),w=e.get(\"connectNulls\"),C=x&&!u&&function(e,t,n){var r=e.get(\"showAllSymbol\"),i=\"auto\"===r;if(!r||i){var o=n.getAxesByScale(\"ordinal\")[0];if(o&&(!i||!function(e,t){var n=e.getExtent(),r=Math.abs(n[1]-n[0])/e.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),a=0;a<i;a+=o)if(1.5*qT.getSymbolSize(t,a)[e.isHorizontal()?1:0]>r)return!1;return!0}(o,t))){var a=t.mapDimension(o.dim),s={};return Q(o.getViewLabels(),(function(e){var t=o.scale.getRawOrdinalNumber(e.tickValue);s[t]=1})),function(e){return!s.hasOwnProperty(t.get(a,e))}}}}(e,a,i),T=this._data;T&&T.eachItemGraphicEl((function(e,t){e.__temp&&(o.remove(e),T.setItemGraphicEl(t,null))})),x||p.remove(),o.add(m);var A,E=!u&&e.get(\"step\");i&&i.getArea&&e.get(\"clip\",!0)&&(null!=(A=i.getArea()).width?(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2):A.r0&&(A.r0-=.5,A.r+=.5)),this._clipShapeForSymbol=A;var O=function(e,t,n){var r=e.getVisual(\"visualMeta\");if(r&&r.length&&e.count()&&\"cartesian2d\"===t.type){for(var i,o,a=r.length-1;a>=0;a--){var s=e.getDimensionInfo(r[a].dimension);if(\"x\"===(i=s&&s.coordDim)||\"y\"===i){o=r[a];break}}if(o){var l=t.getAxis(i),c=X(o.stops,(function(e){return{coord:l.toGlobalCoord(l.dataToCoord(e.value)),color:e.color}})),u=c.length,d=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),d.reverse());var p=function(e,t){var n,r,i=[],o=e.length;function a(e,t,n){var r=e.coord;return{coord:n,color:Tr((n-r)/(t.coord-r),[e.color,t.color])}}for(var s=0;s<o;s++){var l=e[s],c=l.coord;if(c<0)n=l;else{if(c>t){r?i.push(a(r,l,t)):n&&i.push(a(n,l,0),a(n,l,t));break}n&&(i.push(a(n,l,0)),n=null),i.push(l),r=l}}return i}(c,\"x\"===i?n.getWidth():n.getHeight()),f=p.length;if(!f&&u)return c[0].coord<0?d[1]?d[1]:c[u-1].color:d[0]?d[0]:c[0].color;var h=p[0].coord-10,m=p[f-1].coord+10,g=m-h;if(g<.001)return\"transparent\";Q(p,(function(e){e.offset=(e.coord-h)/g})),p.push({offset:f?p[f-1].offset:.5,color:d[1]||\"transparent\"}),p.unshift({offset:f?p[0].offset:.5,color:d[0]||\"transparent\"});var v=new Hm(0,0,0,0,p,!0);return v[i]=h,v[i+\"2\"]=m,v}}}(a,i,n)||a.getVisual(\"style\")[a.getVisual(\"drawType\")];if(f&&d.type===i.type&&E===this._step){v&&!h?h=this._newPolygon(c,S):h&&!v&&(m.remove(h),h=this._polygon=null),u||this._initOrUpdateEndLabel(e,i,yd(O));var M=m.getClipPath();M?Vc(M,{shape:wA(this,i,!1,e).shape},e):m.setClipPath(wA(this,i,!0,e)),x&&p.updateData(a,{isIgnore:C,clipShape:A,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),mA(this._stackedOnPoints,S)&&mA(this._points,c)||(g?this._doUpdateAnimation(a,S,i,n,E,y,w):(E&&(c=bA(c,i,E,w),S&&(S=bA(S,i,E,w))),f.setShape({points:c}),h&&h.setShape({points:c,stackedOnPoints:S})))}else x&&p.updateData(a,{isIgnore:C,clipShape:A,disableAnimation:!0,getSymbolPoint:function(e){return[c[2*e],c[2*e+1]]}}),g&&this._initSymbolLabelAnimation(a,i,A),E&&(c=bA(c,i,E,w),S&&(S=bA(S,i,E,w))),f=this._newPolyline(c),v?h=this._newPolygon(c,S):h&&(m.remove(h),h=this._polygon=null),u||this._initOrUpdateEndLabel(e,i,yd(O)),m.setClipPath(wA(this,i,!0,e));var P=e.getModel(\"emphasis\"),D=P.get(\"focus\"),I=P.get(\"blurScope\"),N=P.get(\"disabled\");f.useStyle(U(s.getLineStyle(),{fill:\"none\",stroke:O,lineJoin:\"bevel\"})),_c(f,e,\"lineStyle\"),f.style.lineWidth>0&&\"bolder\"===e.get([\"emphasis\",\"lineStyle\",\"width\"])&&(f.getState(\"emphasis\").style.lineWidth=+f.style.lineWidth+1),Bl(f).seriesIndex=e.seriesIndex,Pc(f,D,I,N);var _=yA(e.get(\"smooth\")),j=e.get(\"smoothMonotone\");if(f.setShape({smooth:_,smoothMonotone:j,connectNulls:w}),h){var k=a.getCalculationInfo(\"stackedOnSeries\"),L=0;h.useStyle(U(l.getAreaStyle(),{fill:O,opacity:.7,lineJoin:\"bevel\",decal:a.getVisual(\"style\").decal})),k&&(L=yA(k.get(\"smooth\"))),h.setShape({smooth:_,stackedOnSmooth:L,smoothMonotone:j,connectNulls:w}),_c(h,e,\"areaStyle\"),Bl(h).seriesIndex=e.seriesIndex,Pc(h,D,I,N)}var R=function(e){r._changePolyState(e)};a.eachItemGraphicEl((function(e){e&&(e.onHoverStateChange=R)})),this._polyline.onHoverStateChange=R,this._data=a,this._coordSys=i,this._stackedOnPoints=S,this._points=c,this._step=E,this._valueOrigin=y,e.get(\"triggerLineEvent\")&&(this.packEventData(e,f),h&&this.packEventData(e,h))},t.prototype.packEventData=function(e,t){Bl(t).eventData={componentType:\"series\",componentSubType:\"line\",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:\"line\"}},t.prototype.highlight=function(e,t,n,r){var i=e.getData(),o=da(i,r);if(this._changePolyState(\"emphasis\"),!(o instanceof Array)&&null!=o&&o>=0){var a=i.getLayout(\"points\"),s=i.getItemGraphicEl(o);if(!s){var l=a[2*o],c=a[2*o+1];if(isNaN(l)||isNaN(c))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(l,c))return;var u=e.get(\"zlevel\")||0,d=e.get(\"z\")||0;(s=new qT(i,o)).x=l,s.y=c,s.setZ(u,d);var p=s.getSymbolPath().getTextContent();p&&(p.zlevel=u,p.z=d,p.z2=this._polyline.z2+1),s.__temp=!0,i.setItemGraphicEl(o,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else Zg.prototype.highlight.call(this,e,t,n,r)},t.prototype.downplay=function(e,t,n,r){var i=e.getData(),o=da(i,r);if(this._changePolyState(\"normal\"),null!=o&&o>=0){var a=i.getItemGraphicEl(o);a&&(a.__temp?(i.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else Zg.prototype.downplay.call(this,e,t,n,r)},t.prototype._changePolyState=function(e){var t=this._polygon;uc(this._polyline,e),t&&uc(t,e)},t.prototype._newPolyline=function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new lA({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(t),this._polyline=t,t},t.prototype._newPolygon=function(e,t){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new uA({shape:{points:e,stackedOnPoints:t},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},t.prototype._initSymbolLabelAnimation=function(e,t,n){var r,i,o=t.getBaseAxis(),a=o.inverse;\"cartesian2d\"===t.type?(r=o.isHorizontal(),i=!1):\"polar\"===t.type&&(r=\"angle\"===o.dim,i=!0);var s=e.hostModel,l=s.get(\"animationDuration\");oe(l)&&(l=l(null));var c=s.get(\"animationDelay\")||0,u=oe(c)?c(null):c;e.eachItemGraphicEl((function(e,o){var s=e;if(s){var d=[e.x,e.y],p=void 0,f=void 0,h=void 0;if(n)if(i){var m=n,g=t.pointToCoord(d);r?(p=m.startAngle,f=m.endAngle,h=-g[1]/180*Math.PI):(p=m.r0,f=m.r,h=g[0])}else{var v=n;r?(p=v.x,f=v.x+v.width,h=e.x):(p=v.y+v.height,f=v.y,h=e.y)}var y=f===p?0:(h-p)/(f-p);a&&(y=1-y);var b=oe(c)?c(o):l*y+u,S=s.getSymbolPath(),x=S.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:b}),S.disableLabelAnimation=!0}}))},t.prototype._initOrUpdateEndLabel=function(e,t,n){var r=e.getModel(\"endLabel\");if(xA(e)){var i=e.getData(),o=this._polyline,a=i.getLayout(\"points\");if(!a)return o.removeTextContent(),void(this._endLabel=null);var s=this._endLabel;s||((s=this._endLabel=new Zl({z2:200})).ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var l=function(e){for(var t,n,r=e.length/2;r>0&&(t=e[2*r-2],n=e[2*r-1],isNaN(t)||isNaN(n));r--);return r-1}(a);l>=0&&(Xc(o,Jc(e,\"endLabel\"),{inheritColor:n,labelFetcher:e,labelDataIndex:l,defaultText:function(e,t,n){return null!=n?YT(i,n):GT(i,e)},enableTextSetter:!0},function(e,t){var n=t.getBaseAxis(),r=n.isHorizontal(),i=n.inverse,o=r?i?\"right\":\"left\":\"center\",a=r?\"middle\":i?\"top\":\"bottom\";return{normal:{align:e.get(\"align\")||o,verticalAlign:e.get(\"verticalAlign\")||a}}}(r,t)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,t,n,r,i,o,a){var s=this._endLabel,l=this._polyline;if(s){e<1&&null==r.originalX&&(r.originalX=s.x,r.originalY=s.y);var c=n.getLayout(\"points\"),u=n.hostModel,d=u.get(\"connectNulls\"),p=o.get(\"precision\"),f=o.get(\"distance\")||0,h=a.getBaseAxis(),m=h.isHorizontal(),g=h.inverse,v=t.shape,y=g?m?v.x:v.y+v.height:m?v.x+v.width:v.y,b=(m?f:0)*(g?-1:1),S=(m?0:-f)*(g?-1:1),x=m?\"x\":\"y\",w=function(e,t,n){for(var r,i,o=e.length/2,a=\"x\"===n?0:1,s=0,l=-1,c=0;c<o;c++)if(i=e[2*c+a],!isNaN(i)&&!isNaN(e[2*c+1-a]))if(0!==c){if(r<=t&&i>=t||r>=t&&i<=t){l=c;break}s=c,r=i}else r=i;return{range:[s,l],t:(t-r)/(i-r)}}(c,y,x),C=w.range,T=C[1]-C[0],A=void 0;if(T>=1){if(T>1&&!d){var E=SA(c,C[0]);s.attr({x:E[0]+b,y:E[1]+S}),i&&(A=u.getRawValue(C[0]))}else{(E=l.getPointOn(y,x))&&s.attr({x:E[0]+b,y:E[1]+S});var O=u.getRawValue(C[0]),M=u.getRawValue(C[1]);i&&(A=xa(n,p,O,M,w.t))}r.lastFrameIndex=C[0]}else{var P=1===e||r.lastFrameIndex>0?C[0]:0;E=SA(c,P),i&&(A=u.getRawValue(P)),s.attr({x:E[0]+b,y:E[1]+S})}if(i){var D=au(s);\"function\"==typeof D.setLabelText&&D.setLabelText(A)}}},t.prototype._doUpdateAnimation=function(e,t,n,r,i,o,a){var s=this._polyline,l=this._polygon,c=e.hostModel,u=function(e,t,n,r,i,o,a){for(var s=function(e,t){var n=[];return t.diff(e).add((function(e){n.push({cmd:\"+\",idx:e})})).update((function(e,t){n.push({cmd:\"=\",idx:t,idx1:e})})).remove((function(e){n.push({cmd:\"-\",idx:e})})).execute(),n}(e,t),l=[],c=[],u=[],d=[],p=[],f=[],h=[],m=tA(i,t,a),g=e.getLayout(\"points\")||[],v=t.getLayout(\"points\")||[],y=0;y<s.length;y++){var b=s[y],S=!0,x=void 0,w=void 0;switch(b.cmd){case\"=\":x=2*b.idx,w=2*b.idx1;var C=g[x],T=g[x+1],A=v[w],E=v[w+1];(isNaN(C)||isNaN(T))&&(C=A,T=E),l.push(C,T),c.push(A,E),u.push(n[x],n[x+1]),d.push(r[w],r[w+1]),h.push(t.getRawIndex(b.idx1));break;case\"+\":var O=b.idx,M=m.dataDimsForPoint,P=i.dataToPoint([t.get(M[0],O),t.get(M[1],O)]);w=2*O,l.push(P[0],P[1]),c.push(v[w],v[w+1]);var D=nA(m,i,t,O);u.push(D[0],D[1]),d.push(r[w],r[w+1]),h.push(t.getRawIndex(O));break;case\"-\":S=!1}S&&(p.push(b),f.push(f.length))}f.sort((function(e,t){return h[e]-h[t]}));var I=l.length,N=cx(I),_=cx(I),j=cx(I),k=cx(I),L=[];for(y=0;y<f.length;y++){var R=f[y],Z=2*y,B=2*R;N[Z]=l[B],N[Z+1]=l[B+1],_[Z]=c[B],_[Z+1]=c[B+1],j[Z]=u[B],j[Z+1]=u[B+1],k[Z]=d[B],k[Z+1]=d[B+1],L[y]=p[R]}return{current:N,next:_,stackedOnCurrent:j,stackedOnNext:k,status:L}}(this._data,e,this._stackedOnPoints,t,this._coordSys,0,this._valueOrigin),d=u.current,p=u.stackedOnCurrent,f=u.next,h=u.stackedOnNext;if(i&&(d=bA(u.current,n,i,a),p=bA(u.stackedOnCurrent,n,i,a),f=bA(u.next,n,i,a),h=bA(u.stackedOnNext,n,i,a)),vA(d,f)>3e3||l&&vA(p,h)>3e3)return s.stopAnimation(),s.setShape({points:f}),void(l&&(l.stopAnimation(),l.setShape({points:f,stackedOnPoints:h})));s.shape.__points=u.current,s.shape.points=d;var m={shape:{points:f}};u.current!==d&&(m.shape.__points=u.next),s.stopAnimation(),zc(s,m,c),l&&(l.setShape({points:d,stackedOnPoints:p}),l.stopAnimation(),zc(l,{shape:{stackedOnPoints:h}},c),s.shape.points!==l.shape.points&&(l.shape.points=s.shape.points));for(var g=[],v=u.status,y=0;y<v.length;y++)if(\"=\"===v[y].cmd){var b=e.getItemGraphicEl(v[y].idx1);b&&g.push({el:b,ptIdx:y})}s.animators&&s.animators.length&&s.animators[0].during((function(){l&&l.dirtyShape();for(var e=s.shape.__points,t=0;t<g.length;t++){var n=g[t].el,r=2*g[t].ptIdx;n.x=e[r],n.y=e[r+1],n.markRedraw()}}))},t.prototype.remove=function(e){var t=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(e,r){e.__temp&&(t.remove(e),n.setItemGraphicEl(r,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type=\"line\",t}(Zg);const TA=CA;function AA(e,t){return{seriesType:e,plan:Dh(),reset:function(e){var n=e.getData(),r=e.coordinateSystem,i=e.pipelineContext,o=t||i.large;if(r){var a=X(r.dimensions,(function(e){return n.mapDimension(e)})).slice(0,2),s=a.length,l=n.getCalculationInfo(\"stackResultDimension\");zS(n,a[0])&&(a[0]=l),zS(n,a[1])&&(a[1]=l);var c=n.getStore(),u=n.getDimensionIndex(a[0]),d=n.getDimensionIndex(a[1]);return s&&{progress:function(e,t){for(var n=e.end-e.start,i=o&&cx(n*s),a=[],l=[],p=e.start,f=0;p<e.end;p++){var h=void 0;if(1===s){var m=c.get(u,p);h=r.dataToPoint(m,null,l)}else a[0]=c.get(u,p),a[1]=c.get(d,p),h=r.dataToPoint(a,null,l);o?(i[f++]=h[0],i[f++]=h[1]):t.setItemLayout(p,h.slice())}o&&t.setLayout(\"points\",i)}}}}}}var EA={average:function(e){for(var t=0,n=0,r=0;r<e.length;r++)isNaN(e[r])||(t+=e[r],n++);return 0===n?NaN:t/n},sum:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){for(var t=-1/0,n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return isFinite(t)?t:NaN},minmax:function(e){for(var t=-1/0,n=-1/0,r=0;r<e.length;r++){var i=e[r],o=Math.abs(i);o>t&&(t=o,n=i)}return isFinite(n)?n:NaN},nearest:function(e){return e[0]}},OA=function(e){return Math.round(e.length/2)};function MA(e){return{seriesType:e,reset:function(e,t,n){var r=e.getData(),i=e.get(\"sampling\"),o=e.coordinateSystem,a=r.count();if(a>10&&\"cartesian2d\"===o.type&&i){var s=o.getBaseAxis(),l=o.getOtherAxis(s),c=s.getExtent(),u=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(u||1),p=Math.round(a/d);if(isFinite(p)&&p>1){\"lttb\"===i&&e.setData(r.lttbDownSample(r.mapDimension(l.dim),1/p));var f=void 0;ae(i)?f=EA[i]:oe(i)&&(f=i),f&&e.setData(r.downSample(r.mapDimension(l.dim),1/p,f,OA))}}}}}var PA=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return HS(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,t,n){var r=this.coordinateSystem;if(r&&r.clampData){var i=r.clampData(e),o=r.dataToPoint(i);if(n)Q(r.getAxes(),(function(e,n){if(\"category\"===e.type&&null!=t){var r=e.getTicksCoords(),a=e.getTickModel().get(\"alignWithLabel\"),s=i[n],l=\"x1\"===t[n]||\"y1\"===t[n];if(l&&!a&&(s+=1),r.length<2)return;if(2===r.length)return void(o[n]=e.toGlobalCoord(e.getExtent()[l?1:0]));for(var c=void 0,u=void 0,d=1,p=0;p<r.length;p++){var f=r[p].coord,h=p===r.length-1?r[p-1].tickValue+d:r[p].tickValue;if(h===s){u=f;break}if(h<s)c=f;else if(null!=c&&h>s){u=(f+c)/2;break}1===p&&(d=h-r[0].tickValue)}null==u&&(c?c&&(u=r[r.length-1].coord):u=r[0].coord),o[n]=e.toGlobalCoord(u)}}));else{var a=this.getData(),s=a.getLayout(\"offset\"),l=a.getLayout(\"size\"),c=r.getBaseAxis().isHorizontal()?0:1;o[c]+=s+l/2}return o}return[NaN,NaN]},t.type=\"series.__base_bar__\",t.defaultOption={z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:\"mod\"},t}(Oh);Oh.registerClass(PA);const DA=PA,IA=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(){return HS(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get(\"realtimeSort\",!0)||null})},t.prototype.getProgressive=function(){return!!this.get(\"large\")&&this.get(\"progressive\")},t.prototype.getProgressiveThreshold=function(){var e=this.get(\"progressiveThreshold\"),t=this.get(\"largeThreshold\");return t>e&&(e=t),e},t.prototype.brushSelector=function(e,t,n){return n.rect(t.getItemLayout(e))},t.type=\"series.bar\",t.dependencies=[\"grid\",\"polar\"],t.defaultOption=Eu(DA.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:\"rgba(180, 180, 180, 0.2)\",borderColor:null,borderWidth:0,borderType:\"solid\",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:\"#212121\"}},realtimeSort:!1}),t}(DA);var NA=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},_A=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"sausage\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new NA},t.prototype.buildPath=function(e,t){var n=t.cx,r=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),a=.5*(o-i),s=i+a,l=t.startAngle,c=t.endAngle,u=t.clockwise,d=2*Math.PI,p=u?c-l<d:l-c<d;p||(l=c-(u?d:-d));var f=Math.cos(l),h=Math.sin(l),m=Math.cos(c),g=Math.sin(c);p?(e.moveTo(f*i+n,h*i+r),e.arc(f*s+n,h*s+r,a,-Math.PI+l,l,!u)):e.moveTo(f*o+n,h*o+r),e.arc(n,r,o,l,c,!u),e.arc(m*s+n,g*s+r,a,c-2*Math.PI,c-Math.PI,!u),0!==i&&e.arc(n,r,i,c,l,u)},t}(sl);const jA=_A;function kA(e,t,n){return t*Math.sin(e)*(n?-1:1)}function LA(e,t,n){return t*Math.cos(e)*(n?1:-1)}function RA(e,t,n){var r=e.get(\"borderRadius\");if(null==r)return n?{cornerRadius:0}:null;ie(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:X(r,(function(e){return Qi(e,i)}))}}var ZA=Math.max,BA=Math.min,FA=function(e){function t(){var n=e.call(this)||this;return n.type=t.type,n._isFirstFrame=!0,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._model=e,this._removeOnRenderedListener(n),this._updateDrawMode(e);var i=e.get(\"coordinateSystem\");(\"cartesian2d\"===i||\"polar\"===i)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,t,n):this._renderNormal(e,t,n,r))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,t){this._progressiveEls=[],this._incrementalRenderLarge(e,t)},t.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e,t,n,r){var i,o=this.group,a=e.getData(),s=this._data,l=e.coordinateSystem,c=l.getBaseAxis();\"cartesian2d\"===l.type?i=c.isHorizontal():\"polar\"===l.type&&(i=\"angle\"===c.dim);var u=e.isAnimationEnabled()?e:null,d=function(e,t){var n=e.get(\"realtimeSort\",!0),r=t.getBaseAxis();if(n&&\"category\"===r.type&&\"cartesian2d\"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,l);d&&this._enableRealtimeSort(d,a,n);var p=e.get(\"clip\",!0)||d,f=function(e,t){var n=e.getArea&&e.getArea();if(hA(e,\"cartesian2d\")){var r=e.getBaseAxis();if(\"category\"!==r.type||!r.onBand){var i=t.getLayout(\"bandWidth\");r.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}(l,a);o.removeClipPath();var h=e.get(\"roundCap\",!0),m=e.get(\"showBackground\",!0),g=e.getModel(\"backgroundStyle\"),v=g.get(\"borderRadius\")||0,y=[],b=this._backgroundEls,S=r&&r.isInitSort,x=r&&\"changeAxisOrder\"===r.type;function w(e){var t=KA[l.type](a,e),n=function(e,t,n){return new(\"polar\"===e.type?vm:wl)({shape:tE(t,n,e),silent:!0,z2:0})}(l,i,t);return n.useStyle(g.getItemStyle()),\"cartesian2d\"===l.type?n.setShape(\"r\",v):n.setShape(\"cornerRadius\",v),y[e]=n,n}a.diff(s).add((function(t){var n=a.getItemModel(t),r=KA[l.type](a,t,n);if(m&&w(t),a.hasValue(t)&&WA[l.type](r)){var s=!1;p&&(s=zA[l.type](f,r));var g=VA[l.type](e,a,t,r,i,u,c.model,!1,h);d&&(g.forceLabelAnimation=!0),QA(g,a,t,n,r,e,i,\"polar\"===l.type),S?g.attr({shape:r}):d?HA(d,u,g,r,t,i,!1,!1):Vc(g,{shape:r},e,t),a.setItemGraphicEl(t,g),o.add(g),g.ignore=s}})).update((function(t,n){var r=a.getItemModel(t),C=KA[l.type](a,t,r);if(m){var T=void 0;0===b.length?T=w(n):((T=b[n]).useStyle(g.getItemStyle()),\"cartesian2d\"===l.type?T.setShape(\"r\",v):T.setShape(\"cornerRadius\",v),y[t]=T);var A=KA[l.type](a,t);zc(T,{shape:tE(i,A,l)},u,t)}var E=s.getItemGraphicEl(n);if(a.hasValue(t)&&WA[l.type](C)){var O=!1;if(p&&(O=zA[l.type](f,C))&&o.remove(E),E?Wc(E):E=VA[l.type](e,a,t,C,i,u,c.model,!!E,h),d&&(E.forceLabelAnimation=!0),x){var M=E.getTextContent();if(M){var P=au(M);null!=P.prevValue&&(P.prevValue=P.value)}}else QA(E,a,t,r,C,e,i,\"polar\"===l.type);S?E.attr({shape:C}):d?HA(d,u,E,C,t,i,!0,x):zc(E,{shape:C},e,t,null),a.setItemGraphicEl(t,E),E.ignore=O,o.add(E)}else o.remove(E)})).remove((function(t){var n=s.getItemGraphicEl(t);n&&Yc(n,e,t)})).execute();var C=this._backgroundGroup||(this._backgroundGroup=new uo);C.removeAll();for(var T=0;T<y.length;++T)C.add(y[T]);o.add(C),this._backgroundEls=y,this._data=a},t.prototype._renderLarge=function(e,t,n){this._clear(),$A(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,t){this._removeBackground(),$A(t,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var t=e.get(\"clip\",!0)&&fA(e.coordinateSystem,!1,e),n=this.group;t?n.setClipPath(t):n.removeClipPath()},t.prototype._enableRealtimeSort=function(e,t,n){var r=this;if(t.count()){var i=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(t,e,n),this._isFirstFrame=!1;else{var o=function(e){var n=t.getItemGraphicEl(e),r=n&&n.shape;return r&&Math.abs(i.isHorizontal()?r.height:r.width)||0};this._onRendered=function(){r._updateSortWithinSameData(t,o,i,n)},n.getZr().on(\"rendered\",this._onRendered)}}},t.prototype._dataSort=function(e,t,n){var r=[];return e.each(e.mapDimension(t.dim),(function(e,t){var i=n(t);i=null==i?NaN:i,r.push({dataIndex:t,mappedValue:i,ordinalNumber:e})})),r.sort((function(e,t){return t.mappedValue-e.mappedValue})),{ordinalNumbers:X(r,(function(e){return e.ordinalNumber}))}},t.prototype._isOrderChangedWithinSameData=function(e,t,n){for(var r=n.scale,i=e.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=r.getOrdinalMeta().categories.length;a<s;++a){var l=e.rawIndexOf(i,r.getRawOrdinalNumber(a)),c=l<0?Number.MIN_VALUE:t(e.indexOfRawIndex(l));if(c>o)return!0;o=c}return!1},t.prototype._isOrderDifferentInView=function(e,t){for(var n=t.scale,r=n.getExtent(),i=Math.max(0,r[0]),o=Math.min(r[1],n.getOrdinalMeta().categories.length-1);i<=o;++i)if(e.ordinalNumbers[i]!==n.getRawOrdinalNumber(i))return!0},t.prototype._updateSortWithinSameData=function(e,t,n,r){if(this._isOrderChangedWithinSameData(e,t,n)){var i=this._dataSort(e,n,t);this._isOrderDifferentInView(i,n)&&(this._removeOnRenderedListener(r),r.dispatchAction({type:\"changeAxisOrder\",componentType:n.dim+\"Axis\",axisId:n.index,sortInfo:i}))}},t.prototype._dispatchInitSort=function(e,t,n){var r=t.baseAxis,i=this._dataSort(e,r,(function(n){return e.get(e.mapDimension(t.otherAxis.dim),n)}));n.dispatchAction({type:\"changeAxisOrder\",componentType:r.dim+\"Axis\",isInitSort:!0,axisId:r.index,sortInfo:i})},t.prototype.remove=function(e,t){this._clear(this._model),this._removeOnRenderedListener(t)},t.prototype.dispose=function(e,t){this._removeOnRenderedListener(t)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off(\"rendered\",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var t=this.group,n=this._data;e&&e.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(t){Yc(t,e,Bl(t).dataIndex)}))):t.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type=\"bar\",t}(Zg),zA={cartesian2d:function(e,t){var n=t.width<0?-1:1,r=t.height<0?-1:1;n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,o=e.y+e.height,a=ZA(t.x,e.x),s=BA(t.x+t.width,i),l=ZA(t.y,e.y),c=BA(t.y+t.height,o),u=s<a,d=c<l;return t.x=u&&a>i?s:a,t.y=d&&l>o?c:l,t.width=u?0:s-a,t.height=d?0:c-l,n<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),u||d},polar:function(e,t){var n=t.r0<=t.r?1:-1;if(n<0){var r=t.r;t.r=t.r0,t.r0=r}var i=BA(t.r,e.r),o=ZA(t.r0,e.r0);t.r=i,t.r0=o;var a=i-o<0;return n<0&&(r=t.r,t.r=t.r0,t.r0=r),a}},VA={cartesian2d:function(e,t,n,r,i,o,a,s,l){var c=new wl({shape:H({},r),z2:1});return c.__dataIndex=n,c.name=\"item\",o&&(c.shape[i?\"height\":\"width\"]=0),c},polar:function(e,t,n,r,i,o,a,s,l){var c=!i&&l?jA:vm,u=new c({shape:r,z2:1});u.name=\"item\";var d,p,f=qA(i);if(u.calculateTextPosition=(d=f,p=({isRoundCap:c===jA}||{}).isRoundCap,function(e,t,n){var r=t.position;if(!r||r instanceof Array)return Xi(e,t,n);var i=d(r),o=null!=t.distance?t.distance:5,a=this.shape,s=a.cx,l=a.cy,c=a.r,u=a.r0,f=(c+u)/2,h=a.startAngle,m=a.endAngle,g=(h+m)/2,v=p?Math.abs(c-u)/2:0,y=Math.cos,b=Math.sin,S=s+c*y(h),x=l+c*b(h),w=\"left\",C=\"top\";switch(i){case\"startArc\":S=s+(u-o)*y(g),x=l+(u-o)*b(g),w=\"center\",C=\"top\";break;case\"insideStartArc\":S=s+(u+o)*y(g),x=l+(u+o)*b(g),w=\"center\",C=\"bottom\";break;case\"startAngle\":S=s+f*y(h)+kA(h,o+v,!1),x=l+f*b(h)+LA(h,o+v,!1),w=\"right\",C=\"middle\";break;case\"insideStartAngle\":S=s+f*y(h)+kA(h,-o+v,!1),x=l+f*b(h)+LA(h,-o+v,!1),w=\"left\",C=\"middle\";break;case\"middle\":S=s+f*y(g),x=l+f*b(g),w=\"center\",C=\"middle\";break;case\"endArc\":S=s+(c+o)*y(g),x=l+(c+o)*b(g),w=\"center\",C=\"bottom\";break;case\"insideEndArc\":S=s+(c-o)*y(g),x=l+(c-o)*b(g),w=\"center\",C=\"top\";break;case\"endAngle\":S=s+f*y(m)+kA(m,o+v,!0),x=l+f*b(m)+LA(m,o+v,!0),w=\"left\",C=\"middle\";break;case\"insideEndAngle\":S=s+f*y(m)+kA(m,-o+v,!0),x=l+f*b(m)+LA(m,-o+v,!0),w=\"right\",C=\"middle\";break;default:return Xi(e,t,n)}return(e=e||{}).x=S,e.y=x,e.align=w,e.verticalAlign=C,e}),o){var h=i?\"r\":\"endAngle\",m={};u.shape[h]=i?r.r0:r.startAngle,m[h]=r[h],(s?zc:Vc)(u,{shape:m},o)}return u}};function HA(e,t,n,r,i,o,a,s){var l,c;o?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),s||(a?zc:Vc)(n,{shape:l},t,i,null),(a?zc:Vc)(n,{shape:c},t?e.baseAxis.model:null,i)}function UA(e,t){for(var n=0;n<t.length;n++)if(!isFinite(e[t[n]]))return!0;return!1}var GA=[\"x\",\"y\",\"width\",\"height\"],YA=[\"cx\",\"cy\",\"r\",\"startAngle\",\"endAngle\"],WA={cartesian2d:function(e){return!UA(e,GA)},polar:function(e){return!UA(e,YA)}},KA={cartesian2d:function(e,t,n){var r=e.getItemLayout(t),i=n?function(e,t){var n=e.get([\"itemStyle\",\"borderColor\"]);if(!n||\"none\"===n)return 0;var r=e.get([\"itemStyle\",\"borderWidth\"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,o)}(n,r):0,o=r.width>0?1:-1,a=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+a*i/2,width:r.width-o*i,height:r.height-a*i}},polar:function(e,t,n){var r=e.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function qA(e){return function(e){var t=e?\"Arc\":\"Angle\";return function(e){switch(e){case\"start\":case\"insideStart\":case\"end\":case\"insideEnd\":return e+t;default:return e}}}(e)}function QA(e,t,n,r,i,o,a,s){var l=t.getItemVisual(n,\"style\");if(s){if(!o.get(\"roundCap\")){var c=e.shape;H(c,RA(r.getModel(\"itemStyle\"),c,!0)),e.setShape(c)}}else{var u=r.get([\"itemStyle\",\"borderRadius\"])||0;e.setShape(\"r\",u)}e.useStyle(l);var d=r.getShallow(\"cursor\");d&&e.attr(\"cursor\",d);var p=s?a?i.r>=i.r0?\"endArc\":\"startArc\":i.endAngle>=i.startAngle?\"endAngle\":\"startAngle\":a?i.height>=0?\"bottom\":\"top\":i.width>=0?\"right\":\"left\",f=Jc(r);Xc(e,f,{labelFetcher:o,labelDataIndex:n,defaultText:GT(o.getData(),n),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var h=e.getTextContent();if(s&&h){var m=r.get([\"label\",\"position\"]);e.textConfig.inside=\"middle\"===m||null,function(e,t,n,r){if(le(r))e.setTextConfig({rotation:r});else if(ie(t))e.setTextConfig({rotation:0});else{var i,o=e.shape,a=o.clockwise?o.startAngle:o.endAngle,s=o.clockwise?o.endAngle:o.startAngle,l=(a+s)/2,c=n(t);switch(c){case\"startArc\":case\"insideStartArc\":case\"middle\":case\"insideEndArc\":case\"endArc\":i=l;break;case\"startAngle\":case\"insideStartAngle\":i=a;break;case\"endAngle\":case\"insideEndAngle\":i=s;break;default:return void e.setTextConfig({rotation:0})}var u=1.5*Math.PI-i;\"middle\"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),e.setTextConfig({rotation:u})}}(e,\"outside\"===m?p:m,qA(a),r.get([\"label\",\"rotate\"]))}su(h,f,o.getRawValue(n),(function(e){return YT(t,e)}));var g=r.getModel([\"emphasis\"]);Pc(e,g.get(\"focus\"),g.get(\"blurScope\"),g.get(\"disabled\")),_c(e,r),function(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(i)&&(e.style.fill=\"none\",e.style.stroke=\"none\",Q(e.states,(function(e){e.style&&(e.style.fill=e.style.stroke=\"none\")})))}var XA=function(){},JA=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"largeBar\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new XA},t.prototype.buildPath=function(e,t){for(var n=t.points,r=this.baseDimIdx,i=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[r]=s,a[i]=n[l+2],o[r]=n[l+r],o[i]=n[l+i],e.rect(o[0],o[1],a[0],a[1])},t}(sl);function $A(e,t,n,r){var i=e.getData(),o=i.getLayout(\"valueAxisHorizontal\")?1:0,a=i.getLayout(\"largeDataIndices\"),s=i.getLayout(\"size\"),l=e.getModel(\"backgroundStyle\"),c=i.getLayout(\"largeBackgroundPoints\");if(c){var u=new JA({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),t.add(u),n&&n.push(u)}var d=new JA({shape:{points:i.getLayout(\"largePoints\")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=o,d.largeDataIndices=a,d.barWidth=s,t.add(d),d.useStyle(i.getVisual(\"style\")),Bl(d).seriesIndex=e.seriesIndex,e.get(\"silent\")||(d.on(\"mousedown\",eE),d.on(\"mousemove\",eE)),n&&n.push(d)}var eE=Vg((function(e){var t=function(e,t,n){for(var r=e.baseDimIdx,i=1-r,o=e.shape.points,a=e.largeDataIndices,s=[],l=[],c=e.barWidth,u=0,d=o.length/3;u<d;u++){var p=3*u;if(l[r]=c,l[i]=o[p+2],s[r]=o[p+r],s[i]=o[p+i],l[i]<0&&(s[i]+=l[i],l[i]=-l[i]),t>=s[0]&&t<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[u]}return-1}(this,e.offsetX,e.offsetY);Bl(this).dataIndex=t>=0?t:null}),30,!1);function tE(e,t,n){if(hA(n,\"cartesian2d\")){var r=t,i=n.getArea();return{x:e?r.x:i.x,y:e?i.y:r.y,width:e?r.width:i.width,height:e?i.height:r.height}}var o=t;return{cx:(i=n.getArea()).cx,cy:i.cy,r0:e?i.r0:o.r0,r:e?i.r:o.r,startAngle:e?o.startAngle:0,endAngle:e?o.endAngle:2*Math.PI}}const nE=FA;var rE=2*Math.PI,iE=Math.PI/180;function oE(e,t){return Ad(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function aE(e,t){var n=oE(e,t),r=e.get(\"center\"),i=e.get(\"radius\");ie(i)||(i=[0,i]);var o,a,s=Oo(n.width,t.getWidth()),l=Oo(n.height,t.getHeight()),c=Math.min(s,l),u=Oo(i[0],c/2),d=Oo(i[1],c/2),p=e.coordinateSystem;if(p){var f=p.dataToPoint(r);o=f[0]||0,a=f[1]||0}else ie(r)||(r=[r,r]),o=Oo(r[0],s)+n.x,a=Oo(r[1],l)+n.y;return{cx:o,cy:a,r0:u,r:d}}function sE(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),r=t.mapDimension(\"value\"),i=oE(e,n),o=aE(e,n),a=o.cx,s=o.cy,l=o.r,c=o.r0,u=-e.get(\"startAngle\")*iE,d=e.get(\"endAngle\"),p=e.get(\"padAngle\")*iE;d=\"auto\"===d?u-rE:-d*iE;var f=e.get(\"minAngle\")*iE+p,h=0;t.each(r,(function(e){!isNaN(e)&&h++}));var m=t.getSum(r),g=Math.PI/(m||h)*2,v=e.get(\"clockwise\"),y=e.get(\"roseType\"),b=e.get(\"stillShowZeroSum\"),S=t.getDataExtent(r);S[0]=0;var x=v?1:-1,w=[u,d],C=x*p/2;Zs(w,!v),u=w[0],d=w[1];var T=lE(e);T.startAngle=u,T.endAngle=d,T.clockwise=v;var A=Math.abs(d-u),E=A,O=0,M=u;if(t.setLayout({viewRect:i,r:l}),t.each(r,(function(e,n){var r;if(isNaN(e))t.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:a,cy:s,r0:c,r:y?NaN:l});else{(r=\"area\"!==y?0===m&&b?g:e*g:A/h)<f?(r=f,E-=f):O+=e;var i=M+x*r,o=0,u=0;p>r?u=o=M+x*r/2:(o=M+C,u=i-C),t.setItemLayout(n,{angle:r,startAngle:o,endAngle:u,clockwise:v,cx:a,cy:s,r0:c,r:y?Eo(e,S,[c,l]):l}),M=i}})),E<rE&&h)if(E<=.001){var P=A/h;t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n);r.angle=P;var i=0,o=0;P<p?o=i=u+x*(n+.5)*P:(i=u+x*n*P+C,o=u+x*(n+1)*P-C),r.startAngle=i,r.endAngle=o}}))}else g=E/O,M=u,t.each(r,(function(e,n){if(!isNaN(e)){var r=t.getItemLayout(n),i=r.angle===f?f:e*g,o=0,a=0;i<p?a=o=M+x*i/2:(o=M+C,a=M+x*i-C),r.startAngle=o,r.endAngle=a,M+=x*i}}))}))}var lE=pa();function cE(e){return{seriesType:e,reset:function(e,t){var n=t.findComponents({mainType:\"legend\"});if(n&&n.length){var r=e.getData();r.filterSelf((function(e){for(var t=r.getName(e),i=0;i<n.length;i++)if(!n[i].isSelected(t))return!1;return!0}))}}}}var uE=Math.PI/180;function dE(e,t,n,r,i,o,a,s,l,c){if(!(e.length<2)){for(var u=e.length,d=0;d<u;d++)if(\"outer\"===e[d].position&&\"labelLine\"===e[d].labelAlignTo){var p=e[d].label.x-c;e[d].linePoints[1][0]+=p,e[d].label.x=c}cC(e,l,l+a)&&function(e){for(var o={list:[],maxY:0},a={list:[],maxY:0},s=0;s<e.length;s++)if(\"none\"===e[s].labelAlignTo){var l=e[s],c=l.label.y>n?a:o,u=Math.abs(l.label.y-n);if(u>=c.maxY){var d=l.label.x-t-l.len2*i,p=r+l.len,h=Math.abs(d)<p?Math.sqrt(u*u/(1-d*d/p/p)):p;c.rB=h,c.maxY=u}c.list.push(l)}f(o),f(a)}(e)}function f(e){for(var o=e.rB,a=o*o,s=0;s<e.list.length;s++){var l=e.list[s],c=Math.abs(l.label.y-n),u=r+l.len,d=u*u,p=Math.sqrt((1-Math.abs(c*c/a))*d),f=t+(p+l.len2)*i,h=f-l.label.x;pE(l,l.targetTextWidth-h*i,!0),l.label.x=f}}}function pE(e,t,n){if(void 0===n&&(n=!1),null==e.labelStyleWidth){var r=e.label,i=r.style,o=e.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,c=i.overflow,u=o.width+(a?0:l);if(t<u||n){var d=o.height;if(c&&c.match(\"break\")){r.setStyle(\"backgroundColor\",null),r.setStyle(\"width\",t-l);var p=r.getBoundingRect();r.setStyle(\"width\",Math.ceil(p.width)),r.setStyle(\"backgroundColor\",a)}else{var f=t-l,h=t<u?f:n?f>e.unconstrainedWidth?null:f:null;r.setStyle(\"width\",h)}var m=r.getBoundingRect();o.width=m.width;var g=(r.style.margin||0)+2.1;o.height=m.height+g,o.y-=(o.height-d)/2}}}function fE(e){return\"center\"===e.position}var hE=function(e){function t(t,n,r){var i=e.call(this)||this;i.z2=2;var o=new Zl;return i.setTextContent(o),i.updateData(t,n,r,!0),i}return(0,m.ZT)(t,e),t.prototype.updateData=function(e,t,n,r){var i=this,o=e.hostModel,a=e.getItemModel(t),s=a.getModel(\"emphasis\"),l=e.getItemLayout(t),c=H(RA(a.getModel(\"itemStyle\"),l,!0),l);if(isNaN(c.startAngle))i.setShape(c);else{if(r){i.setShape(c);var u=o.getShallow(\"animationType\");o.ecModel.ssr?(Vc(i,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),i.originX=c.cx,i.originY=c.cy):\"scale\"===u?(i.shape.r=l.r0,Vc(i,{shape:{r:l.r}},o,t)):null!=n?(i.setShape({startAngle:n,endAngle:n}),Vc(i,{shape:{startAngle:l.startAngle,endAngle:l.endAngle}},o,t)):(i.shape.endAngle=l.startAngle,zc(i,{shape:{endAngle:l.endAngle}},o,t))}else Wc(i),zc(i,{shape:c},o,t);i.useStyle(e.getItemVisual(t,\"style\")),_c(i,a);var d=(l.startAngle+l.endAngle)/2,p=o.get(\"selectedOffset\"),f=Math.cos(d)*p,h=Math.sin(d)*p,m=a.getShallow(\"cursor\");m&&i.attr(\"cursor\",m),this._updateLabel(o,e,t),i.ensureState(\"emphasis\").shape=H({r:l.r+(s.get(\"scale\")&&s.get(\"scaleSize\")||0)},RA(s.getModel(\"itemStyle\"),l)),H(i.ensureState(\"select\"),{x:f,y:h,shape:RA(a.getModel([\"select\",\"itemStyle\"]),l)}),H(i.ensureState(\"blur\"),{shape:RA(a.getModel([\"blur\",\"itemStyle\"]),l)});var g=i.getTextGuideLine(),v=i.getTextContent();g&&H(g.ensureState(\"select\"),{x:f,y:h}),H(v.ensureState(\"select\"),{x:f,y:h}),Pc(this,s.get(\"focus\"),s.get(\"blurScope\"),s.get(\"disabled\"))}},t.prototype._updateLabel=function(e,t,n){var r=this,i=t.getItemModel(n),o=i.getModel(\"labelLine\"),a=t.getItemVisual(n,\"style\"),s=a&&a.fill,l=a&&a.opacity;Xc(r,Jc(i),{labelFetcher:t.hostModel,labelDataIndex:n,inheritColor:s,defaultOpacity:l,defaultText:e.getFormattedLabel(n,\"normal\")||t.getName(n)});var c=r.getTextContent();r.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var u=e.get([\"label\",\"position\"]);if(\"outside\"!==u&&\"outer\"!==u)r.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Om,this.setTextGuideLine(d)),oC(this,aC(i),{stroke:s,opacity:be(o.get([\"lineStyle\",\"opacity\"]),l,1)})}},t}(vm);const mE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i,o=e.getData(),a=this._data,s=this.group;if(!a&&o.count()>0){for(var l=o.getItemLayout(0),c=1;isNaN(l&&l.startAngle)&&c<o.count();++c)l=o.getItemLayout(c);l&&(i=l.startAngle)}if(this._emptyCircleSector&&s.remove(this._emptyCircleSector),0===o.count()&&e.get(\"showEmptyCircle\")){var u=lE(e),d=new vm({shape:H(aE(e,n),u)});d.useStyle(e.getModel(\"emptyCircleStyle\").getItemStyle()),this._emptyCircleSector=d,s.add(d)}o.diff(a).add((function(e){var t=new hE(o,e,i);o.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var n=a.getItemGraphicEl(t);n.updateData(o,e,i),n.off(\"click\"),s.add(n),o.setItemGraphicEl(e,n)})).remove((function(t){Yc(a.getItemGraphicEl(t),e,t)})).execute(),function(e){var t,n,r=e.getData(),i=[],o=!1,a=(e.get(\"minShowLabelAngle\")||0)*uE,s=r.getLayout(\"viewRect\"),l=r.getLayout(\"r\"),c=s.width,u=s.x,d=s.y,p=s.height;function f(e){e.ignore=!0}r.each((function(e){var s=r.getItemGraphicEl(e),d=s.shape,p=s.getTextContent(),h=s.getTextGuideLine(),m=r.getItemModel(e),g=m.getModel(\"label\"),v=g.get(\"position\")||m.get([\"emphasis\",\"label\",\"position\"]),y=g.get(\"distanceToLabelLine\"),b=g.get(\"alignTo\"),S=Oo(g.get(\"edgeDistance\"),c),x=g.get(\"bleedMargin\"),w=m.getModel(\"labelLine\"),C=w.get(\"length\");C=Oo(C,c);var T=w.get(\"length2\");if(T=Oo(T,c),Math.abs(d.endAngle-d.startAngle)<a)return Q(p.states,f),p.ignore=!0,void(h&&(Q(h.states,f),h.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var A,E,O,M,P=(d.startAngle+d.endAngle)/2,D=Math.cos(P),I=Math.sin(P);t=d.cx,n=d.cy;var N=\"inside\"===v||\"inner\"===v;if(\"center\"===v)A=d.cx,E=d.cy,M=\"center\";else{var _=(N?(d.r+d.r0)/2*D:d.r*D)+t,j=(N?(d.r+d.r0)/2*I:d.r*I)+n;if(A=_+3*D,E=j+3*I,!N){var k=_+D*(C+l-d.r),L=j+I*(C+l-d.r),R=k+(D<0?-1:1)*T;A=\"edge\"===b?D<0?u+S:u+c-S:R+(D<0?-y:y),E=L,O=[[_,j],[k,L],[R,L]]}M=N?\"center\":\"edge\"===b?D>0?\"right\":\"left\":D>0?\"left\":\"right\"}var Z=Math.PI,B=0,F=g.get(\"rotate\");if(le(F))B=F*(Z/180);else if(\"center\"===v)B=0;else if(\"radial\"===F||!0===F)B=D<0?-P+Z:-P;else if(\"tangential\"===F&&\"outside\"!==v&&\"outer\"!==v){var z=Math.atan2(D,I);z<0&&(z=2*Z+z),I>0&&(z=Z+z),B=z-Z}if(o=!!B,p.x=A,p.y=E,p.rotation=B,p.setStyle({verticalAlign:\"middle\"}),N){p.setStyle({align:M});var V=p.states.select;V&&(V.x+=p.x,V.y+=p.y)}else{var H=p.getBoundingRect().clone();H.applyTransform(p.getComputedTransform());var U=(p.style.margin||0)+2.1;H.y-=U/2,H.height+=U,i.push({label:p,labelLine:h,position:v,len:C,len2:T,minTurnAngle:w.get(\"minTurnAngle\"),maxSurfaceAngle:w.get(\"maxSurfaceAngle\"),surfaceNormal:new Yt(D,I),linePoints:O,textAlign:M,labelDistance:y,labelAlignTo:b,edgeDistance:S,bleedMargin:x,rect:H,unconstrainedWidth:H.width,labelStyleWidth:p.style.width})}s.setTextConfig({inside:N})}})),!o&&e.get(\"avoidLabelOverlap\")&&function(e,t,n,r,i,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,p=0;p<e.length;p++){var f=e[p].label;fE(e[p])||(f.x<t?(u=Math.min(u,f.x),l.push(e[p])):(d=Math.max(d,f.x),c.push(e[p])))}for(p=0;p<e.length;p++)if(!fE(g=e[p])&&g.linePoints){if(null!=g.labelStyleWidth)continue;f=g.label;var h,m=g.linePoints;h=\"edge\"===g.labelAlignTo?f.x<t?m[2][0]-g.labelDistance-a-g.edgeDistance:a+i-g.edgeDistance-m[2][0]-g.labelDistance:\"labelLine\"===g.labelAlignTo?f.x<t?u-a-g.bleedMargin:a+i-d-g.bleedMargin:f.x<t?f.x-a-g.bleedMargin:a+i-f.x-g.bleedMargin,g.targetTextWidth=h,pE(g,h)}for(dE(c,t,n,r,1,0,o,0,s,d),dE(l,t,n,r,-1,0,o,0,s,u),p=0;p<e.length;p++){var g;if(!fE(g=e[p])&&g.linePoints){f=g.label,m=g.linePoints;var v=\"edge\"===g.labelAlignTo,y=f.style.padding,b=y?y[1]+y[3]:0,S=f.style.backgroundColor?0:b,x=g.rect.width+S,w=m[1][0]-m[2][0];v?f.x<t?m[2][0]=a+g.edgeDistance+x+g.labelDistance:m[2][0]=a+i-g.edgeDistance-x-g.labelDistance:(f.x<t?m[2][0]=f.x+g.labelDistance:m[2][0]=f.x-g.labelDistance,m[1][0]=m[2][0]+w),m[1][1]=m[2][1]=f.y}}}(i,t,n,l,c,p,u,d);for(var h=0;h<i.length;h++){var m=i[h],g=m.label,v=m.labelLine,y=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:m.textAlign}),y&&(Q(g.states,f),g.ignore=!0);var b=g.states.select;b&&(b.x+=g.x,b.y+=g.y)}if(v){var S=m.linePoints;y||!S?(Q(v.states,f),v.ignore=!0):(tC(S,m.minTurnAngle),nC(S,m.surfaceNormal,m.maxSurfaceAngle),v.setShape({points:S}),g.__hostTarget.textGuideLineConfig={anchor:new Yt(S[0][0],S[0][1])})}}}(e),\"expansion\"!==e.get(\"animationTypeUpdate\")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type=\"pie\",t}(Zg);function gE(e,t,n){t=ie(t)&&{coordDimensions:t}||H({encodeDefine:e.getEncode()},t);var r=e.getSource(),i=kS(r,t).dimensions,o=new _S(i,e);return o.initData(r,n),o}var vE=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}();const yE=vE;var bE=pa();const SE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new yE(ne(this.getData,this),ne(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return gE(this,{coordDimensions:[\"value\"],encodeDefaulter:re(qd,this)})},t.prototype.getDataParams=function(t){var n=this.getData(),r=bE(n),i=r.seats;if(!i){var o=[];n.each(n.mapDimension(\"value\"),(function(e){o.push(e)})),i=r.seats=jo(o,n.hostModel.get(\"percentPrecision\"))}var a=e.prototype.getDataParams.call(this,t);return a.percent=i[t]||0,a.$vars.push(\"percent\"),a},t.prototype._defaultLabelLine=function(e){ta(e,\"labelLine\",[\"show\"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.type=\"series.pie\",t.defaultOption={z:2,legendHoverLink:!0,colorBy:\"data\",center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,endAngle:\"auto\",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:\"truncate\",position:\"outer\",alignTo:\"none\",edgeDistance:\"25%\",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:\"solid\"}},itemStyle:{borderWidth:1,borderJoin:\"round\"},showEmptyCircle:!0,emptyCircleStyle:{color:\"lightgray\",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:\"expansion\",animationDuration:1e3,animationTypeUpdate:\"transition\",animationEasingUpdate:\"cubicInOut\",animationDurationUpdate:500,animationEasing:\"cubicInOut\"},t}(Oh),xE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return HS(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get(\"progressive\"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get(\"progressiveThreshold\"):e},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:\"\"},t.type=\"series.scatter\",t.dependencies=[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],t.defaultOption={coordinateSystem:\"cartesian2d\",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:\"#212121\"}},universalTransition:{divideShape:\"clone\"}},t}(Oh);var wE=function(){},CE=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new wE},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,t){var n,r=t.points,i=t.size,o=this.symbolProxy,a=o.shape,s=e.getContext?e.getContext():e,l=s&&i[0]<4,c=this.softClipShape;if(l)this._ctx=s;else{for(this._ctx=null,n=this._off;n<r.length;){var u=r[n++],d=r[n++];isNaN(u)||isNaN(d)||c&&!c.contain(u,d)||(a.x=u-i[0]/2,a.y=d-i[1]/2,a.width=i[0],a.height=i[1],o.buildPath(e,a,!0))}this.incremental&&(this._off=n,this.notClear=!0)}},t.prototype.afterBrush=function(){var e,t=this.shape,n=t.points,r=t.size,i=this._ctx,o=this.softClipShape;if(i){for(e=this._off;e<n.length;){var a=n[e++],s=n[e++];isNaN(a)||isNaN(s)||o&&!o.contain(a,s)||i.fillRect(a-r[0]/2,s-r[1]/2,r[0],r[1])}this.incremental&&(this._off=e,this.notClear=!0)}},t.prototype.findDataIndex=function(e,t){for(var n=this.shape,r=n.points,i=n.size,o=Math.max(i[0],4),a=Math.max(i[1],4),s=r.length/2-1;s>=0;s--){var l=2*s,c=r[l]-o/2,u=r[l+1]-a/2;if(e>=c&&t>=u&&e<=c+o&&t<=u+a)return s}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape,n=t.points,r=t.size,i=r[0],o=r[1],a=1/0,s=1/0,l=-1/0,c=-1/0,u=0;u<n.length;){var d=n[u++],p=n[u++];a=Math.min(d,a),l=Math.max(d,l),s=Math.min(p,s),c=Math.max(p,c)}e=this._rect=new nn(a-i/2,s-o/2,l-a+i,c-s+o)}return e},t}(sl),TE=function(){function e(){this.group=new uo}return e.prototype.updateData=function(e,t){this._clear();var n=this._create();n.setShape({points:e.getLayout(\"points\")}),this._setCommon(n,e,t)},e.prototype.updateLayout=function(e){var t=e.getLayout(\"points\");this.group.eachChild((function(e){if(null!=e.startIndex){var n=2*(e.endIndex-e.startIndex),r=4*e.startIndex*2;t=new Float32Array(t.buffer,r,n)}e.setShape(\"points\",t),e.reset()}))},e.prototype.incrementalPrepareUpdate=function(e){this._clear()},e.prototype.incrementalUpdate=function(e,t,n){var r=this._newAdded[0],i=t.getLayout(\"points\"),o=r&&r.shape.points;if(o&&o.length<2e4){var a=o.length,s=new Float32Array(a+i.length);s.set(o),s.set(i,a),r.endIndex=e.end,r.setShape({points:s})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:i}),this._setCommon(l,t,n)}},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new CE({cursor:\"default\"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;n=n||{};var i=t.getVisual(\"symbolSize\");e.setShape(\"size\",i instanceof Array?i:[i,i]),e.softClipShape=n.clipShape||null,e.symbolProxy=Kv(t.getVisual(\"symbol\"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var o=e.shape.size[0]<4;e.useStyle(r.getModel(\"itemStyle\").getItemStyle(o?[\"color\",\"shadowBlur\",\"shadowColor\"]:[\"color\"]));var a=t.getVisual(\"style\"),s=a&&a.fill;s&&e.setColor(s);var l=Bl(e);l.seriesIndex=r.seriesIndex,e.on(\"mousemove\",(function(t){l.dataIndex=null;var n=e.hoverDataIdx;n>=0&&(l.dataIndex=n+(e.startIndex||0))}))},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const AE=TE,EE=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).updateData(r,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateSymbolDraw(r,e).incrementalPrepareUpdate(r),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},t.prototype.updateTransform=function(e,t,n){var r=e.getData();if(this.group.dirty(),!this._finished||r.count()>1e4)return{update:!0};var i=AA(\"\").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout(r)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){if(e.get(\"clip\",!0)){var t=e.coordinateSystem;return t&&t.getArea&&t.getArea(.1)}},t.prototype._updateSymbolDraw=function(e,t){var n=this._symbolDraw,r=t.pipelineContext.large;return n&&r===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=r?new AE:new eA,this._isLargeDraw=r,this.group.removeAll()),this.group.add(n.group),n},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type=\"scatter\",t}(Zg),OE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.type=\"grid\",t.dependencies=[\"xAxis\",\"yAxis\"],t.layoutMode=\"box\",t.defaultOption={show:!1,z:0,left:\"10%\",top:60,right:\"10%\",bottom:70,containLabel:!1,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:1,borderColor:\"#ccc\"},t}(_d);var ME=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents(\"grid\",ga).models[0]},t.type=\"cartesian2dAxis\",t}(_d);K(ME,tw);var PE={show:!0,z:0,inverse:!1,name:\"\",nameLocation:\"end\",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:\"...\",placeholder:\".\"},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:\"#6E7079\",width:1,type:\"solid\"},symbol:[\"none\",\"none\"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:[\"#E0E6F1\"],width:1,type:\"solid\"}},splitArea:{show:!1,areaStyle:{color:[\"rgba(250,250,250,0.2)\",\"rgba(210,219,238,0.2)\"]}}},DE=z({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:\"auto\"},axisLabel:{interval:\"auto\"}},PE),IE=z({boundaryGap:[0,0],axisLine:{show:\"auto\"},axisTick:{show:\"auto\"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:\"#F4F7FD\",width:1}}},PE);const NE={category:DE,value:IE,time:z({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:\"bold\"}}},splitLine:{show:!1}},IE),log:U({logBase:10},IE)};var _E={value:1,category:1,time:1,log:1};function jE(e,t,n,r){Q(_E,(function(i,o){var a=z(z({},NE[o],!0),r,!0),s=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t+\"Axis.\"+o,n}return(0,m.ZT)(n,e),n.prototype.mergeDefaultAndTheme=function(e,t){var n=Od(this),r=n?Pd(e):{};z(e,t.getTheme().get(o+\"Axis\")),z(e,this.getDefaultOption()),e.type=kE(e),n&&Md(e,r,n)},n.prototype.optionUpdated=function(){\"category\"===this.option.type&&(this.__ordinalMeta=KS.createByAxisModel(this))},n.prototype.getCategories=function(e){var t=this.option;if(\"category\"===t.type)return e?t.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=t+\"Axis.\"+o,n.defaultOption=a,n}(n);e.registerComponentModel(s)})),e.registerSubTypeDefaulter(t+\"Axis\",kE)}function kE(e){return e.type||(e.data?\"category\":\"value\")}var LE=function(){function e(e){this.type=\"cartesian\",this._dimList=[],this._axes={},this.name=e||\"\"}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return X(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),$(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),RE=[\"x\",\"y\"];function ZE(e){return\"interval\"===e.type||\"time\"===e.type}var BE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"cartesian2d\",t.dimensions=RE,t}return(0,m.ZT)(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis(\"x\").scale,t=this.getAxis(\"y\").scale;if(ZE(e)&&ZE(t)){var n=e.getExtent(),r=t.getExtent(),i=this.dataToPoint([n[0],r[0]]),o=this.dataToPoint([n[1],r[1]]),a=n[1]-n[0],s=r[1]-r[0];if(a&&s){var l=(o[0]-i[0])/a,c=(o[1]-i[1])/s,u=i[0]-n[0]*l,d=i[1]-r[0]*c,p=this._transform=[l,0,0,c,u,d];this._invTransform=Ht([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAxis(\"x\")},t.prototype.containPoint=function(e){var t=this.getAxis(\"x\"),n=this.getAxis(\"y\");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis(\"x\").containData(e[0])&&this.getAxis(\"y\").containData(e[1])},t.prototype.containZone=function(e,t){var n=this.dataToPoint(e),r=this.dataToPoint(t),i=this.getArea(),o=new nn(n[0],n[1],r[0]-n[0],r[1]-n[1]);return i.intersect(o)},t.prototype.dataToPoint=function(e,t,n){n=n||[];var r=e[0],i=e[1];if(this._transform&&null!=r&&isFinite(r)&&null!=i&&isFinite(i))return ot(n,e,this._transform);var o=this.getAxis(\"x\"),a=this.getAxis(\"y\");return n[0]=o.toGlobalCoord(o.dataToCoord(r,t)),n[1]=a.toGlobalCoord(a.dataToCoord(i,t)),n},t.prototype.clampData=function(e,t){var n=this.getAxis(\"x\").scale,r=this.getAxis(\"y\").scale,i=n.getExtent(),o=r.getExtent(),a=n.parse(e[0]),s=r.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),a),Math.max(i[0],i[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t){var n=[];if(this._invTransform)return ot(n,e,this._invTransform);var r=this.getAxis(\"x\"),i=this.getAxis(\"y\");return n[0]=r.coordToData(r.toLocalCoord(e[0]),t),n[1]=i.coordToData(i.toLocalCoord(e[1]),t),n},t.prototype.getOtherAxis=function(e){return this.getAxis(\"x\"===e.dim?\"y\":\"x\")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis(\"x\").getGlobalExtent(),n=this.getAxis(\"y\").getGlobalExtent(),r=Math.min(t[0],t[1])-e,i=Math.min(n[0],n[1])-e,o=Math.max(t[0],t[1])-r+e,a=Math.max(n[0],n[1])-i+e;return new nn(r,i,o,a)},t}(LE);const FE=BE;var zE=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.index=0,a.type=i||\"value\",a.position=o||\"bottom\",a}return(0,m.ZT)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return\"top\"===e||\"bottom\"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[\"x\"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if(\"category\"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Nw);const VE=zE;function HE(e,t,n){n=n||{};var r=e.coordinateSystem,i=t.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?\"onZero\":s,c=i.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=t.get(\"offset\")||0,h=\"x\"===c?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(a){var m=a.toGlobalCoord(a.dataToCoord(0));h[p.onZero]=Math.max(Math.min(m,h[1]),h[0])}o.position=[\"y\"===c?h[p[l]]:d[0],\"x\"===c?h[p[l]]:d[3]],o.rotation=Math.PI/2*(\"x\"===c?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?h[p[s]]-h[p.onZero]:0,t.get([\"axisTick\",\"inside\"])&&(o.tickDirection=-o.tickDirection),ve(n.labelInside,t.get([\"axisLabel\",\"inside\"]))&&(o.labelDirection=-o.labelDirection);var g=t.get([\"axisLabel\",\"rotate\"]);return o.labelRotate=\"top\"===l?-g:g,o.z2=1,o}function UE(e){return\"cartesian2d\"===e.get(\"coordinateSystem\")}function GE(e){var t={xAxisModel:null,yAxisModel:null};return Q(t,(function(n,r){var i=r.replace(/Model$/,\"\"),o=e.getReferringComponents(i,ga).models[0];t[r]=o})),t}var YE=Math.log;function WE(e,t,n){var r=ax.prototype,i=r.getTicks.call(n),o=r.getTicks.call(n,!0),a=i.length-1,s=r.getInterval.call(n),l=Yx(e,t),c=l.extent,u=l.fixMin,d=l.fixMax;if(\"log\"===e.type){var p=YE(e.base);c=[YE(c[0])/p,YE(c[1])/p]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:a,fixMin:u,fixMax:d});var f=r.getExtent.call(e);u&&(c[0]=f[0]),d&&(c[1]=f[1]);var h=r.getInterval.call(e),m=c[0],g=c[1];if(u&&d)h=(g-m)/a;else if(u)for(g=c[0]+h*a;g<c[1]&&isFinite(g)&&isFinite(c[1]);)h=QS(h),g=c[0]+h*a;else if(d)for(m=c[1]-h*a;m>c[0]&&isFinite(m)&&isFinite(c[0]);)h=QS(h),m=c[1]-h*a;else{e.getTicks().length-1>a&&(h=QS(h));var v=h*a;(m=Mo((g=Math.ceil(c[1]/h)*h)-v))<0&&c[0]>=0?(m=0,g=Mo(v)):g>0&&c[1]<=0&&(g=0,m=-Mo(v))}var y=(i[0].value-o[0].value)/s,b=(i[a].value-o[a].value)/s;r.setExtent.call(e,m+h*y,g+h*b),r.setInterval.call(e,h),(y||b)&&r.setNiceExtent.call(e,m+h,g-h)}var KE=function(){function e(e,t,n){this.type=\"grid\",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=RE,this._initCartesian(e,t,n),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var n=this._axesMap;function r(e){var t,n=te(e),r=n.length;if(r){for(var i=[],o=r-1;o>=0;o--){var a=e[+n[o]],s=a.model,l=a.scale;qS(l)&&s.get(\"alignTicks\")&&null==s.get(\"interval\")?i.push(a):(Wx(l,s),qS(l)&&(t=a))}i.length&&(t||Wx((t=i.pop()).scale,t.model),Q(i,(function(e){WE(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),r(n.x),r(n.y);var i={};Q(n.x,(function(e){QE(n,\"y\",e,i)})),Q(n.y,(function(e){QE(n,\"x\",e,i)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,n){var r=e.getBoxLayoutParams(),i=!n&&e.get(\"containLabel\"),o=Ad(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var a=this._axesList;function s(){Q(a,(function(e){var t=e.isHorizontal(),n=t?[0,o.width]:[0,o.height],r=e.inverse?1:0;e.setExtent(n[r],n[1-r]),function(e,t){var n=e.getExtent(),r=n[0]+n[1];e.toGlobalCoord=\"x\"===e.dim?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=\"x\"===e.dim?function(e){return e-t}:function(e){return r-e+t}}(e,t?o.x:o.y)}))}s(),i&&(Q(a,(function(e){if(!e.model.get([\"axisLabel\",\"inside\"])){var t=function(e){var t=e.model,n=e.scale;if(t.get([\"axisLabel\",\"show\"])&&!n.isBlank()){var r,i,o=n.getExtent();i=n instanceof rx?n.count():(r=n.getTicks()).length;var a,s=e.getLabelModel(),l=qx(e),c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var d=l(r?r[u]:{value:o[0]+u},u),p=Xx(s.getTextRect(d),s.get(\"rotate\")||0);a?a.union(p):a=p}return a}}(e);if(t){var n=e.isHorizontal()?\"height\":\"width\",r=e.model.get([\"axisLabel\",\"margin\"]);o[n]-=t[n]+r,\"top\"===e.position?o.y+=t.height+r:\"left\"===e.position&&(o.x+=t.width+r)}}})),s()),Q(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var n=\"x\"+e+\"y\"+t;return this._coordsMap[n]}ce(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var r=0,i=this._coordsList;r<i.length;r++)if(i[r].getAxis(\"x\").index===e||i[r].getAxis(\"y\").index===t)return i[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(e,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(e){var t,n,r=e.seriesModel,i=e.xAxisModel||r&&r.getReferringComponents(\"xAxis\",ga).models[0],o=e.yAxisModel||r&&r.getReferringComponents(\"yAxis\",ga).models[0],a=e.gridModel,s=this._coordsList;return r?Y(s,t=r.coordinateSystem)<0&&(t=null):i&&o?t=this.getCartesian(i.componentIndex,o.componentIndex):i?n=this.getAxis(\"x\",i.componentIndex):o?n=this.getAxis(\"y\",o.componentIndex):a&&a.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:n}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,n){var r=this,i=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(t.eachComponent(\"xAxis\",l(\"x\"),this),t.eachComponent(\"yAxis\",l(\"y\"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(t){return function(n,r){if(qE(n,e)){var l=n.get(\"position\");\"x\"===t?\"top\"!==l&&\"bottom\"!==l&&(l=o.bottom?\"top\":\"bottom\"):\"left\"!==l&&\"right\"!==l&&(l=o.left?\"right\":\"left\"),o[l]=!0;var c=new VE(t,Kx(n),[0,0],n.get(\"type\"),l),u=\"category\"===c.type;c.onBand=u&&n.get(\"boundaryGap\"),c.inverse=n.get(\"inverse\"),n.axis=c,c.model=n,c.grid=i,c.index=r,i._axesList.push(c),a[t][r]=c,s[t]++}}}this._axesMap=a,Q(a.x,(function(t,n){Q(a.y,(function(i,o){var a=\"x\"+n+\"y\"+o,s=new FE(a);s.master=r,s.model=e,r._coordsMap[a]=s,r._coordsList.push(s),s.addAxis(t),s.addAxis(i)}))}))},e.prototype._updateScale=function(e,t){function n(e,t){Q(ew(e,t.dim),(function(n){t.scale.unionExtentFromData(e,n)}))}Q(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),\"category\"===e.type){var t=e.model.get(\"categorySortInfo\");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(UE(e)){var r=GE(e),i=r.xAxisModel,o=r.yAxisModel;if(!qE(i,t)||!qE(o,t))return;var a=this.getCartesian(i.componentIndex,o.componentIndex),s=e.getData(),l=a.getAxis(\"x\"),c=a.getAxis(\"y\");n(s,l),n(s,c)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],n=[];return Q(this.getCartesians(),(function(r){var i=null!=e&&\"auto\"!==e?r.getAxis(e):r.getBaseAxis(),o=r.getOtherAxis(i);Y(t,i)<0&&t.push(i),Y(n,o)<0&&n.push(o)})),{baseAxes:t,otherAxes:n}},e.create=function(t,n){var r=[];return t.eachComponent(\"grid\",(function(i,o){var a=new e(i,t,n);a.name=\"grid_\"+o,a.resize(i,n,!0),i.coordinateSystem=a,r.push(a)})),t.eachSeries((function(e){if(UE(e)){var t=GE(e),n=t.xAxisModel,r=t.yAxisModel,i=n.getCoordSysModel().coordinateSystem;e.coordinateSystem=i.getCartesian(n.componentIndex,r.componentIndex)}})),r},e.dimensions=RE,e}();function qE(e,t){return e.getCoordSysModel()===t}function QE(e,t,n,r){n.getAxesOnZeroOf=function(){return i?[i]:[]};var i,o=e[t],a=n.model,s=a.get([\"axisLine\",\"onZero\"]),l=a.get([\"axisLine\",\"onZeroAxisIndex\"]);if(s){if(null!=l)XE(o[l])&&(i=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&XE(o[c])&&!r[u(o[c])]){i=o[c];break}i&&(r[u(i)]=!0)}function u(e){return e.dim+\"_\"+e.index}}function XE(e){return e&&\"category\"!==e.type&&\"time\"!==e.type&&function(e){var t=e.scale.getExtent(),n=t[0],r=t[1];return!(n>0&&r>0||n<0&&r<0)}(e)}const JE=KE;var $E=Math.PI,eO=function(){function e(e,t){this.group=new uo,this.opt=t,this.axisModel=e,U(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new uo({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(e){return!!tO[e]},e.prototype.add=function(e){tO[e](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(e,t,n){var r,i,o=Ro(t-e);return Zo(o)?(i=n>0?\"top\":\"bottom\",r=\"center\"):Zo(o-$E)?(i=n>0?\"bottom\":\"top\",r=\"center\"):(i=\"middle\",r=o>0&&o<$E?n>0?\"right\":\"left\":n>0?\"left\":\"right\"),{rotation:o,textAlign:r,textVerticalAlign:i}},e.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+\"Index\"]=e.componentIndex,t},e.isLabelSilent=function(e){var t=e.get(\"tooltip\");return e.get(\"silent\")||!(e.get(\"triggerEvent\")||t&&t.show)},e}(),tO={axisLine:function(e,t,n,r){var i=t.get([\"axisLine\",\"show\"]);if(\"auto\"===i&&e.handleAutoShown&&(i=e.handleAutoShown(\"axisLine\")),i){var o=t.axis.getExtent(),a=r.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(ot(s,s,a),ot(l,l,a));var u=H({lineCap:\"round\"},t.getModel([\"axisLine\",\"lineStyle\"]).getLineStyle()),d=new Im({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});fg(d.shape,d.style.lineWidth),d.anid=\"line\",n.add(d);var p=t.get([\"axisLine\",\"symbol\"]);if(null!=p){var f=t.get([\"axisLine\",\"symbolSize\"]);ae(p)&&(p=[p,p]),(ae(f)||le(f))&&(f=[f,f]);var h=Qv(t.get([\"axisLine\",\"symbolOffset\"])||0,f),m=f[0],g=f[1];Q([{rotate:e.rotation+Math.PI/2,offset:h[0],r:0},{rotate:e.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(t,r){if(\"none\"!==p[r]&&null!=p[r]){var i=Kv(p[r],-m/2,-g/2,m,g,u.stroke,!0),o=t.r+t.offset,a=c?l:s;i.attr({rotation:t.rotate,x:a[0]+o*Math.cos(e.rotation),y:a[1]-o*Math.sin(e.rotation),silent:!0,z2:11}),n.add(i)}}))}}},axisTickLabel:function(e,t,n,r){var i=function(e,t,n,r){var i=n.axis,o=n.getModel(\"axisTick\"),a=o.get(\"show\");if(\"auto\"===a&&r.handleAutoShown&&(a=r.handleAutoShown(\"axisTick\")),a&&!i.scale.isBlank()){for(var s=o.getModel(\"lineStyle\"),l=r.tickDirection*o.get(\"length\"),c=oO(i.getTicksCoords(),t.transform,l,U(s.getLineStyle(),{stroke:n.get([\"axisLine\",\"lineStyle\",\"color\"])}),\"ticks\"),u=0;u<c.length;u++)e.add(c[u]);return c}}(n,r,t,e),o=function(e,t,n,r){var i=n.axis;if(ve(r.axisLabelShow,n.get([\"axisLabel\",\"show\"]))&&!i.scale.isBlank()){var o=n.getModel(\"axisLabel\"),a=o.get(\"margin\"),s=i.getViewLabels(),l=(ve(r.labelRotate,o.get(\"rotate\"))||0)*$E/180,c=eO.innerTextLayout(r.rotation,l,r.labelDirection),u=n.getCategories&&n.getCategories(!0),d=[],p=eO.isLabelSilent(n),f=n.get(\"triggerEvent\");return Q(s,(function(l,h){var m=\"ordinal\"===i.scale.type?i.scale.getRawOrdinalNumber(l.tickValue):l.tickValue,g=l.formattedLabel,v=l.rawLabel,y=o;if(u&&u[m]){var b=u[m];ce(b)&&b.textStyle&&(y=new Cu(b.textStyle,o,n.ecModel))}var S=y.getTextColor()||n.get([\"axisLine\",\"lineStyle\",\"color\"]),x=i.dataToCoord(m),w=y.getShallow(\"align\",!0)||c.textAlign,C=ye(y.getShallow(\"alignMinLabel\",!0),w),T=ye(y.getShallow(\"alignMaxLabel\",!0),w),A=y.getShallow(\"verticalAlign\",!0)||y.getShallow(\"baseline\",!0)||c.textVerticalAlign,E=ye(y.getShallow(\"verticalAlignMinLabel\",!0),A),O=ye(y.getShallow(\"verticalAlignMaxLabel\",!0),A),M=new Zl({x,y:r.labelOffset+r.labelDirection*a,rotation:c.rotation,silent:p,z2:10+(l.level||0),style:$c(y,{text:g,align:0===h?C:h===s.length-1?T:w,verticalAlign:0===h?E:h===s.length-1?O:A,fill:oe(S)?S(\"category\"===i.type?v:\"value\"===i.type?m+\"\":m,h):S})});if(M.anid=\"label_\"+m,f){var P=eO.makeAxisEventDataBase(n);P.targetType=\"axisLabel\",P.value=v,P.tickIndex=h,\"category\"===i.type&&(P.dataIndex=m),Bl(M).eventData=P}t.add(M),M.updateTransform(),d.push(M),e.add(M),M.decomposeTransform()})),d}}(n,r,t,e);(function(e,t,n){if(!$x(e.axis)){var r=e.get([\"axisLabel\",\"showMinLabel\"]),i=e.get([\"axisLabel\",\"showMaxLabel\"]);n=n||[];var o=(t=t||[])[0],a=t[1],s=t[t.length-1],l=t[t.length-2],c=n[0],u=n[1],d=n[n.length-1],p=n[n.length-2];!1===r?(nO(o),nO(c)):rO(o,a)&&(r?(nO(a),nO(u)):(nO(o),nO(c))),!1===i?(nO(s),nO(d)):rO(l,s)&&(i?(nO(l),nO(p)):(nO(s),nO(d)))}})(t,o,i),function(e,t,n,r){var i=n.axis,o=n.getModel(\"minorTick\");if(o.get(\"show\")&&!i.scale.isBlank()){var a=i.getMinorTicksCoords();if(a.length)for(var s=o.getModel(\"lineStyle\"),l=r*o.get(\"length\"),c=U(s.getLineStyle(),U(n.getModel(\"axisTick\").getLineStyle(),{stroke:n.get([\"axisLine\",\"lineStyle\",\"color\"])})),u=0;u<a.length;u++)for(var d=oO(a[u],t.transform,l,c,\"minorticks_\"+u),p=0;p<d.length;p++)e.add(d[p])}}(n,r,t,e.tickDirection),t.get([\"axisLabel\",\"hideOverlap\"])&&uC(sC(X(o,(function(e){return{label:e,priority:e.z2,defaultAttr:{ignore:e.ignore}}}))))},axisName:function(e,t,n,r){var i=ve(e.axisName,t.get(\"name\"));if(i){var o,a,s=t.get(\"nameLocation\"),l=e.nameDirection,c=t.getModel(\"nameTextStyle\"),u=t.get(\"nameGap\")||0,d=t.axis.getExtent(),p=d[0]>d[1]?-1:1,f=[\"start\"===s?d[0]-p*u:\"end\"===s?d[1]+p*u:(d[0]+d[1])/2,iO(s)?e.labelOffset+l*u:0],h=t.get(\"nameRotate\");null!=h&&(h=h*$E/180),iO(s)?o=eO.innerTextLayout(e.rotation,null!=h?h:e.rotation,l):(o=function(e,t,n,r){var i,o,a=Ro(n-e),s=r[0]>r[1],l=\"start\"===t&&!s||\"start\"!==t&&s;return Zo(a-$E/2)?(o=l?\"bottom\":\"top\",i=\"center\"):Zo(a-1.5*$E)?(o=l?\"top\":\"bottom\",i=\"center\"):(o=\"middle\",i=a<1.5*$E&&a>$E/2?l?\"left\":\"right\":l?\"right\":\"left\"),{rotation:a,textAlign:i,textVerticalAlign:o}}(e.rotation,s,h||0,d),null!=(a=e.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(o.rotation)),!isFinite(a)&&(a=null)));var m=c.getFont(),g=t.get(\"nameTruncate\",!0)||{},v=g.ellipsis,y=ve(e.nameTruncateMaxWidth,g.maxWidth,a),b=new Zl({x:f[0],y:f[1],rotation:o.rotation,silent:eO.isLabelSilent(t),style:$c(c,{text:i,font:m,overflow:\"truncate\",width:y,ellipsis:v,fill:c.getTextColor()||t.get([\"axisLine\",\"lineStyle\",\"color\"]),align:c.get(\"align\")||o.textAlign,verticalAlign:c.get(\"verticalAlign\")||o.textVerticalAlign}),z2:1});if(Og({el:b,componentModel:t,itemName:i}),b.__fullText=i,b.anid=\"name\",t.get(\"triggerEvent\")){var S=eO.makeAxisEventDataBase(t);S.targetType=\"axisName\",S.name=i,Bl(b).eventData=S}r.add(b),b.updateTransform(),n.add(b),b.decomposeTransform()}}};function nO(e){e&&(e.ignore=!0)}function rO(e,t){var n=e&&e.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(n&&r){var i=Rt([]);return zt(i,i,-e.rotation),n.applyTransform(Bt([],i,e.getLocalTransform())),r.applyTransform(Bt([],i,t.getLocalTransform())),n.intersect(r)}}function iO(e){return\"middle\"===e||\"center\"===e}function oO(e,t,n,r,i){for(var o=[],a=[],s=[],l=0;l<e.length;l++){var c=e[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=n,t&&(ot(a,a,t),ot(s,s,t));var u=new Im({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});fg(u.shape,u.style.lineWidth),u.anid=i+\"_\"+e[l].tickValue,o.push(u)}return o}const aO=eO;function sO(e,t){return\"all\"===e||ie(e)&&Y(e,t)>=0||e===t}function lO(e){var t=(e.ecModel.getComponent(\"axisPointer\")||{}).coordSysAxesInfo;return t&&t.axesInfo[uO(e)]}function cO(e){return!!e.get([\"handle\",\"show\"])}function uO(e){return e.type+\"||\"+e.id}var dO={},pO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(t,n,r,i){this.axisPointerClass&&function(e){var t=lO(e);if(t){var n=t.axisPointerModel,r=t.axis.scale,i=n.option,o=n.get(\"status\"),a=n.get(\"value\");null!=a&&(a=r.parse(a));var s=cO(n);null==o&&(i.status=s?\"show\":\"hide\");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=t.axis.scale.isBlank()?\"hide\":\"show\")}}(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},t.prototype.updateAxisPointer=function(e,t,n,r){this._doUpdateAxisPointerClass(e,n,!1)},t.prototype.remove=function(e,t){var n=this._axisPointer;n&&n.remove(t)},t.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var i=t.getAxisPointerClass(this.axisPointerClass);if(i){var o=function(e){var t=lO(e);return t&&t.axisPointerModel}(e);o?(this._axisPointer||(this._axisPointer=new i)).render(e,o,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,t){dO[e]=t},t.getAxisPointerClass=function(e){return e&&dO[e]},t.type=\"axis\",t}(Ph);const fO=pO;var hO=pa();function mO(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel(\"splitArea\"),a=o.getModel(\"areaStyle\"),s=a.get(\"color\"),l=r.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=s.length,d=hO(e).splitAreaColors,p=De(),f=0;if(d)for(var h=0;h<c.length;h++){var m=d.get(c[h].tickValue);if(null!=m){f=(m+(u-1)*h)%u;break}}var g=i.toGlobalCoord(c[0].coord),v=a.getAreaStyle();for(s=ie(s)?s:[s],h=1;h<c.length;h++){var y=i.toGlobalCoord(c[h].coord),b=void 0,S=void 0,x=void 0,w=void 0;i.isHorizontal()?(b=g,S=l.y,x=y-b,w=l.height,g=b+x):(b=l.x,S=g,x=l.width,g=S+(w=y-S));var C=c[h-1].tickValue;null!=C&&p.set(C,f),t.add(new wl({anid:null!=C?\"area_\"+C:null,shape:{x:b,y:S,width:x,height:w},style:U({fill:s[f]},v),autoBatch:!0,silent:!0})),f=(f+1)%u}hO(e).splitAreaColors=p}}}function gO(e){hO(e).splitAreaColors=null}var vO=[\"axisLine\",\"axisTickLabel\",\"axisName\"],yO=[\"splitArea\",\"splitLine\",\"minorSplitLine\"],bO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass=\"CartesianAxisPointer\",n}return(0,m.ZT)(t,e),t.prototype.render=function(t,n,r,i){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new uo,this.group.add(this._axisGroup),t.get(\"show\")){var a=t.getCoordSysModel(),s=HE(a,t),l=new aO(t,H({handleAutoShown:function(e){for(var n=a.coordinateSystem.getCartesians(),r=0;r<n.length;r++)if(qS(n[r].getOtherAxis(t.axis).scale))return!0;return!1}},s));Q(vO,l.add,l),this._axisGroup.add(l.getGroup()),Q(yO,(function(e){t.get([e,\"show\"])&&SO[e](this,this._axisGroup,t,a)}),this),i&&\"changeAxisOrder\"===i.type&&i.isInitSort||Sg(o,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)}},t.prototype.remove=function(){gO(this)},t.type=\"cartesianAxis\",t}(fO),SO={splitLine:function(e,t,n,r){var i=n.axis;if(!i.scale.isBlank()){var o=n.getModel(\"splitLine\"),a=o.getModel(\"lineStyle\"),s=a.get(\"color\");s=ie(s)?s:[s];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,d=i.getTicksCoords({tickModel:o}),p=[],f=[],h=a.getLineStyle(),m=0;m<d.length;m++){var g=i.toGlobalCoord(d[m].coord);c?(p[0]=g,p[1]=l.y,f[0]=g,f[1]=l.y+l.height):(p[0]=l.x,p[1]=g,f[0]=l.x+l.width,f[1]=g);var v=u++%s.length,y=d[m].tickValue,b=new Im({anid:null!=y?\"line_\"+d[m].tickValue:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:U({stroke:s[v]},h),silent:!0});fg(b.shape,h.lineWidth),t.add(b)}}},minorSplitLine:function(e,t,n,r){var i=n.axis,o=n.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),a=r.coordinateSystem.getRect(),s=i.isHorizontal(),l=i.getMinorTicksCoords();if(l.length)for(var c=[],u=[],d=o.getLineStyle(),p=0;p<l.length;p++)for(var f=0;f<l[p].length;f++){var h=i.toGlobalCoord(l[p][f].coord);s?(c[0]=h,c[1]=a.y,u[0]=h,u[1]=a.y+a.height):(c[0]=a.x,c[1]=h,u[0]=a.x+a.width,u[1]=h);var m=new Im({anid:\"minor_line_\"+l[p][f].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0});fg(m.shape,d.lineWidth),t.add(m)}},splitArea:function(e,t,n,r){mO(e,t,n,r)}},xO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"xAxis\",t}(bO),wO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=xO.type,t}return(0,m.ZT)(t,e),t.type=\"yAxis\",t}(bO),CO=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=\"grid\",t}return(0,m.ZT)(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get(\"show\")&&this.group.add(new wl({shape:e.coordinateSystem.getRect(),style:U({fill:e.get(\"backgroundColor\")},e.getItemStyle()),silent:!0,z2:-1}))},t.type=\"grid\",t}(Ph),TO={offset:0};function AO(e){e.registerComponentView(CO),e.registerComponentModel(OE),e.registerCoordinateSystem(\"cartesian2d\",JE),jE(e,\"x\",ME,TO),jE(e,\"y\",ME,TO),e.registerComponentView(xO),e.registerComponentView(wO),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}function EO(e){e.eachSeriesByType(\"radar\",(function(e){var t=e.getData(),n=[],r=e.coordinateSystem;if(r){var i=r.getIndicatorAxes();Q(i,(function(e,o){t.each(t.mapDimension(i[o].dim),(function(e,t){n[t]=n[t]||[];var i=r.dataToPoint(e,o);n[t][o]=OO(i)?i:MO(r)}))})),t.each((function(e){var i=ee(n[e],(function(e){return OO(e)}))||MO(r);n[e].push(i.slice()),t.setItemLayout(e,n[e])}))}}))}function OO(e){return!isNaN(e[0])&&!isNaN(e[1])}function MO(e){return[e.cx,e.cy]}function PO(e){var t=e.polar;if(t){ie(t)||(t=[t]);var n=[];Q(t,(function(t,r){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),e.radar=e.radar||[],ie(e.radar)||(e.radar=[e.radar]),e.radar.push(t)):n.push(t)})),e.polar=n}Q(e.series,(function(e){e&&\"radar\"===e.type&&e.polarIndex&&(e.radarIndex=e.polarIndex)}))}var DO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.coordinateSystem,i=this.group,o=e.getData(),a=this._data;function s(e,t){var n=e.getItemVisual(t,\"symbol\")||\"circle\";if(\"none\"!==n){var r=qv(e.getItemVisual(t,\"symbolSize\")),i=Kv(n,-1,-1,2,2),o=e.getItemVisual(t,\"symbolRotate\")||0;return i.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:o*Math.PI/180||0}),i}}function c(t,n,r,i,o,a){r.removeAll();for(var c=0;c<n.length-1;c++){var u=s(i,o);u&&(u.__dimIdx=c,t[c]?(u.setPosition(t[c]),l[a?\"initProps\":\"updateProps\"](u,{x:n[c][0],y:n[c][1]},e,o)):u.setPosition(n[c]),r.add(u))}}function u(e){return X(e,(function(e){return[r.cx,r.cy]}))}o.diff(a).add((function(t){var n=o.getItemLayout(t);if(n){var r=new Tm,i=new Om,a={shape:{points:n}};r.shape.points=u(n),i.shape.points=u(n),Vc(r,a,e,t),Vc(i,a,e,t);var s=new uo,l=new uo;s.add(i),s.add(r),s.add(l),c(i.shape.points,n,l,o,t,!0),o.setItemGraphicEl(t,s)}})).update((function(t,n){var r=a.getItemGraphicEl(n),i=r.childAt(0),s=r.childAt(1),l=r.childAt(2),u={shape:{points:o.getItemLayout(t)}};u.shape.points&&(c(i.shape.points,u.shape.points,l,o,t,!1),Wc(s),Wc(i),zc(i,u,e),zc(s,u,e),o.setItemGraphicEl(t,r))})).remove((function(e){i.remove(a.getItemGraphicEl(e))})).execute(),o.eachItemGraphicEl((function(e,t){var n=o.getItemModel(t),r=e.childAt(0),a=e.childAt(1),s=e.childAt(2),l=o.getItemVisual(t,\"style\"),c=l.fill;i.add(e),r.useStyle(U(n.getModel(\"lineStyle\").getLineStyle(),{fill:\"none\",stroke:c})),_c(r,n,\"lineStyle\"),_c(a,n,\"areaStyle\");var u=n.getModel(\"areaStyle\"),d=u.isEmpty()&&u.parentModel.isEmpty();a.ignore=d,Q([\"emphasis\",\"select\",\"blur\"],(function(e){var t=n.getModel([e,\"areaStyle\"]),r=t.isEmpty()&&t.parentModel.isEmpty();a.ensureState(e).ignore=r&&d})),a.useStyle(U(u.getAreaStyle(),{fill:c,opacity:.7,decal:l.decal}));var p=n.getModel(\"emphasis\"),f=p.getModel(\"itemStyle\").getItemStyle();s.eachChild((function(e){if(e instanceof hl){var r=e.style;e.useStyle(H({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},l))}else e.useStyle(l),e.setColor(c),e.style.strokeNoScale=!0;e.ensureState(\"emphasis\").style=F(f);var i=o.getStore().get(o.getDimensionIndex(e.__dimIdx),t);(null==i||isNaN(i))&&(i=\"\"),Xc(e,Jc(n),{labelFetcher:o.hostModel,labelDataIndex:t,labelDimIndex:e.__dimIdx,defaultText:i,inheritColor:c,defaultOpacity:l.opacity})})),Pc(e,p.get(\"focus\"),p.get(\"blurScope\"),p.get(\"disabled\"))})),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type=\"radar\",t}(Zg);const IO=DO;var NO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,m.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new yE(ne(this.getData,this),ne(this.getRawData,this))},t.prototype.getInitialData=function(e,t){return gE(this,{generateCoord:\"indicator_\",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.coordinateSystem.getIndicatorAxes(),o=this.getData().getName(e),a=\"\"===o?this.name:o,s=ph(this,e);return rh(\"section\",{header:a,sortBlocks:!0,blocks:X(i,(function(t){var n=r.get(r.mapDimension(t.dim),e);return rh(\"nameValue\",{markerType:\"subItem\",markerColor:s,name:t.name,value:n,sortParam:n})}))})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var t=this.getData(),n=this.coordinateSystem,r=t.getValues(X(n.dimensions,(function(e){return t.mapDimension(e)})),e),i=0,o=r.length;i<o;i++)if(!isNaN(r[i])){var a=n.getIndicatorAxes();return n.coordToPoint(a[i].dataToCoord(r[i]),i)}},t.type=\"series.radar\",t.dependencies=[\"radar\"],t.defaultOption={z:2,colorBy:\"data\",coordinateSystem:\"radar\",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:\"solid\",join:\"round\"},label:{position:\"top\"},symbolSize:8},t}(Oh);const _O=NO;var jO=NE.value;function kO(e,t){return U({show:t},e)}var LO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.optionUpdated=function(){var e=this.get(\"boundaryGap\"),t=this.get(\"splitNumber\"),n=this.get(\"scale\"),r=this.get(\"axisLine\"),i=this.get(\"axisTick\"),o=this.get(\"axisLabel\"),a=this.get(\"axisName\"),s=this.get([\"axisName\",\"show\"]),l=this.get([\"axisName\",\"formatter\"]),c=this.get(\"axisNameGap\"),u=this.get(\"triggerEvent\"),d=X(this.get(\"indicator\")||[],(function(d){null!=d.max&&d.max>0&&!d.min?d.min=0:null!=d.min&&d.min<0&&!d.max&&(d.max=0);var p=a;null!=d.color&&(p=U({color:d.color},a));var f=z(F(d),{boundaryGap:e,splitNumber:t,scale:n,axisLine:r,axisTick:i,axisLabel:o,name:d.text,showName:s,nameLocation:\"end\",nameGap:c,nameTextStyle:p,triggerEvent:u},!1);if(ae(l)){var h=f.name;f.name=l.replace(\"{value}\",null!=h?h:\"\")}else oe(l)&&(f.name=l(f.name,f));var m=new Cu(f,null,this.ecModel);return K(m,tw.prototype),m.mainType=\"radar\",m.componentIndex=this.componentIndex,m}),this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type=\"radar\",t.defaultOption={z:0,center:[\"50%\",\"50%\"],radius:\"75%\",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:\"polygon\",axisLine:z({lineStyle:{color:\"#bbb\"}},jO.axisLine),axisLabel:kO(jO.axisLabel,!1),axisTick:kO(jO.axisTick,!1),splitLine:kO(jO.splitLine,!0),splitArea:kO(jO.splitArea,!0),indicator:[]},t}(_d);const RO=LO;var ZO=[\"axisLine\",\"axisTickLabel\",\"axisName\"],BO=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var t=e.coordinateSystem;Q(X(t.getIndicatorAxes(),(function(e){var n=e.model.get(\"showName\")?e.name:\"\";return new aO(e.model,{axisName:n,position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(e){Q(ZO,e.add,e),this.group.add(e.getGroup())}),this)},t.prototype._buildSplitLineAndArea=function(e){var t=e.coordinateSystem,n=t.getIndicatorAxes();if(n.length){var r=e.get(\"shape\"),i=e.getModel(\"splitLine\"),o=e.getModel(\"splitArea\"),a=i.getModel(\"lineStyle\"),s=o.getModel(\"areaStyle\"),l=i.get(\"show\"),c=o.get(\"show\"),u=a.get(\"color\"),d=s.get(\"color\"),p=ie(u)?u:[u],f=ie(d)?d:[d],h=[],m=[];if(\"circle\"===r)for(var g=n[0].getTicksCoords(),v=t.cx,y=t.cy,b=0;b<g.length;b++)l&&h[O(h,p,b)].push(new $h({shape:{cx:v,cy:y,r:g[b].coord}})),c&&b<g.length-1&&m[O(m,f,b)].push(new Sm({shape:{cx:v,cy:y,r0:g[b].coord,r:g[b+1].coord}}));else{var S,x=X(n,(function(e,n){var r=e.getTicksCoords();return S=null==S?r.length-1:Math.min(r.length-1,S),X(r,(function(e){return t.coordToPoint(e.coord,n)}))})),w=[];for(b=0;b<=S;b++){for(var C=[],T=0;T<n.length;T++)C.push(x[T][b]);C[0]&&C.push(C[0].slice()),l&&h[O(h,p,b)].push(new Om({shape:{points:C}})),c&&w&&m[O(m,f,b-1)].push(new Tm({shape:{points:C.concat(w)}})),w=C.slice().reverse()}}var A=a.getLineStyle(),E=s.getAreaStyle();Q(m,(function(e,t){this.group.add(dg(e,{style:U({stroke:\"none\",fill:f[t%f.length]},E),silent:!0}))}),this),Q(h,(function(e,t){this.group.add(dg(e,{style:U({fill:\"none\",stroke:p[t%p.length]},A),silent:!0}))}),this)}function O(e,t,n){var r=n%t.length;return e[r]=e[r]||[],r}},t.type=\"radar\",t}(Ph);const FO=BO;var zO=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.type=\"value\",i.angle=0,i.name=\"\",i}return(0,m.ZT)(t,e),t}(Nw);const VO=zO;var HO=function(){function e(e,t,n){this.dimensions=[],this._model=e,this._indicatorAxes=X(e.getIndicatorModels(),(function(e,t){var n=\"indicator_\"+t,r=new VO(n,new ax);return r.name=e.get(\"name\"),r.model=e,e.axis=r,this.dimensions.push(n),r}),this),this.resize(e,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)},e.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t].angle;return[this.cx+e*Math.cos(n),this.cy-e*Math.sin(n)]},e.prototype.pointToData=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var i,o=Math.atan2(-n,t),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(o-c.angle);u<a&&(i=c,s=l,a=u)}return[s,+(i&&i.coordToData(r))]},e.prototype.resize=function(e,t){var n=e.get(\"center\"),r=t.getWidth(),i=t.getHeight(),o=Math.min(r,i)/2;this.cx=Oo(n[0],r),this.cy=Oo(n[1],i),this.startAngle=e.get(\"startAngle\")*Math.PI/180;var a=e.get(\"radius\");(ae(a)||le(a))&&(a=[0,a]),this.r0=Oo(a[0],o),this.r=Oo(a[1],o),Q(this._indicatorAxes,(function(e,t){e.setExtent(this.r0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),e.angle=n}),this)},e.prototype.update=function(e,t){var n=this._indicatorAxes,r=this._model;Q(n,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeriesByType(\"radar\",(function(t,i){if(\"radar\"===t.get(\"coordinateSystem\")&&e.getComponent(\"radar\",t.get(\"radarIndex\"))===r){var o=t.getData();Q(n,(function(e){e.scale.unionExtentFromData(o,o.mapDimension(e.dim))}))}}),this);var i=r.get(\"splitNumber\"),o=new ax;o.setExtent(0,i),o.setInterval(1),Q(n,(function(e,t){WE(e.scale,e.model,o)}))},e.prototype.convertToPixel=function(e,t,n){return console.warn(\"Not implemented.\"),null},e.prototype.convertFromPixel=function(e,t,n){return console.warn(\"Not implemented.\"),null},e.prototype.containPoint=function(e){return console.warn(\"Not implemented.\"),!1},e.create=function(t,n){var r=[];return t.eachComponent(\"radar\",(function(i){var o=new e(i,t,n);r.push(o),i.coordinateSystem=o})),t.eachSeriesByType(\"radar\",(function(e){\"radar\"===e.get(\"coordinateSystem\")&&(e.coordinateSystem=r[e.get(\"radarIndex\")||0])})),r},e.dimensions=[],e}();const UO=HO;function GO(e){e.registerCoordinateSystem(\"radar\",UO),e.registerComponentModel(RO),e.registerComponentView(FO),e.registerVisual({seriesType:\"radar\",reset:function(e){var t=e.getData();t.each((function(e){t.setItemVisual(e,\"legendIcon\",\"roundRect\")})),t.setVisual(\"legendIcon\",\"roundRect\")}})}var YO=\"\\0_ec_interaction_mutex\";function WO(e,t){return!!KO(e)[t]}function KO(e){return e[YO]||(e[YO]={})}Hb({type:\"takeGlobalCursor\",event:\"globalCursorTaken\",update:\"update\"},ke);var qO=function(e){function t(t){var n=e.call(this)||this;n._zr=t;var r=ne(n._mousedownHandler,n),i=ne(n._mousemoveHandler,n),o=ne(n._mouseupHandler,n),a=ne(n._mousewheelHandler,n),s=ne(n._pinchHandler,n);return n.enable=function(e,n){this.disable(),this._opt=U(F(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&\"move\"!==e&&\"pan\"!==e||(t.on(\"mousedown\",r),t.on(\"mousemove\",i),t.on(\"mouseup\",o)),!0!==e&&\"scale\"!==e&&\"zoom\"!==e||(t.on(\"mousewheel\",a),t.on(\"pinch\",s))},n.disable=function(){t.off(\"mousedown\",r),t.off(\"mousemove\",i),t.off(\"mouseup\",o),t.off(\"mousewheel\",a),t.off(\"pinch\",s)},n}return(0,m.ZT)(t,e),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!Nt(e)){for(var t=e.target;t;){if(t.draggable)return;t=t.__hostTarget||t.parent}var n=e.offsetX,r=e.offsetY;this.pointerChecker&&this.pointerChecker(e,n,r)&&(this._x=n,this._y=r,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&JO(\"moveOnMouseMove\",e,this._opt)&&\"pinch\"!==e.gestureEvent&&!WO(this._zr,\"globalPan\")){var t=e.offsetX,n=e.offsetY,r=this._x,i=this._y,o=t-r,a=n-i;this._x=t,this._y=n,this._opt.preventDefaultMouseMove&&It(e.event),XO(this,\"pan\",\"moveOnMouseMove\",e,{dx:o,dy:a,oldX:r,oldY:i,newX:t,newY:n,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){Nt(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var t=JO(\"zoomOnMouseWheel\",e,this._opt),n=JO(\"moveOnMouseWheel\",e,this._opt),r=e.wheelDelta,i=Math.abs(r),o=e.offsetX,a=e.offsetY;if(0!==r&&(t||n)){if(t){var s=i>3?1.4:i>1?1.2:1.1;QO(this,\"zoom\",\"zoomOnMouseWheel\",e,{scale:r>0?s:1/s,originX:o,originY:a,isAvailableBehavior:null})}if(n){var l=Math.abs(r);QO(this,\"scrollMove\",\"moveOnMouseWheel\",e,{scrollDelta:(r>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:o,originY:a,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){WO(this._zr,\"globalPan\")||QO(this,\"zoom\",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}(pt);function QO(e,t,n,r,i){e.pointerChecker&&e.pointerChecker(r,i.originX,i.originY)&&(It(r.event),XO(e,t,n,r,i))}function XO(e,t,n,r,i){i.isAvailableBehavior=ne(JO,null,n,r),e.trigger(t,i)}function JO(e,t,n){var r=n[e];return!e||r&&(!ae(r)||t.event[r+\"Key\"])}const $O=qO;function eM(e,t,n){var r=e.target;r.x+=t,r.y+=n,r.dirty()}function tM(e,t,n,r){var i=e.target,o=e.zoomLimit,a=e.zoom=e.zoom||1;if(a*=t,o){var s=o.min||0,l=o.max||1/0;a=Math.max(Math.min(l,a),s)}var c=a/e.zoom;e.zoom=a,i.x-=(n-i.x)*(c-1),i.y-=(r-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var nM,rM={axisPointer:1,tooltip:1,brush:1};function iM(e,t,n){var r=t.getComponentByElement(e.topTarget),i=r&&r.coordinateSystem;return r&&r!==n&&!rM.hasOwnProperty(r.mainType)&&i&&i.model!==n}function oM(e){ae(e)&&(e=(new DOMParser).parseFromString(e,\"text/xml\"));var t=e;for(9===t.nodeType&&(t=t.firstChild);\"svg\"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var aM={fill:\"fill\",stroke:\"stroke\",\"stroke-width\":\"lineWidth\",opacity:\"opacity\",\"fill-opacity\":\"fillOpacity\",\"stroke-opacity\":\"strokeOpacity\",\"stroke-dasharray\":\"lineDash\",\"stroke-dashoffset\":\"lineDashOffset\",\"stroke-linecap\":\"lineCap\",\"stroke-linejoin\":\"lineJoin\",\"stroke-miterlimit\":\"miterLimit\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"text-anchor\":\"textAlign\",visibility:\"visibility\",display:\"display\"},sM=te(aM),lM={\"alignment-baseline\":\"textBaseline\",\"stop-color\":\"stopColor\"},cM=te(lM),uM=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(e,t){t=t||{};var n=oM(e);this._defsUsePending=[];var r=new uo;this._root=r;var i=[],o=n.getAttribute(\"viewBox\")||\"\",a=parseFloat(n.getAttribute(\"width\")||t.width),s=parseFloat(n.getAttribute(\"height\")||t.height);isNaN(a)&&(a=null),isNaN(s)&&(s=null),gM(n,r,null,!0,!1);for(var l,c,u=n.firstChild;u;)this._parseNode(u,r,i,null,!1,!1),u=u.nextSibling;if(function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[0].style[r[1]]=e[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var d=SM(o);d.length>=4&&(l={x:parseFloat(d[0]||0),y:parseFloat(d[1]||0),width:parseFloat(d[2]),height:parseFloat(d[3])})}if(l&&null!=a&&null!=s&&(c=AM(l,{x:0,y:0,width:a,height:s}),!t.ignoreViewBox)){var p=r;(r=new uo).add(p),p.scaleX=p.scaleY=c.scale,p.x=c.x,p.y=c.y}return t.ignoreRootClip||null==a||null==s||r.setClipPath(new wl({shape:{x:0,y:0,width:a,height:s}})),{root:r,width:a,height:s,viewBoxRect:l,viewBoxTransform:c,named:i}},e.prototype._parseNode=function(e,t,n,r,i,o){var a,s=e.nodeName.toLowerCase(),l=r;if(\"defs\"===s&&(i=!0),\"text\"===s&&(o=!0),\"defs\"===s||\"switch\"===s)a=t;else{if(!i){var c=nM[s];if(c&&je(nM,s)){a=c.call(this,e,t);var u=e.getAttribute(\"name\");if(u){var d={name:u,namedFrom:null,svgNodeTagLower:s,el:a};n.push(d),\"g\"===s&&(l=d)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:a});t.add(a)}}var p=dM[s];if(p&&je(dM,s)){var f=p.call(this,e),h=e.getAttribute(\"id\");h&&(this._defs[h]=f)}}if(a&&a.isGroup)for(var m=e.firstChild;m;)1===m.nodeType?this._parseNode(m,a,n,l,i,o):3===m.nodeType&&o&&this._parseText(m,a),m=m.nextSibling},e.prototype._parseText=function(e,t){var n=new ul({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});hM(t,n),gM(e,n,this._defsUsePending,!1,!1),function(e,t){var n=t.__selfStyle;if(n){var r=n.textBaseline,i=r;r&&\"auto\"!==r?\"baseline\"===r?i=\"alphabetic\":\"before-edge\"===r||\"text-before-edge\"===r?i=\"top\":\"after-edge\"===r||\"text-after-edge\"===r?i=\"bottom\":\"central\"!==r&&\"mathematical\"!==r||(i=\"middle\"):i=\"alphabetic\",e.style.textBaseline=i}var o=t.__inheritedStyle;if(o){var a=o.textAlign,s=a;a&&(\"middle\"===a&&(s=\"center\"),e.style.textAlign=s)}}(n,t);var r=n.style,i=r.fontSize;i&&i<9&&(r.fontSize=9,n.scaleX*=i/9,n.scaleY*=i/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+\"px\",r.fontFamily||\"sans-serif\"].join(\" \");r.font=o;var a=n.getBoundingRect();return this._textX+=a.width,t.add(n),n},e.internalField=void(nM={g:function(e,t){var n=new uo;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n},rect:function(e,t){var n=new wl;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(e.getAttribute(\"x\")||\"0\"),y:parseFloat(e.getAttribute(\"y\")||\"0\"),width:parseFloat(e.getAttribute(\"width\")||\"0\"),height:parseFloat(e.getAttribute(\"height\")||\"0\")}),n.silent=!0,n},circle:function(e,t){var n=new $h;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute(\"cx\")||\"0\"),cy:parseFloat(e.getAttribute(\"cy\")||\"0\"),r:parseFloat(e.getAttribute(\"r\")||\"0\")}),n.silent=!0,n},line:function(e,t){var n=new Im;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(e.getAttribute(\"x1\")||\"0\"),y1:parseFloat(e.getAttribute(\"y1\")||\"0\"),x2:parseFloat(e.getAttribute(\"x2\")||\"0\"),y2:parseFloat(e.getAttribute(\"y2\")||\"0\")}),n.silent=!0,n},ellipse:function(e,t){var n=new nm;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(e.getAttribute(\"cx\")||\"0\"),cy:parseFloat(e.getAttribute(\"cy\")||\"0\"),rx:parseFloat(e.getAttribute(\"rx\")||\"0\"),ry:parseFloat(e.getAttribute(\"ry\")||\"0\")}),n.silent=!0,n},polygon:function(e,t){var n,r=e.getAttribute(\"points\");r&&(n=mM(r));var i=new Tm({shape:{points:n||[]},silent:!0});return hM(t,i),gM(e,i,this._defsUsePending,!1,!1),i},polyline:function(e,t){var n,r=e.getAttribute(\"points\");r&&(n=mM(r));var i=new Om({shape:{points:n||[]},silent:!0});return hM(t,i),gM(e,i,this._defsUsePending,!1,!1),i},image:function(e,t){var n=new hl;return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.setStyle({image:e.getAttribute(\"xlink:href\")||e.getAttribute(\"href\"),x:+e.getAttribute(\"x\"),y:+e.getAttribute(\"y\"),width:+e.getAttribute(\"width\"),height:+e.getAttribute(\"height\")}),n.silent=!0,n},text:function(e,t){var n=e.getAttribute(\"x\")||\"0\",r=e.getAttribute(\"y\")||\"0\",i=e.getAttribute(\"dx\")||\"0\",o=e.getAttribute(\"dy\")||\"0\";this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(r)+parseFloat(o);var a=new uo;return hM(t,a),gM(e,a,this._defsUsePending,!1,!0),a},tspan:function(e,t){var n=e.getAttribute(\"x\"),r=e.getAttribute(\"y\");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var i=e.getAttribute(\"dx\")||\"0\",o=e.getAttribute(\"dy\")||\"0\",a=new uo;return hM(t,a),gM(e,a,this._defsUsePending,!1,!0),this._textX+=parseFloat(i),this._textY+=parseFloat(o),a},path:function(e,t){var n=qh(e.getAttribute(\"d\")||\"\");return hM(t,n),gM(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}),e}(),dM={lineargradient:function(e){var t=parseInt(e.getAttribute(\"x1\")||\"0\",10),n=parseInt(e.getAttribute(\"y1\")||\"0\",10),r=parseInt(e.getAttribute(\"x2\")||\"10\",10),i=parseInt(e.getAttribute(\"y2\")||\"0\",10),o=new Hm(t,n,r,i);return pM(e,o),fM(e,o),o},radialgradient:function(e){var t=parseInt(e.getAttribute(\"cx\")||\"0\",10),n=parseInt(e.getAttribute(\"cy\")||\"0\",10),r=parseInt(e.getAttribute(\"r\")||\"0\",10),i=new Um(t,n,r);return pM(e,i),fM(e,i),i}};function pM(e,t){\"userSpaceOnUse\"===e.getAttribute(\"gradientUnits\")&&(t.global=!0)}function fM(e,t){for(var n=e.firstChild;n;){if(1===n.nodeType&&\"stop\"===n.nodeName.toLocaleLowerCase()){var r,i=n.getAttribute(\"offset\");r=i&&i.indexOf(\"%\")>0?parseInt(i,10)/100:i?parseFloat(i):0;var o={};TM(n,o,o);var a=o.stopColor||n.getAttribute(\"stop-color\")||\"#000000\";t.colorStops.push({offset:r,color:a})}n=n.nextSibling}}function hM(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),U(t.__inheritedStyle,e.__inheritedStyle))}function mM(e){for(var t=SM(e),n=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),o=parseFloat(t[r+1]);n.push([i,o])}return n}function gM(e,t,n,r,i){var o=t,a=o.__inheritedStyle=o.__inheritedStyle||{},s={};1===e.nodeType&&(function(e,t){var n=e.getAttribute(\"transform\");if(n){n=n.replace(/,/g,\" \");var r=[],i=null;n.replace(xM,(function(e,t,n){return r.push(t,n),\"\"}));for(var o=r.length-1;o>0;o-=2){var a=r[o],s=r[o-1],l=SM(a);switch(i=i||[1,0,0,1,0,0],s){case\"translate\":Ft(i,i,[parseFloat(l[0]),parseFloat(l[1]||\"0\")]);break;case\"scale\":Vt(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case\"rotate\":zt(i,i,-parseFloat(l[0])*wM,[parseFloat(l[1]||\"0\"),parseFloat(l[2]||\"0\")]);break;case\"skewX\":Bt(i,[1,0,Math.tan(parseFloat(l[0])*wM),1,0,0],i);break;case\"skewY\":Bt(i,[1,Math.tan(parseFloat(l[0])*wM),0,1,0,0],i);break;case\"matrix\":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5])}}t.setLocalTransform(i)}}(e,t),TM(e,a,s),r||function(e,t,n){for(var r=0;r<sM.length;r++){var i=sM[r];null!=(o=e.getAttribute(i))&&(t[aM[i]]=o)}for(r=0;r<cM.length;r++){var o;i=cM[r],null!=(o=e.getAttribute(i))&&(n[lM[i]]=o)}}(e,a,s)),o.style=o.style||{},null!=a.fill&&(o.style.fill=yM(o,\"fill\",a.fill,n)),null!=a.stroke&&(o.style.stroke=yM(o,\"stroke\",a.stroke,n)),Q([\"lineWidth\",\"opacity\",\"fillOpacity\",\"strokeOpacity\",\"miterLimit\",\"fontSize\"],(function(e){null!=a[e]&&(o.style[e]=parseFloat(a[e]))})),Q([\"lineDashOffset\",\"lineCap\",\"lineJoin\",\"fontWeight\",\"fontFamily\",\"fontStyle\",\"textAlign\"],(function(e){null!=a[e]&&(o.style[e]=a[e])})),i&&(o.__selfStyle=s),a.lineDash&&(o.style.lineDash=X(SM(a.lineDash),(function(e){return parseFloat(e)}))),\"hidden\"!==a.visibility&&\"collapse\"!==a.visibility||(o.invisible=!0),\"none\"===a.display&&(o.ignore=!0)}var vM=/^url\\(\\s*#(.*?)\\)/;function yM(e,t,n,r){var i=n&&n.match(vM);if(!i)return\"none\"===n&&(n=null),n;var o=Ce(i[1]);r.push([e,t,o])}var bM=/-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g;function SM(e){return e.match(bM)||[]}var xM=/(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.eE,]*)\\)/g,wM=Math.PI/180,CM=/([^\\s:;]+)\\s*:\\s*([^:;]+)/g;function TM(e,t,n){var r,i=e.getAttribute(\"style\");if(i)for(CM.lastIndex=0;null!=(r=CM.exec(i));){var o=r[1],a=je(aM,o)?aM[o]:null;a&&(t[a]=r[2]);var s=je(lM,o)?lM[o]:null;s&&(n[s]=r[2])}}function AM(e,t){var n=t.width/e.width,r=t.height/e.height,i=Math.min(n,r);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}for(var EM=De([\"rect\",\"circle\",\"line\",\"ellipse\",\"polygon\",\"polyline\",\"path\",\"text\",\"tspan\",\"g\"]),OM=function(){function e(e,t){this.type=\"geoSVG\",this._usedGraphicMap=De(),this._freedGraphics=[],this._mapName=e,this._parsedXML=oM(t)}return e.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function(e){var t=[],n=De();return Q(e,(function(e){if(null==e.namedFrom){var r=new gw(e.name,e.el);t.push(r),n.set(e.name,r)}})),{regions:t,regionsMap:n}}(e.named),n=t.regions,r=t.regionsMap;this._regions=n,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(e){var t,n,r,i;try{we(null!=(n=(t=e&&(r=e,i={ignoreViewBox:!0,ignoreRootClip:!0},(new uM).parse(r,i))||{}).root))}catch(e){throw new Error(\"Invalid svg format\\n\"+e.message)}var o=new uo;o.add(n),o.isGeoSVGGraphicRoot=!0;var a=t.width,s=t.height,l=t.viewBoxRect,c=this._boundingRect;if(!c){var u=void 0,d=void 0,p=void 0,f=void 0;if(null!=a?(u=0,p=a):l&&(u=l.x,p=l.width),null!=s?(d=0,f=s):l&&(d=l.y,f=l.height),null==u||null==d){var h=n.getBoundingRect();null==u&&(u=h.x,p=h.width),null==d&&(d=h.y,f=h.height)}c=this._boundingRect=new nn(u,d,p,f)}if(l){var m=AM(l,c);n.scaleX=n.scaleY=m.scale,n.x=m.x,n.y=m.y}o.setClipPath(new wl({shape:c.plain()}));var g=[];return Q(t.named,(function(e){var t;null!=EM.get(e.svgNodeTagLower)&&(g.push(e),(t=e.el).silent=!1,t.isGroup&&t.traverse((function(e){e.silent=!1})))})),{root:o,boundingRect:c,named:g}},e.prototype.useGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(e,n),n)},e.prototype.freeGraphic=function(e){var t=this._usedGraphicMap,n=t.get(e);n&&(t.removeKey(e),this._freedGraphics.push(n))},e}(),MM=[126,25],PM=\"\",DM=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],IM=0;IM<DM.length;IM++)for(var NM=0;NM<DM[IM].length;NM++)DM[IM][NM][0]/=10.5,DM[IM][NM][1]/=-14,DM[IM][NM][0]+=MM[0],DM[IM][NM][1]+=MM[1];var _M={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]},jM=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],kM=function(){function e(e,t,n){var r;this.type=\"geoJSON\",this._parsedMap=De(),this._mapName=e,this._specialAreas=n,this._geoJSON=ae(r=t)?\"undefined\"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function(\"return (\"+r+\");\")():r}return e.prototype.load=function(e,t){t=t||\"name\";var n=this._parsedMap.get(t);if(!n){var r=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:r,boundingRect:LM(r)})}var i=De(),o=[];return Q(n.regions,(function(t){var n=t.name;e&&je(e,n)&&(t=t.cloneShallow(n=e[n])),o.push(t),i.set(n,t)})),{regions:o,boundingRect:n.boundingRect||new nn(0,0,0,0),regionsMap:i}},e.prototype._parseToRegions=function(e){var t,n=this._mapName,r=this._geoJSON;try{t=r?bw(r,e):[]}catch(e){throw new Error(\"Invalid geoJson format\\n\"+e.message)}return function(e,t){if(\"china\"===e){for(var n=0;n<t.length;n++)if(t[n].name===PM)return;t.push(new mw(PM,X(DM,(function(e){return{type:\"polygon\",exterior:e}})),MM))}}(n,t),Q(t,(function(e){var t=e.name;!function(e,t){if(\"china\"===e){var n=_M[t.name];if(n){var r=t.getCenter();r[0]+=n[0]/10.5,r[1]+=-n[1]/14,t.setCenter(r)}}}(n,e),function(e,t){\"china\"===e&&\"\"===t.name&&t.geometries.push({type:\"polygon\",exterior:jM[0]})}(n,e);var r=this._specialAreas&&this._specialAreas[t];r&&e.transformTo(r.left,r.top,r.width,r.height)}),this),t},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function LM(e){for(var t,n=0;n<e.length;n++){var r=e[n].getBoundingRect();(t=t||r.clone()).union(r)}return t}var RM=De();const ZM=function(e){return RM.get(e)},BM=function(e,t,n){var r=RM.get(e);if(r)return r.load(t,n)};var FM=[\"rect\",\"circle\",\"line\",\"ellipse\",\"polygon\",\"polyline\",\"path\"],zM=De(FM),VM=De(FM.concat([\"g\"])),HM=De(FM.concat([\"g\"])),UM=pa();function GM(e){var t=e.getItemStyle(),n=e.get(\"areaColor\");return null!=n&&(t.fill=n),t}function YM(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var WM=function(){function e(e){var t=new uo;this.uid=Au(\"ec_map_draw\"),this._controller=new $O(e.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new uo),t.add(this._svgGroup=new uo)}return e.prototype.draw=function(e,t,n,r,i){var o=\"geo\"===e.mainType,a=e.getData&&e.getData();o&&t.eachComponent({mainType:\"series\",subType:\"map\"},(function(t){a||t.getHostGeoModel()!==e||(a=t.getData())}));var s=e.coordinateSystem,l=this._regionsGroup,c=this.group,u=s.getTransformInfo(),d=u.raw,p=u.roam;!l.childAt(0)||i?(c.x=p.x,c.y=p.y,c.scaleX=p.scaleX,c.scaleY=p.scaleY,c.dirty()):zc(c,p,e);var f=a&&a.getVisual(\"visualMeta\")&&a.getVisual(\"visualMeta\").length>0,h={api:n,geo:s,mapOrGeoModel:e,data:a,isVisualEncodedByVisualMap:f,isGeo:o,transformInfoRaw:d};\"geoJSON\"===s.resourceType?this._buildGeoJSON(h):\"geoSVG\"===s.resourceType&&this._buildSVG(h),this._updateController(e,t,n),this._updateMapSelectHandler(e,l,n,r)},e.prototype._buildGeoJSON=function(e){var t=this._regionsGroupByName=De(),n=De(),r=this._regionsGroup,i=e.transformInfoRaw,o=e.mapOrGeoModel,a=e.data,s=e.geo.projection,l=s&&s.stream;function c(e,t){return t&&(e=t(e)),e&&[e[0]*i.scaleX+i.x,e[1]*i.scaleY+i.y]}function u(e){for(var t=[],n=!l&&s&&s.project,r=0;r<e.length;++r){var i=c(e[r],n);i&&t.push(i)}return t}function d(e){return{shape:{points:u(e)}}}r.removeAll(),Q(e.geo.regions,(function(i){var u=i.name,p=t.get(u),f=n.get(u)||{},h=f.dataIdx,m=f.regionModel;p||(p=t.set(u,new uo),r.add(p),h=a?a.indexOfName(u):null,m=e.isGeo?o.getRegionModel(u):a?a.getItemModel(h):null,n.set(u,{dataIdx:h,regionModel:m}));var g=[],v=[];Q(i.geometries,(function(e){if(\"polygon\"===e.type){var t=[e.exterior].concat(e.interiors||[]);l&&(t=$M(t,l)),Q(t,(function(e){g.push(new Tm(d(e)))}))}else{var n=e.points;l&&(n=$M(n,l,!0)),Q(n,(function(e){v.push(new Om(d(e)))}))}}));var y=c(i.getCenter(),s&&s.project);function b(t,n){if(t.length){var r=new zm({culling:!0,segmentIgnoreThreshold:1,shape:{paths:t}});p.add(r),KM(e,r,h,m),qM(e,r,u,m,o,h,y),n&&(YM(r),Q(r.states,YM))}}b(g),b(v,!0)})),t.each((function(t,r){var i=n.get(r),a=i.dataIdx,s=i.regionModel;QM(e,t,r,s,o,a),XM(e,t,r,s,o),JM(e,t,r,s,o)}),this)},e.prototype._buildSVG=function(e){var t=e.geo.map,n=e.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=De(),i=!1;Q(this._svgGraphicRecord.named,(function(t){var n=t.name,o=e.mapOrGeoModel,a=e.data,s=t.svgNodeTagLower,l=t.el,c=a?a.indexOfName(n):null,u=o.getRegionModel(n);null!=zM.get(s)&&l instanceof os&&KM(e,l,c,u),l instanceof os&&(l.culling=!0),l.z2EmphasisLift=0,t.namedFrom||(null!=HM.get(s)&&qM(e,l,n,u,o,c,null),QM(e,l,n,u,o,c),XM(e,l,n,u,o),null!=VM.get(s)&&(\"self\"===JM(e,l,n,u,o)&&(i=!0),(r.get(n)||r.set(n,[])).push(l)))}),this),this._enableBlurEntireSVG(i,e)},e.prototype._enableBlurEntireSVG=function(e,t){if(e&&t.isGeo){var n=t.mapOrGeoModel.getModel([\"blur\",\"itemStyle\"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse((function(e){if(!e.isGroup){pc(e);var t=e.ensureState(\"blur\").style||{};null==t.opacity&&null!=n&&(t.opacity=n),e.ensureState(\"emphasis\")}}))}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(e,t){if(null==e)return[];var n=t.coordinateSystem;if(\"geoJSON\"===n.resourceType){var r=this._regionsGroupByName;if(r){var i=r.get(e);return i?[i]:[]}}else if(\"geoSVG\"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},e.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},e.prototype._useSVG=function(e){var t=ZM(e);if(t&&\"geoSVG\"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=e}},e.prototype._freeSVG=function(){var e=this._svgMapName;if(null!=e){var t=ZM(e);t&&\"geoSVG\"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(e,t,n){var r=e.coordinateSystem,i=this._controller,o=this._controllerHost;o.zoomLimit=e.get(\"scaleLimit\"),o.zoom=r.getZoom(),i.enable(e.get(\"roam\")||!1);var a=e.mainType;function s(){var t={type:\"geoRoam\",componentType:a};return t[a+\"Id\"]=e.id,t}i.off(\"pan\").on(\"pan\",(function(e){this._mouseDownFlag=!1,eM(o,e.dx,e.dy),n.dispatchAction(H(s(),{dx:e.dx,dy:e.dy,animation:{duration:0}}))}),this),i.off(\"zoom\").on(\"zoom\",(function(e){this._mouseDownFlag=!1,tM(o,e.scale,e.originX,e.originY),n.dispatchAction(H(s(),{totalZoom:o.zoom,zoom:e.scale,originX:e.originX,originY:e.originY,animation:{duration:0}}))}),this),i.setPointerChecker((function(t,i,o){return r.containPoint([i,o])&&!iM(t,n,e)}))},e.prototype.resetForLabelLayout=function(){this.group.traverse((function(e){var t=e.getTextContent();t&&(t.ignore=UM(t).ignore)}))},e.prototype._updateMapSelectHandler=function(e,t,n,r){var i=this;t.off(\"mousedown\"),t.off(\"click\"),e.get(\"selectedMode\")&&(t.on(\"mousedown\",(function(){i._mouseDownFlag=!0})),t.on(\"click\",(function(e){i._mouseDownFlag&&(i._mouseDownFlag=!1)})))},e}();function KM(e,t,n,r){var i=r.getModel(\"itemStyle\"),o=r.getModel([\"emphasis\",\"itemStyle\"]),a=r.getModel([\"blur\",\"itemStyle\"]),s=r.getModel([\"select\",\"itemStyle\"]),l=GM(i),c=GM(o),u=GM(s),d=GM(a),p=e.data;if(p){var f=p.getItemVisual(n,\"style\"),h=p.getItemVisual(n,\"decal\");e.isVisualEncodedByVisualMap&&f.fill&&(l.fill=f.fill),h&&(l.decal=Ay(h,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState(\"emphasis\").style=c,t.ensureState(\"select\").style=u,t.ensureState(\"blur\").style=d,pc(t)}function qM(e,t,n,r,i,o,a){var s=e.data,l=e.isGeo,c=s&&isNaN(s.get(s.mapDimension(\"value\"),o)),u=s&&s.getItemLayout(o);if(l||c||u&&u.showLabel){var d=l?n:o,p=void 0;(!s||o>=0)&&(p=i);var f=a?{normal:{align:\"center\",verticalAlign:\"middle\"}}:null;Xc(t,Jc(r),{labelFetcher:p,labelDataIndex:d,defaultText:n},f);var h=t.getTextContent();if(h&&(UM(h).ignore=h.ignore,t.textConfig&&a)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(a[0]-m.x)/m.width*100+\"%\",(a[1]-m.y)/m.height*100+\"%\"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function QM(e,t,n,r,i,o){e.data?e.data.setItemGraphicEl(o,t):Bl(t).eventData={componentType:\"geo\",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:n,region:r&&r.option||{}}}function XM(e,t,n,r,i){e.data||Og({el:t,componentModel:i,itemName:n,itemTooltipOption:r.get(\"tooltip\")})}function JM(e,t,n,r,i){t.highDownSilentOnTouch=!!i.get(\"selectedMode\");var o=r.getModel(\"emphasis\"),a=o.get(\"focus\");return Pc(t,a,o.get(\"blurScope\"),o.get(\"disabled\")),e.isGeo&&function(e,t,n){var r=Bl(e);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=n}(t,i,n),a}function $M(e,t,n){var r,i=[];function o(){r=[]}function a(){r.length&&(i.push(r),r=[])}var s=t({polygonStart:o,polygonEnd:a,lineStart:o,lineEnd:a,point:function(e,t){isFinite(e)&&isFinite(t)&&r.push([e,t])},sphere:function(){}});return!n&&s.polygonStart(),Q(e,(function(e){s.lineStart();for(var t=0;t<e.length;t++)s.point(e[t][0],e[t][1]);s.lineEnd()})),!n&&s.polygonEnd(),i}const eP=WM;var tP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){if(!r||\"mapToggleSelect\"!==r.type||r.from!==this.uid){var i=this.group;if(i.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&r&&\"geoRoam\"===r.type&&this._mapDraw.resetForLabelLayout(),r&&\"geoRoam\"===r.type&&\"series\"===r.componentType&&r.seriesId===e.id)(o=this._mapDraw)&&i.add(o.group);else if(e.needsDrawMap){var o=this._mapDraw||new eP(n);i.add(o.group),o.draw(e,t,n,this,r),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get(\"showLegendSymbol\")&&t.getComponent(\"legend\")&&this._renderSymbols(e,t,n)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,t,n){var r=e.originalData,i=this.group;r.each(r.mapDimension(\"value\"),(function(t,n){if(!isNaN(t)){var o=r.getItemLayout(n);if(o&&o.point){var a=o.point,s=o.offset,l=new $h({style:{fill:e.getData().getVisual(\"style\").fill},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:8+(s?0:Wl+1)});if(!s){var c=e.mainSeries.getData(),u=r.getName(n),d=c.indexOfName(u),p=r.getItemModel(n),f=p.getModel(\"label\"),h=c.getItemGraphicEl(d);Xc(l,Jc(p),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(d,n)}},defaultText:u}),l.disableLabelAnimation=!0,f.get(\"position\")||l.setTextConfig({position:\"bottom\"}),h.onHoverStateChange=function(e){uc(l,e)}}i.add(l)}}}))},t.type=\"map\",t}(Zg);const nP=tP;var rP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.needsDrawMap=!1,n.seriesGroup=[],n.getTooltipPosition=function(e){if(null!=e){var t=this.getData().getName(e),n=this.coordinateSystem,r=n.getRegion(t);return r&&n.dataToPoint(r.getCenter())}},n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e){for(var t=gE(this,{coordDimensions:[\"value\"],encodeDefaulter:re(qd,this)}),n=De(),r=[],i=0,o=t.count();i<o;i++){var a=t.getName(i);n.set(a,!0)}return Q(BM(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(e){var t=e.name;n.get(t)||r.push(t)})),t.appendValues([],r),t},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent(\"geo\",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var t=this.getData();return t.get(t.mapDimension(\"value\"),e)},t.prototype.getRegionModel=function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData(),i=this.getRawValue(e),o=r.getName(e),a=this.seriesGroup,s=[],l=0;l<a.length;l++){var c=a[l].originalData.indexOfName(o),u=r.mapDimension(\"value\");isNaN(a[l].originalData.get(u,c))||s.push(a[l].name)}return rh(\"section\",{header:s.join(\", \"),noHeader:!s.length,blocks:[rh(\"nameValue\",{name:o,value:i})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var t=e.icon||\"roundRect\",n=Kv(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return n.setStyle(e.itemStyle),n.style.stroke=\"none\",t.indexOf(\"empty\")>-1&&(n.style.stroke=n.style.fill,n.style.fill=\"#fff\",n.style.lineWidth=2),n},t.type=\"series.map\",t.dependencies=[\"geo\"],t.layoutMode=\"box\",t.defaultOption={z:2,coordinateSystem:\"geo\",map:\"\",left:\"center\",top:\"center\",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\",areaColor:\"#eee\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{areaColor:\"rgba(255,215,0,0.8)\"}},select:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},nameProperty:\"name\"},t}(Oh);const iP=rP;function oP(e){var t={};e.eachSeriesByType(\"map\",(function(e){var n=e.getHostGeoModel(),r=n?\"o\"+n.id:\"i\"+e.getMapType();(t[r]=t[r]||[]).push(e)})),Q(t,(function(e,t){for(var n,r,i,o=(n=X(e,(function(e){return e.getData()})),r=e[0].get(\"mapValueCalculation\"),i={},Q(n,(function(e){e.each(e.mapDimension(\"value\"),(function(t,n){var r=\"ec-\"+e.getName(n);i[r]=i[r]||[],isNaN(t)||i[r].push(t)}))})),n[0].map(n[0].mapDimension(\"value\"),(function(e,t){for(var o=\"ec-\"+n[0].getName(t),a=0,s=1/0,l=-1/0,c=i[o].length,u=0;u<c;u++)s=Math.min(s,i[o][u]),l=Math.max(l,i[o][u]),a+=i[o][u];return 0===c?NaN:\"min\"===r?s:\"max\"===r?l:\"average\"===r?a/c:a}))),a=0;a<e.length;a++)e[a].originalData=e[a].getData();for(a=0;a<e.length;a++)e[a].seriesGroup=e,e[a].needsDrawMap=0===a&&!e[a].getHostGeoModel(),e[a].setData(o.cloneShallow()),e[a].mainSeries=e[0]}))}function aP(e){var t={};e.eachSeriesByType(\"map\",(function(n){var r=n.getMapType();if(!n.getHostGeoModel()&&!t[r]){var i={};Q(n.seriesGroup,(function(t){var n=t.coordinateSystem,r=t.originalData;t.get(\"showLegendSymbol\")&&e.getComponent(\"legend\")&&r.each(r.mapDimension(\"value\"),(function(e,t){var o=r.getName(t),a=n.getRegion(o);if(a&&!isNaN(e)){var s=i[o]||0,l=n.dataToPoint(a.getCenter());i[o]=s+1,r.setItemLayout(t,{point:l,offset:s})}}))}));var o=n.getData();o.each((function(e){var t=o.getName(e),n=o.getItemLayout(e)||{};n.showLabel=!i[t],o.setItemLayout(e,n)})),t[r]=!0}}))}var sP=ot,lP=function(e){function t(t){var n=e.call(this)||this;return n.type=\"view\",n.dimensions=[\"x\",\"y\"],n._roamTransformable=new Vi,n._rawTransformable=new Vi,n.name=t,n}return(0,m.ZT)(t,e),t.prototype.setBoundingRect=function(e,t,n,r){return this._rect=new nn(e,t,n,r),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,t,n,r){this._transformTo(e,t,n,r),this._viewRect=new nn(e,t,n,r)},t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),o=this._rawTransformable;o.transform=i.calculateTransform(new nn(e,t,n,r));var a=o.parent;o.parent=null,o.decomposeTransform(),o.parent=a,this._updateTransform()},t.prototype.setCenter=function(e,t){e&&(this._center=[Oo(e[0],t.getWidth()),Oo(e[1],t.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var t=this.zoomLimit;t&&(null!=t.max&&(e=Math.min(t.max,e)),null!=t.min&&(e=Math.max(t.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),t=this._roamTransformable,n=this.getDefaultCenter(),r=this.getCenter(),i=this.getZoom();r=ot([],r,e),n=ot([],n,e),t.originX=r[0],t.originY=r[1],t.x=n[0]-r[0],t.y=n[1]-r[1],t.scaleX=t.scaleY=i,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,t=this._rawTransformable;t.parent=e,e.updateTransform(),t.updateTransform(),Zt(this.transform||(this.transform=[]),t.transform||[1,0,0,1,0,0]),this._rawTransform=t.getLocalTransform(),this.invTransform=this.invTransform||[],Ht(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,t=this._roamTransformable,n=new Vi;return n.transform=t.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,t,n){var r=t?this._rawTransform:this.transform;return n=n||[],r?sP(n,e,r):Ze(n,e)},t.prototype.pointToData=function(e){var t=this.invTransform;return t?sP([],e,t):[e[0],e[1]]},t.prototype.convertToPixel=function(e,t,n){var r=cP(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=cP(t);return r===this?r.pointToData(n):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=[\"x\",\"y\"],t}(Vi);function cP(e){var t=e.seriesModel;return t?t.coordinateSystem:null}const uP=lP;var dP={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},pP=[\"lng\",\"lat\"],fP=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.dimensions=pP,i.type=\"geo\",i._nameCoordMap=De(),i.map=n;var o,a=r.projection,s=BM(n,r.nameMap,r.nameProperty),l=ZM(n),c=(i.resourceType=l?l.type:null,i.regions=s.regions),u=dP[l.type];if(i._regionsMap=s.regionsMap,i.regions=s.regions,i.projection=a,a)for(var d=0;d<c.length;d++){var p=c[d].getBoundingRect(a);(o=o||p.clone()).union(p)}else o=s.boundingRect;return i.setBoundingRect(o.x,o.y,o.width,o.height),i.aspectScale=a?1:ye(r.aspectScale,u.aspectScale),i._invertLongitute=!a&&u.invertLongitute,i}return(0,m.ZT)(t,e),t.prototype._transformTo=function(e,t,n,r){var i=this.getBoundingRect(),o=this._invertLongitute;i=i.clone(),o&&(i.y=-i.y-i.height);var a=this._rawTransformable;a.transform=i.calculateTransform(new nn(e,t,n,r));var s=a.parent;a.parent=null,a.decomposeTransform(),a.parent=s,o&&(a.scaleY=-a.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var t=this.regions,n=0;n<t.length;n++){var r=t[n];if(\"geoJSON\"===r.type&&r.contain(e))return t[n]}},t.prototype.addGeoCoord=function(e,t){this._nameCoordMap.set(e,t)},t.prototype.getGeoCoord=function(e){var t=this._regionsMap.get(e);return this._nameCoordMap.get(e)||t&&t.getCenter()},t.prototype.dataToPoint=function(e,t,n){if(ae(e)&&(e=this.getGeoCoord(e)),e){var r=this.projection;return r&&(e=r.project(e)),e&&this.projectedToPoint(e,t,n)}},t.prototype.pointToData=function(e){var t=this.projection;return t&&(e=t.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},t.prototype.projectedToPoint=function(t,n,r){return e.prototype.dataToPoint.call(this,t,n,r)},t.prototype.convertToPixel=function(e,t,n){var r=hP(t);return r===this?r.dataToPoint(n):null},t.prototype.convertFromPixel=function(e,t,n){var r=hP(t);return r===this?r.pointToData(n):null},t}(uP);function hP(e){var t=e.geoModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents(\"geo\",ga).models[0]||{}).coordinateSystem:null}K(fP,uP);const mP=fP;function gP(e,t){var n=e.get(\"boundingCoords\");if(null!=n){var r=n[0],i=n[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var a=r[0],s=r[1],l=i[0],c=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var u=function(e,t,n,a){for(var s=n-e,l=a-t,c=0;c<=100;c++){var u=c/100,d=o.project([e+s*u,t+l*u]);at(r,r,d),st(i,i,d)}};u(a,s,l,s),u(l,s,l,c),u(l,c,a,c),u(a,c,l,s)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var d,p,f,h=this.getBoundingRect(),m=e.get(\"layoutCenter\"),g=e.get(\"layoutSize\"),v=t.getWidth(),y=t.getHeight(),b=h.width/h.height*this.aspectScale,S=!1;if(m&&g&&(d=[Oo(m[0],v),Oo(m[1],y)],p=Oo(g,Math.min(v,y)),isNaN(d[0])||isNaN(d[1])||isNaN(p)||(S=!0)),S)f={},b>1?(f.width=p,f.height=p/b):(f.height=p,f.width=p*b),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2;else{var x=e.getBoxLayoutParams();x.aspect=b,f=Ad(x,{width:v,height:y})}this.setViewRect(f.x,f.y,f.width,f.height),this.setCenter(e.get(\"center\"),t),this.setZoom(e.get(\"zoom\"))}var vP=function(){function e(){this.dimensions=pP}return e.prototype.create=function(e,t){var n=[];function r(e){return{nameProperty:e.get(\"nameProperty\"),aspectScale:e.get(\"aspectScale\"),projection:e.get(\"projection\")}}e.eachComponent(\"geo\",(function(e,i){var o=e.get(\"map\"),a=new mP(o+i,o,H({nameMap:e.get(\"nameMap\")},r(e)));a.zoomLimit=e.get(\"scaleLimit\"),n.push(a),e.coordinateSystem=a,a.model=e,a.resize=gP,a.resize(e,t)})),e.eachSeries((function(e){if(\"geo\"===e.get(\"coordinateSystem\")){var t=e.get(\"geoIndex\")||0;e.coordinateSystem=n[t]}}));var i={};return e.eachSeriesByType(\"map\",(function(e){if(!e.getHostGeoModel()){var t=e.getMapType();i[t]=i[t]||[],i[t].push(e)}})),Q(i,(function(e,i){var o=X(e,(function(e){return e.get(\"nameMap\")})),a=new mP(i,i,H({nameMap:V(o)},r(e[0])));a.zoomLimit=ve.apply(null,X(e,(function(e){return e.get(\"scaleLimit\")}))),n.push(a),a.resize=gP,a.resize(e[0],t),Q(e,(function(e){e.coordinateSystem=a,function(e,t){Q(t.get(\"geoCoord\"),(function(t,n){e.addGeoCoord(n,t)}))}(a,e)}))})),n},e.prototype.getFilledRegions=function(e,t,n,r){for(var i=(e||[]).slice(),o=De(),a=0;a<i.length;a++)o.set(i[a].name,i[a]);return Q(BM(t,n,r).regions,(function(e){var t=e.name;!o.get(t)&&i.push({name:t})})),i},e}();const yP=new vP;var bP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(e,t,n){var r=ZM(e.map);if(r&&\"geoJSON\"===r.type){var i=e.itemStyle=e.itemStyle||{};\"color\"in i||(i.color=\"#eee\")}this.mergeDefaultAndTheme(e,n),ta(e,\"label\",[\"show\"])},t.prototype.optionUpdated=function(){var e=this,t=this.option;t.regions=yP.getFilledRegions(t.regions,t.map,t.nameMap,t.nameProperty);var n={};this._optionModelMap=J(t.regions||[],(function(t,r){var i=r.name;return i&&(t.set(i,new Cu(r,e,e.ecModel)),r.selected&&(n[i]=!0)),t}),De()),t.selectedMap||(t.selectedMap=n)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Cu(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,t){var n=this.getRegionModel(e),r=\"normal\"===t?n.get([\"label\",\"formatter\"]):n.get([\"emphasis\",\"label\",\"formatter\"]),i={name:e};return oe(r)?(i.status=t,r(i)):ae(r)?r.replace(\"{a}\",null!=e?e:\"\"):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var t=this.option,n=t.selectedMode;n&&(\"multiple\"!==n&&(t.selectedMap=null),(t.selectedMap||(t.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var t=this.option.selectedMap;t&&(t[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?\"unSelect\":\"select\"](e)},t.prototype.isSelected=function(e){var t=this.option.selectedMap;return!(!t||!t[e])},t.type=\"geo\",t.layoutMode=\"box\",t.defaultOption={z:0,show:!0,left:\"center\",top:\"center\",aspectScale:null,silent:!1,map:\"\",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:\"#000\"},itemStyle:{borderWidth:.5,borderColor:\"#444\"},emphasis:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},select:{label:{show:!0,color:\"rgb(100,0,0)\"},itemStyle:{color:\"rgba(255,215,0,0.8)\"}},regions:[]},t}(_d);const SP=bP;function xP(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function wP(e,t,n,r){var i=e.getZoom(),o=e.getCenter(),a=t.zoom,s=e.projectedToPoint?e.projectedToPoint(o):e.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(s[0]-=t.dx,s[1]-=t.dy,e.setCenter(xP(e,s),r)),null!=a){if(n){var l=n.min||0,c=n.max||1/0;a=Math.max(Math.min(i*a,c),l)/i}e.scaleX*=a,e.scaleY*=a;var u=(t.originX-e.x)*(a-1),d=(t.originY-e.y)*(a-1);e.x-=u,e.y-=d,e.updateTransform(),e.setCenter(xP(e,s),r),e.setZoom(a*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var CP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.focusBlurEnabled=!0,n}return(0,m.ZT)(t,e),t.prototype.init=function(e,t){this._api=t},t.prototype.render=function(e,t,n,r){if(this._model=e,!e.get(\"show\"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new eP(n));var i=this._mapDraw;i.draw(e,t,n,this,r),i.group.on(\"click\",this._handleRegionClick,this),i.group.silent=e.get(\"silent\"),this.group.add(i.group),this.updateSelectStatus(e,t,n)},t.prototype._handleRegionClick=function(e){var t;kv(e.target,(function(e){return null!=(t=Bl(e).eventData)}),!0),t&&this._api.dispatchAction({type:\"geoToggleSelect\",geoId:this._model.id,name:t.name})},t.prototype.updateSelectStatus=function(e,t,n){var r=this;this._mapDraw.group.traverse((function(e){var t=Bl(e).eventData;if(t)return r._model.isSelected(t.name)?n.enterSelect(e):n.leaveSelect(e),!0}))},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type=\"geo\",t}(Ph);const TP=CP;function AP(e,t,n){!function(e,t,n){if(t.svg){var r=new OM(e,t.svg);RM.set(e,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?n=t.specialAreas:i=t,r=new kM(e,i,n),RM.set(e,r)}}(e,t,n)}function EP(e){function t(t,n){n.update=\"geo:updateSelectStatus\",e.registerAction(n,(function(e,n){var r={},i=[];return n.eachComponent({mainType:\"geo\",query:e},(function(n){n[t](e.name),Q(n.coordinateSystem.regions,(function(e){r[e.name]=n.isSelected(e.name)||!1}));var o=[];Q(r,(function(e,t){r[t]&&o.push(t)})),i.push({geoIndex:n.componentIndex,name:o})})),{selected:r,allSelected:i,name:e.name}}))}e.registerCoordinateSystem(\"geo\",yP),e.registerComponentModel(SP),e.registerComponentView(TP),e.registerImpl(\"registerMap\",AP),e.registerImpl(\"getMap\",(function(e){return function(e){var t=RM.get(e);return t&&\"geoJSON\"===t.type&&t.getMapForUser()}(e)})),t(\"toggleSelected\",{type:\"geoToggleSelect\",event:\"geoselectchanged\"}),t(\"select\",{type:\"geoSelect\",event:\"geoselected\"}),t(\"unSelect\",{type:\"geoUnSelect\",event:\"geounselected\"}),e.registerAction({type:\"geoRoam\",event:\"geoRoam\",update:\"updateTransform\"},(function(e,t,n){var r=e.componentType||\"series\";t.eachComponent({mainType:r,query:e},(function(t){var i=t.coordinateSystem;if(\"geo\"===i.type){var o=wP(i,e,t.get(\"scaleLimit\"),n);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom),\"series\"===r&&Q(t.seriesGroup,(function(e){e.setCenter(o.center),e.setZoom(o.zoom)}))}}))}))}function OP(e,t){var n=e.isExpand?e.children:[],r=e.parentNode.children,i=e.hierNode.i?r[e.hierNode.i-1]:null;if(n.length){!function(e){for(var t=e.children,n=t.length,r=0,i=0;--n>=0;){var o=t[n];o.hierNode.prelim+=r,o.hierNode.modifier+=r,i+=o.hierNode.change,r+=o.hierNode.shift+i}}(e);var o=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-o):e.hierNode.prelim=o}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=function(e,t,n,r){if(t){for(var i=e,o=e,a=o.parentNode.children[0],s=t,l=i.hierNode.modifier,c=o.hierNode.modifier,u=a.hierNode.modifier,d=s.hierNode.modifier;s=IP(s),o=NP(o),s&&o;){i=IP(i),a=NP(a),i.hierNode.ancestor=e;var p=s.hierNode.prelim+d-o.hierNode.prelim-c+r(s,o);p>0&&(jP(_P(s,e,n),e,p),c+=p,l+=p),d+=s.hierNode.modifier,c+=o.hierNode.modifier,l+=i.hierNode.modifier,u+=a.hierNode.modifier}s&&!IP(i)&&(i.hierNode.thread=s,i.hierNode.modifier+=d-l),o&&!NP(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=c-u,n=e)}return n}(e,i,e.parentNode.hierNode.defaultAncestor||r[0],t)}function MP(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function PP(e){return arguments.length?e:kP}function DP(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function IP(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function NP(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function _P(e,t,n){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:n}function jP(e,t,n){var r=n/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=n,t.hierNode.modifier+=n,t.hierNode.prelim+=n,e.hierNode.change+=r}function kP(e,t){return e.parentNode===t.parentNode?1:2}var LP=function(){this.parentPoint=[],this.childPoints=[]},RP=function(e){function t(t){return e.call(this,t)||this}return(0,m.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},t.prototype.getDefaultShape=function(){return new LP},t.prototype.buildPath=function(e,t){var n=t.childPoints,r=n.length,i=t.parentPoint,o=n[0],a=n[r-1];if(1===r)return e.moveTo(i[0],i[1]),void e.lineTo(o[0],o[1]);var s=t.orient,l=\"TB\"===s||\"BT\"===s?0:1,c=1-l,u=Oo(t.forkPosition,1),d=[];d[l]=i[l],d[c]=i[c]+(a[c]-i[c])*u,e.moveTo(i[0],i[1]),e.lineTo(d[0],d[1]),e.moveTo(o[0],o[1]),d[l]=o[l],e.lineTo(d[0],d[1]),d[l]=a[l],e.lineTo(d[0],d[1]),e.lineTo(a[0],a[1]);for(var p=1;p<r-1;p++){var f=n[p];e.moveTo(f[0],f[1]),d[l]=f[l],e.lineTo(d[0],d[1])}},t}(sl),ZP=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._mainGroup=new uo,n}return(0,m.ZT)(t,e),t.prototype.init=function(e,t){this._controller=new $O(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,t,n){var r=e.getData(),i=e.layoutInfo,o=this._mainGroup;\"radial\"===e.get(\"layout\")?(o.x=i.x+i.width/2,o.y=i.y+i.height/2):(o.x=i.x,o.y=i.y),this._updateViewCoordSys(e,n),this._updateController(e,t,n);var a=this._data;r.diff(a).add((function(t){BP(r,t)&&FP(r,t,null,o,e)})).update((function(t,n){var i=a.getItemGraphicEl(n);BP(r,t)?FP(r,t,i,o,e):i&&HP(a,n,i,o,e)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&HP(a,t,n,o,e)})).execute(),this._nodeScaleRatio=e.get(\"nodeScaleRatio\"),this._updateNodeAndLinkScale(e),!0===e.get(\"expandAndCollapse\")&&r.eachItemGraphicEl((function(t,r){t.off(\"click\").on(\"click\",(function(){n.dispatchAction({type:\"treeExpandAndCollapse\",seriesId:e.id,dataIndex:r})}))})),this._data=r},t.prototype._updateViewCoordSys=function(e,t){var n=e.getData(),r=[];n.each((function(e){var t=n.getItemLayout(e);!t||isNaN(t.x)||isNaN(t.y)||r.push([+t.x,+t.y])}));var i=[],o=[];hs(r,i,o);var a=this._min,s=this._max;o[0]-i[0]==0&&(i[0]=a?a[0]:i[0]-1,o[0]=s?s[0]:o[0]+1),o[1]-i[1]==0&&(i[1]=a?a[1]:i[1]-1,o[1]=s?s[1]:o[1]+1);var l=e.coordinateSystem=new uP;l.zoomLimit=e.get(\"scaleLimit\"),l.setBoundingRect(i[0],i[1],o[0]-i[0],o[1]-i[1]),l.setCenter(e.get(\"center\"),t),l.setZoom(e.get(\"zoom\")),this.group.attr({x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY}),this._min=i,this._max=o},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(t,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!iM(t,n,e)})),i.enable(e.get(\"roam\")),o.zoomLimit=e.get(\"scaleLimit\"),o.zoom=e.coordinateSystem.getZoom(),i.off(\"pan\").off(\"zoom\").on(\"pan\",(function(t){eM(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:\"treeRoam\",dx:t.dx,dy:t.dy})})).on(\"zoom\",(function(t){tM(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:\"treeRoam\",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(e),n.updateLabelLayout()}))},t.prototype._updateNodeAndLinkScale=function(e){var t=e.getData(),n=this._getNodeGlobalScale(e);t.eachItemGraphicEl((function(e,t){e.setSymbolScale(n)}))},t.prototype._getNodeGlobalScale=function(e){var t=e.coordinateSystem;if(\"view\"!==t.type)return 1;var n=this._nodeScaleRatio,r=t.scaleX||1;return((t.getZoom()-1)*n+1)/r},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type=\"tree\",t}(Zg);function BP(e,t){var n=e.getItemLayout(t);return n&&!isNaN(n.x)&&!isNaN(n.y)}function FP(e,t,n,r,i){var o=!n,a=e.tree.getNodeByDataIndex(t),s=a.getModel(),l=a.getVisual(\"style\").fill,c=!1===a.isExpand&&0!==a.children.length?l:\"#fff\",u=e.tree.root,d=a.parentNode===u?a:a.parentNode||a,p=e.getItemGraphicEl(d.dataIndex),f=d.getLayout(),h=p?{x:p.__oldX,y:p.__oldY,rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:f,m=a.getLayout();o?((n=new qT(e,t,null,{symbolInnerColor:c,useNameLabel:!0})).x=h.x,n.y=h.y):n.updateData(e,t,null,{symbolInnerColor:c,useNameLabel:!0}),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=m.rawX,n.__radialRawY=m.rawY,r.add(n),e.setItemGraphicEl(t,n),n.__oldX=n.x,n.__oldY=n.y,zc(n,{x:m.x,y:m.y},i);var g=n.getSymbolPath();if(\"radial\"===i.get(\"layout\")){var v=u.children[0],y=v.getLayout(),b=v.children.length,S=void 0,x=void 0;if(m.x===y.x&&!0===a.isExpand&&v.children.length){var w={x:(v.children[0].getLayout().x+v.children[b-1].getLayout().x)/2,y:(v.children[0].getLayout().y+v.children[b-1].getLayout().y)/2};(S=Math.atan2(w.y-y.y,w.x-y.x))<0&&(S=2*Math.PI+S),(x=w.x<y.x)&&(S-=Math.PI)}else(S=Math.atan2(m.y-y.y,m.x-y.x))<0&&(S=2*Math.PI+S),0===a.children.length||0!==a.children.length&&!1===a.isExpand?(x=m.x<y.x)&&(S-=Math.PI):(x=m.x>y.x)||(S-=Math.PI);var C=x?\"left\":\"right\",T=s.getModel(\"label\"),A=T.get(\"rotate\"),E=A*(Math.PI/180),O=g.getTextContent();O&&(g.setTextConfig({position:T.get(\"position\")||C,rotation:null==A?-S:E,origin:\"center\"}),O.setStyle(\"verticalAlign\",\"middle\"))}var M=s.get([\"emphasis\",\"focus\"]),P=\"relative\"===M?Ie(a.getAncestorsIndices(),a.getDescendantIndices()):\"ancestor\"===M?a.getAncestorsIndices():\"descendant\"===M?a.getDescendantIndices():null;P&&(Bl(n).focus=P),function(e,t,n,r,i,o,a,s){var l=t.getModel(),c=e.get(\"edgeShape\"),u=e.get(\"layout\"),d=e.getOrient(),p=e.get([\"lineStyle\",\"curveness\"]),f=e.get(\"edgeForkPosition\"),h=l.getModel(\"lineStyle\").getLineStyle(),m=r.__edge;if(\"curve\"===c)t.parentNode&&t.parentNode!==n&&(m||(m=r.__edge=new Lm({shape:UP(u,d,p,i,i)})),zc(m,{shape:UP(u,d,p,o,a)},e));else if(\"polyline\"===c&&\"orthogonal\"===u&&t!==n&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,v=[],y=0;y<g.length;y++){var b=g[y].getLayout();v.push([b.x,b.y])}m||(m=r.__edge=new RP({shape:{parentPoint:[a.x,a.y],childPoints:[[a.x,a.y]],orient:d,forkPosition:f}})),zc(m,{shape:{parentPoint:[a.x,a.y],childPoints:v}},e)}m&&(\"polyline\"!==c||t.isExpand)&&(m.useStyle(U({strokeNoScale:!0,fill:null},h)),_c(m,l,\"lineStyle\"),pc(m),s.add(m))}(i,a,u,n,h,f,m,r),n.__edge&&(n.onHoverStateChange=function(t){if(\"blur\"!==t){var r=a.parentNode&&e.getItemGraphicEl(a.parentNode.dataIndex);r&&1===r.hoverState||uc(n.__edge,t)}})}function zP(e,t,n,r,i){var o=VP(t.tree.root,e),a=o.source,s=o.sourceLayout,l=t.getItemGraphicEl(e.dataIndex);if(l){var c=t.getItemGraphicEl(a.dataIndex).__edge,u=l.__edge||(!1===a.isExpand||1===a.children.length?c:void 0),d=r.get(\"edgeShape\"),p=r.get(\"layout\"),f=r.get(\"orient\"),h=r.get([\"lineStyle\",\"curveness\"]);u&&(\"curve\"===d?Uc(u,{shape:UP(p,f,h,s,s),style:{opacity:0}},r,{cb:function(){n.remove(u)},removeOpt:i}):\"polyline\"===d&&\"orthogonal\"===r.get(\"layout\")&&Uc(u,{shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]]},style:{opacity:0}},r,{cb:function(){n.remove(u)},removeOpt:i}))}}function VP(e,t){for(var n,r=t.parentNode===e?t:t.parentNode||t;null==(n=r.getLayout());)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function HP(e,t,n,r,i){var o=e.tree.getNodeByDataIndex(t),a=VP(e.tree.root,o).sourceLayout,s={duration:i.get(\"animationDurationUpdate\"),easing:i.get(\"animationEasingUpdate\")};Uc(n,{x:a.x+1,y:a.y+1},i,{cb:function(){r.remove(n),e.setItemGraphicEl(t,null)},removeOpt:s}),n.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:s}),o.children.forEach((function(t){zP(t,e,r,i,s)})),zP(o,e,r,i,s)}function UP(e,t,n,r,i){var o,a,s,l,c,u,d,p;if(\"radial\"===e){c=r.rawX,d=r.rawY,u=i.rawX,p=i.rawY;var f=DP(c,d),h=DP(c,d+(p-d)*n),m=DP(u,p+(d-p)*n),g=DP(u,p);return{x1:f.x||0,y1:f.y||0,x2:g.x||0,y2:g.y||0,cpx1:h.x||0,cpy1:h.y||0,cpx2:m.x||0,cpy2:m.y||0}}return c=r.x,d=r.y,u=i.x,p=i.y,\"LR\"!==t&&\"RL\"!==t||(o=c+(u-c)*n,a=d,s=u+(c-u)*n,l=p),\"TB\"!==t&&\"BT\"!==t||(o=c,a=d+(p-d)*n,s=u,l=p+(d-p)*n),{x1:c,y1:d,x2:u,y2:p,cpx1:o,cpy1:a,cpx2:s,cpy2:l}}const GP=ZP;var YP=pa();function WP(e,t){if(YP(this).mainData===this){var n=H({},YP(this).datas);n[this.dataType]=t,JP(t,n,e)}else $P(t,this.dataType,YP(this).mainData,e);return t}function KP(e,t){return e.struct&&e.struct.update(),t}function qP(e,t){return Q(YP(t).datas,(function(n,r){n!==t&&$P(n.cloneShallow(),r,t,e)})),t}function QP(e){var t=YP(this).mainData;return null==e||null==t?t:YP(t).datas[e]}function XP(){var e=YP(this).mainData;return null==e?[{data:e}]:X(te(YP(e).datas),(function(t){return{type:t,data:YP(e).datas[t]}}))}function JP(e,t,n){YP(e).datas={},Q(t,(function(t,r){$P(t,r,e,n)}))}function $P(e,t,n,r){YP(n).datas[t]=e,YP(e).mainData=n,e.dataType=t,r.struct&&(e[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=e),e.getLinkedData=QP,e.getLinkedDataAll=XP}const eD=function(e){var t=e.mainData,n=e.datas;n||(n={main:t},e.datasAttr={main:\"data\"}),e.datas=e.mainData=null,JP(t,n,e),Q(n,(function(n){Q(t.TRANSFERABLE_METHODS,(function(t){n.wrapMethod(t,re(WP,e))}))})),t.wrapMethod(\"cloneShallow\",re(qP,e)),Q(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,re(KP,e))})),we(n[t.dataType]===t)};var tD=function(){function e(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||\"\",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(e,t,n){oe(e)&&(n=t,t=e,e=null),ae(e=e||{})&&(e={order:e});var r,i=e.order||\"preorder\",o=this[e.attr||\"children\"];\"preorder\"===i&&(r=t.call(n,this));for(var a=0;!r&&a<o.length;a++)o[a].eachNode(e,t,n);\"postorder\"===i&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(e+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].getNodeById(e);if(i)return i}},e.prototype.contains=function(e){if(e===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var i=n[t].contains(e);if(i)return i}},e.prototype.getAncestors=function(e){for(var t=[],n=e?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},e.prototype.getDescendantIndices=function(){var e=[];return this.eachNode((function(t){e.push(t.dataIndex)})),e},e.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||\"value\"),this.dataIndex)},e.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},e.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},e}(),nD=function(){function e(e){this.type=\"tree\",this._nodes=[],this.hostModel=e}return e.prototype.eachNode=function(e,t,n){this.root.eachNode(e,t,n)},e.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},e.prototype.getNodeById=function(e){return this.root.getNodeById(e)},e.prototype.update=function(){for(var e=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=e.count();n<r;n++)t[e.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,n,r){var i=new e(n),o=[],a=1;!function e(t,n){var r=t.value;a=Math.max(a,ie(r)?r.length:1),o.push(t);var s=new tD(la(t.name,\"\"),i);n?function(e,t){var n=t.children;e.parentNode!==t&&(n.push(e),e.parentNode=t)}(s,n):i.root=s,i._nodes.push(s);var l=t.children;if(l)for(var c=0;c<l.length;c++)e(l[c],s)}(t),i.root.updateDepthAndHeight(0);var s=kS(o,{coordDimensions:[\"value\"],dimensionsCount:a}).dimensions,l=new _S(s,n);return l.initData(o),r&&r(l),eD({mainData:l,struct:i,structAttr:\"tree\"}),i.update(),i},e}();const rD=nD;function iD(e,t,n){if(e&&Y(t,e.type)>=0){var r=n.getData().tree.root,i=e.targetNode;if(ae(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=e.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function oD(e){for(var t=[];e;)(e=e.parentNode)&&t.push(e);return t.reverse()}function aD(e,t){return Y(oD(e),t)>=0}function sD(e,t){for(var n=[];e;){var r=e.dataIndex;n.push({name:e.name,dataIndex:r,value:t.getRawValue(r)}),e=e.parentNode}return n.reverse(),n}var lD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e){var t={name:e.name,children:e.data},n=e.leaves||{},r=new Cu(n,this,this.ecModel),i=rD.createTree(t,this,(function(e){e.wrapMethod(\"getItemModel\",(function(e,t){var n=i.getNodeByDataIndex(t);return n&&n.children.length&&n.isExpand||(e.parentModel=r),e}))})),o=0;i.eachNode(\"preorder\",(function(e){e.depth>o&&(o=e.depth)}));var a=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:o;return i.root.eachNode(\"preorder\",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=a})),i.data},t.prototype.getOrient=function(){var e=this.get(\"orient\");return\"horizontal\"===e?e=\"LR\":\"vertical\"===e&&(e=\"TB\"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,t,n){for(var r=this.getData().tree,i=r.root.children[0],o=r.getNodeByDataIndex(e),a=o.getValue(),s=o.name;o&&o!==i;)s=o.parentNode.name+\".\"+s,o=o.parentNode;return rh(\"nameValue\",{name:s,value:a,noValue:isNaN(a)||null==a})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=sD(r,this),n.collapsed=!r.isExpand,n},t.type=\"series.tree\",t.layoutMode=\"box\",t.defaultOption={z:2,coordinateSystem:\"view\",left:\"12%\",top:\"12%\",right:\"12%\",bottom:\"12%\",layout:\"orthogonal\",edgeShape:\"curve\",edgeForkPosition:\"50%\",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:\"LR\",symbol:\"emptyCircle\",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:\"#ccc\",width:1.5,curveness:.5},itemStyle:{color:\"lightsteelblue\",borderWidth:1.5},label:{show:!0},animationEasing:\"linear\",animationDuration:700,animationDurationUpdate:500},t}(Oh);const cD=lD;function uD(e,t){for(var n,r=[e];n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var o=i.length-1;o>=0;o--)r.push(i[o])}}function dD(e,t){e.eachSeriesByType(\"tree\",(function(e){!function(e,t){var n=function(e,t){return Ad(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=n;var r=e.get(\"layout\"),i=0,o=0,a=null;\"radial\"===r?(i=2*Math.PI,o=Math.min(n.height,n.width)/2,a=PP((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(i=n.width,o=n.height,a=PP());var s=e.getData().tree.root,l=s.children[0];if(l){!function(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,i=[t];n=i.pop();)if(r=n.children,n.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var a=r[o];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},i.push(a)}}(s),function(e,t,n){for(var r,i=[e],o=[];r=i.pop();)if(o.push(r),r.isExpand){var a=r.children;if(a.length)for(var s=0;s<a.length;s++)i.push(a[s])}for(;r=o.pop();)t(r,n)}(l,OP,a),s.hierNode.modifier=-l.hierNode.prelim,uD(l,MP);var c=l,u=l,d=l;uD(l,(function(e){var t=e.getLayout().x;t<c.getLayout().x&&(c=e),t>u.getLayout().x&&(u=e),e.depth>d.depth&&(d=e)}));var p=c===u?1:a(c,u)/2,f=p-c.getLayout().x,h=0,m=0,g=0,v=0;if(\"radial\"===r)h=i/(u.getLayout().x+p+f),m=o/(d.depth-1||1),uD(l,(function(e){g=(e.getLayout().x+f)*h,v=(e.depth-1)*m;var t=DP(g,v);e.setLayout({x:t.x,y:t.y,rawX:g,rawY:v},!0)}));else{var y=e.getOrient();\"RL\"===y||\"LR\"===y?(m=o/(u.getLayout().x+p+f),h=i/(d.depth-1||1),uD(l,(function(e){v=(e.getLayout().x+f)*m,g=\"LR\"===y?(e.depth-1)*h:i-(e.depth-1)*h,e.setLayout({x:g,y:v},!0)}))):\"TB\"!==y&&\"BT\"!==y||(h=i/(u.getLayout().x+p+f),m=o/(d.depth-1||1),uD(l,(function(e){g=(e.getLayout().x+f)*h,v=\"TB\"===y?(e.depth-1)*m:o-(e.depth-1)*m,e.setLayout({x:g,y:v},!0)})))}}}(e,t)}))}function pD(e){e.eachSeriesByType(\"tree\",(function(e){var t=e.getData();t.tree.eachNode((function(e){var n=e.getModel().getModel(\"itemStyle\").getItemStyle();H(t.ensureUniqueItemVisual(e.dataIndex,\"style\"),n)}))}))}var fD=[\"treemapZoomToNode\",\"treemapRender\",\"treemapMove\"];function hD(e){var t=e.getData().tree,n={};t.eachNode((function(t){for(var r=t;r&&r.depth>1;)r=r.parentNode;var i=ap(e.ecModel,r.name||r.dataIndex+\"\",n);t.setVisual(\"decal\",i)}))}function mD(e){var t=0;Q(e.children,(function(e){mD(e);var n=e.value;ie(n)&&(n=n[0]),t+=n}));var n=e.value;ie(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),ie(e.value)?e.value[0]=n:e.value=n}const gD=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventUsingHoverLayer=!0,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};mD(n);var r=e.levels||[],i=this.designatedVisualItemStyle={},o=new Cu({itemStyle:i},this,t);r=e.levels=function(e,t){var n,r,i=ea(t.get(\"color\")),o=ea(t.get([\"aria\",\"decal\",\"decals\"]));if(i){Q(e=e||[],(function(e){var t=new Cu(e),i=t.get(\"color\"),o=t.get(\"decal\");(t.get([\"itemStyle\",\"color\"])||i&&\"none\"!==i)&&(n=!0),(t.get([\"itemStyle\",\"decal\"])||o&&\"none\"!==o)&&(r=!0)}));var a=e[0]||(e[0]={});return n||(a.color=i.slice()),!r&&o&&(a.decal=o.slice()),e}}(r,t);var a=X(r||[],(function(e){return new Cu(e,o,t)}),this),s=rD.createTree(n,this,(function(e){e.wrapMethod(\"getItemModel\",(function(e,t){var n=s.getNodeByDataIndex(t),r=n?a[n.depth]:null;return e.parentModel=r||o,e}))}));return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,t,n){var r=this.getData(),i=this.getRawValue(e);return rh(\"nameValue\",{name:r.getName(e),value:i})},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=sD(r,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},H(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=De(),this._idIndexMapCount=0);var n=t.get(e);return null==n&&t.set(e,n=this._idIndexMapCount++),n},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){hD(this)},t.type=\"series.treemap\",t.layoutMode=\"box\",t.defaultOption={progressive:0,left:\"center\",top:\"middle\",width:\"80%\",height:\"80%\",sort:!0,clipWindow:\"origin\",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:\"\",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:\"zoomToNode\",animation:!0,animationDurationUpdate:900,animationEasing:\"quinticInOut\",breadcrumb:{show:!0,height:22,left:\"center\",top:\"bottom\",emptyItemWidth:25,itemStyle:{color:\"rgba(0,0,0,0.7)\",textStyle:{color:\"#fff\"}},emphasis:{itemStyle:{color:\"rgba(0,0,0,0.9)\"}}},label:{show:!0,distance:0,padding:5,position:\"inside\",color:\"#fff\",overflow:\"truncate\"},upperLabel:{show:!1,position:[0,\"50%\"],height:20,overflow:\"truncate\",verticalAlign:\"middle\"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:\"#fff\",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,\"50%\"],overflow:\"truncate\",verticalAlign:\"middle\"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:\"index\",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Oh);var vD=function(){function e(e){this.group=new uo,e.add(this.group)}return e.prototype.render=function(e,t,n,r){var i=e.getModel(\"breadcrumb\"),o=this.group;if(o.removeAll(),i.get(\"show\")&&n){var a=i.getModel(\"itemStyle\"),s=i.getModel(\"emphasis\"),l=a.getModel(\"textStyle\"),c=s.getModel([\"itemStyle\",\"textStyle\"]),u={pos:{left:i.get(\"left\"),right:i.get(\"right\"),top:i.get(\"top\"),bottom:i.get(\"bottom\")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get(\"emptyItemWidth\"),totalWidth:0,renderList:[]};this._prepare(n,u,l),this._renderContent(e,u,a,s,l,c,r),Ed(o,u.pos,u.box)}},e.prototype._prepare=function(e,t,n){for(var r=e;r;r=r.parentNode){var i=la(r.getModel().get(\"name\"),\"\"),o=n.getTextRect(i),a=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=a+8,t.renderList.push({node:r,text:i,width:a})}},e.prototype._renderContent=function(e,t,n,r,i,o,a){for(var s,l,c,u,d,p,f,h,m,g=0,v=t.emptyItemWidth,y=e.get([\"breadcrumb\",\"height\"]),b=(s=t.pos,u=(l=t.box).width,d=l.height,p=Oo(s.left,u),f=Oo(s.top,d),h=Oo(s.right,u),m=Oo(s.bottom,d),(isNaN(p)||isNaN(parseFloat(s.left)))&&(p=0),(isNaN(h)||isNaN(parseFloat(s.right)))&&(h=u),(isNaN(f)||isNaN(parseFloat(s.top)))&&(f=0),(isNaN(m)||isNaN(parseFloat(s.bottom)))&&(m=d),c=ud(c||0),{width:Math.max(h-p-c[1]-c[3],0),height:Math.max(m-f-c[0]-c[2],0)}),S=t.totalWidth,x=t.renderList,w=r.getModel(\"itemStyle\").getItemStyle(),C=x.length-1;C>=0;C--){var T=x[C],A=T.node,E=T.width,O=T.text;S>b.width&&(S-=E-v,E=v,O=null);var M=new Tm({shape:{points:yD(g,0,E,y,C===x.length-1,0===C)},style:U(n.getItemStyle(),{lineJoin:\"bevel\"}),textContent:new Zl({style:$c(i,{text:O})}),textConfig:{position:\"inside\"},z2:1e4*Wl,onclick:re(a,A)});M.disableLabelAnimation=!0,M.getTextContent().ensureState(\"emphasis\").style=$c(o,{text:O}),M.ensureState(\"emphasis\").style=w,Pc(M,r.get(\"focus\"),r.get(\"blurScope\"),r.get(\"disabled\")),this.group.add(M),bD(M,e,A),g+=E+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function yD(e,t,n,r,i,o){var a=[[i?e:e-5,t],[e+n,t],[e+n,t+r],[i?e:e-5,t+r]];return!o&&a.splice(2,0,[e+n+5,t+r/2]),!i&&a.push([e,t+r/2]),a}function bD(e,t,n){Bl(e).eventData={componentType:\"series\",componentSubType:\"treemap\",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:\"treemap\",selfType:\"breadcrumb\",nodeData:{dataIndex:n&&n.dataIndex,name:n&&n.name},treePathInfo:n&&sD(n,t)}}const SD=vD;var xD=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(e,t,n,r,i){return!this._elExistsMap[e.id]&&(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:t,duration:n,delay:r,easing:i}),!0)},e.prototype.finished=function(e){return this._finishedCallback=e,this},e.prototype.start=function(){for(var e=this,t=this._storage.length,n=function(){--t<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},r=0,i=this._storage.length;r<i;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}(),wD=uo,CD=wl,TD=\"label\",AD=\"upperLabel\",ED=10*Wl,OD=2*Wl,MD=3*Wl,PD=Ia([[\"fill\",\"color\"],[\"stroke\",\"strokeColor\"],[\"lineWidth\",\"strokeWidth\"],[\"shadowBlur\"],[\"shadowOffsetX\"],[\"shadowOffsetY\"],[\"shadowColor\"]]),DD=function(e){var t=PD(e);return t.stroke=t.fill=t.lineWidth=null,t},ID=pa(),ND=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._state=\"ready\",n._storage={nodeGroup:[],background:[],content:[]},n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){if(!(Y(t.findComponents({mainType:\"series\",subType:\"treemap\",query:r}),e)<0)){this.seriesModel=e,this.api=n,this.ecModel=t;var i=iD(r,[\"treemapZoomToNode\",\"treemapRootToNode\"],e),o=r&&r.type,a=e.layoutInfo,s=!this._oldTree,l=this._storage,c=\"treemapRootToNode\"===o&&i&&l?{rootNodeGroup:l.nodeGroup[i.node.getRawIndex()],direction:r.direction}:null,u=this._giveContainerGroup(a),d=e.get(\"animation\"),p=this._doRender(u,e,c);!d||s||o&&\"treemapZoomToNode\"!==o&&\"treemapRootToNode\"!==o?p.renderFinally():this._doAnimation(u,p,e,c),this._resetController(n),this._renderBreadcrumb(e,n,i)}},t.prototype._giveContainerGroup=function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new wD,this._initEvents(t),this.group.add(t)),t.x=e.x,t.y=e.y,t},t.prototype._doRender=function(e,t,n){var r=t.getData().tree,i=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[];function c(e,r,i,c){return function(e,t,n,r,i,o,a,s,l,c){if(a){var u=a.getLayout(),d=e.getData(),p=a.getModel();if(d.setItemGraphicEl(a.dataIndex,null),u&&u.isInView){var f=u.width,h=u.height,m=u.borderWidth,g=u.invisible,v=a.getRawIndex(),y=s&&s.getRawIndex(),b=a.viewChildren,S=u.upperHeight,x=b&&b.length,w=p.getModel(\"itemStyle\"),C=p.getModel([\"emphasis\",\"itemStyle\"]),T=p.getModel([\"blur\",\"itemStyle\"]),A=p.getModel([\"select\",\"itemStyle\"]),E=w.get(\"borderRadius\")||0,O=Z(\"nodeGroup\",wD);if(O){if(l.add(O),O.x=u.x||0,O.y=u.y||0,O.markRedraw(),ID(O).nodeWidth=f,ID(O).nodeHeight=h,u.isAboveViewRoot)return O;var M=Z(\"background\",CD,c,OD);M&&function(t,n,r){var i=Bl(n);if(i.dataIndex=a.dataIndex,i.seriesIndex=e.seriesIndex,n.setShape({x:0,y:0,width:f,height:h,r:E}),g)k(n);else{n.invisible=!1;var o=a.getVisual(\"style\"),s=o.stroke,l=DD(w);l.fill=s;var c=PD(C);c.fill=C.get(\"borderColor\");var u=PD(T);u.fill=T.get(\"borderColor\");var d=PD(A);if(d.fill=A.get(\"borderColor\"),r){var p=f-2*m;L(n,s,o.opacity,{x:m,y:0,width:p,height:S})}else n.removeTextContent();n.setStyle(l),n.ensureState(\"emphasis\").style=c,n.ensureState(\"blur\").style=u,n.ensureState(\"select\").style=d,pc(n)}t.add(n)}(O,M,x&&u.upperLabelHeight);var P=p.getModel(\"emphasis\"),D=P.get(\"focus\"),I=P.get(\"blurScope\"),N=P.get(\"disabled\"),_=\"ancestor\"===D?a.getAncestorsIndices():\"descendant\"===D?a.getDescendantIndices():D;if(x)kc(O)&&jc(O,!1),M&&(jc(M,!N),d.setItemGraphicEl(a.dataIndex,M),Dc(M,_,I));else{var j=Z(\"content\",CD,c,MD);j&&function(t,n){var r=Bl(n);r.dataIndex=a.dataIndex,r.seriesIndex=e.seriesIndex;var i=Math.max(f-2*m,0),o=Math.max(h-2*m,0);if(n.culling=!0,n.setShape({x:m,y:m,width:i,height:o,r:E}),g)k(n);else{n.invisible=!1;var s=a.getVisual(\"style\"),l=s.fill,c=DD(w);c.fill=l,c.decal=s.decal;var u=PD(C),d=PD(T),p=PD(A);L(n,l,s.opacity,null),n.setStyle(c),n.ensureState(\"emphasis\").style=u,n.ensureState(\"blur\").style=d,n.ensureState(\"select\").style=p,pc(n)}t.add(n)}(O,j),M.disableMorphing=!0,M&&kc(M)&&jc(M,!1),jc(O,!N),d.setItemGraphicEl(a.dataIndex,O),Dc(O,_,I)}return O}}}function k(e){!e.invisible&&o.push(e)}function L(t,n,r,i){var o=p.getModel(i?AD:TD),s=la(p.get(\"name\"),null),l=o.getShallow(\"show\");Xc(t,Jc(p,i?AD:TD),{defaultText:l?s:null,inheritColor:n,defaultOpacity:r,labelFetcher:e,labelDataIndex:a.dataIndex});var c=t.getTextContent();if(c){var d=c.style,f=xe(d.padding||0);i&&(t.setTextConfig({layoutRect:i}),c.disableLabelLayout=!0),c.beforeUpdate=function(){var e=Math.max((i?i.width:t.shape.width)-f[1]-f[3],0),n=Math.max((i?i.height:t.shape.height)-f[0]-f[2],0);d.width===e&&d.height===n||c.setStyle({width:e,height:n})},d.truncateMinChar=2,d.lineOverflow=\"truncate\",R(d,i,u);var h=c.getState(\"emphasis\");R(h?h.style:null,i,u)}}function R(t,n,r){var i=t?t.text:null;if(!n&&r.isLeafRoot&&null!=i){var o=e.get(\"drillDownIcon\",!0);t.text=o?o+\" \"+i:i}}function Z(e,o,s,l){var c=null!=y&&n[e][y],u=i[e];return c?(n[e][y]=null,function(e,t){var n=e[v]={};t instanceof wD?(n.oldX=t.x,n.oldY=t.y):n.oldShape=H({},t.shape)}(u,c)):g||((c=new o)instanceof os&&(c.z2=function(e,t){return e*ED+t}(s,l)),function(e,t){var n=e[v]={},o=a.parentNode,s=t instanceof uo;if(o&&(!r||\"drillDown\"===r.direction)){var l=0,c=0,u=i.background[o.getRawIndex()];!r&&u&&u.oldShape&&(l=u.oldShape.width,c=u.oldShape.height),s?(n.oldX=0,n.oldY=c):n.oldShape={x:l,y:c,width:0,height:0}}n.fadein=!s}(u,c)),t[e][v]=c}}(t,a,s,n,o,l,e,r,i,c)}!function e(t,n,r,i,o){function a(e){return e.getId()}function s(a,s){var l=null!=a?t[a]:null,u=null!=s?n[s]:null,d=c(l,u,r,o);d&&e(l&&l.viewChildren||[],u&&u.viewChildren||[],d,i,o+1)}i?(n=t,Q(t,(function(e,t){!e.isRemoved()&&s(t,t)}))):new lS(n,t,a,a).add(s).update(s).remove(re(s,null)).execute()}(r.root?[r.root]:[],i&&i.root?[i.root]:[],e,r===i||!i,0);var u=function(e){var t={nodeGroup:[],background:[],content:[]};return e&&Q(e,(function(e,n){var r=t[n];Q(e,(function(e){e&&(r.push(e),ID(e).willDelete=!0)}))})),t}(s);if(this._oldTree=r,this._storage=a,this._controllerHost){var d=this.seriesModel.layoutInfo,p=r.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:u,renderFinally:function(){Q(u,(function(e){Q(e,(function(e){e.parent&&e.parent.remove(e)}))})),Q(l,(function(e){e.invisible=!0,e.dirty()}))}}},t.prototype._doAnimation=function(e,t,n,r){var i=n.get(\"animationDurationUpdate\"),o=n.get(\"animationEasing\"),a=(oe(i)?0:i)||0,s=(oe(o)?null:o)||\"cubicOut\",l=new xD;Q(t.willDeleteEls,(function(e,t){Q(e,(function(e,n){if(!e.invisible){var i,o=e.parent,c=ID(o);if(r&&\"drillDown\"===r.direction)i=o===r.rootNodeGroup?{shape:{x:0,y:0,width:c.nodeWidth,height:c.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var u=0,d=0;c.willDelete||(u=c.nodeWidth/2,d=c.nodeHeight/2),i=\"nodeGroup\"===t?{x:u,y:d,style:{opacity:0}}:{shape:{x:u,y:d,width:0,height:0},style:{opacity:0}}}i&&l.add(e,i,a,0,s)}}))})),Q(this._storage,(function(e,n){Q(e,(function(e,r){var i=t.lastsForAnimation[n][r],o={};i&&(e instanceof uo?null!=i.oldX&&(o.x=e.x,o.y=e.y,e.x=i.oldX,e.y=i.oldY):(i.oldShape&&(o.shape=H({},e.shape),e.setShape(i.oldShape)),i.fadein?(e.setStyle(\"opacity\",0),o.style={opacity:1}):1!==e.style.opacity&&(o.style={opacity:1})),l.add(e,o,a,0,s))}))}),this),this._state=\"animating\",l.finished(ne((function(){this._state=\"ready\",t.renderFinally()}),this)).start()},t.prototype._resetController=function(e){var t=this._controller,n=this._controllerHost;n||(this._controllerHost={target:this.group},n=this._controllerHost),t||((t=this._controller=new $O(e.getZr())).enable(this.seriesModel.get(\"roam\")),n.zoomLimit=this.seriesModel.get(\"scaleLimit\"),n.zoom=this.seriesModel.get(\"zoom\"),t.on(\"pan\",ne(this._onPan,this)),t.on(\"zoom\",ne(this._onZoom,this)));var r=new nn(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,n){return r.contain(t,n)}))},t.prototype._clearController=function(){var e=this._controller;this._controllerHost=null,e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if(\"animating\"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var t=this.seriesModel.getData().tree.root;if(!t)return;var n=t.getLayout();if(!n)return;this.api.dispatchAction({type:\"treemapMove\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+e.dx,y:n.y+e.dy,width:n.width,height:n.height}})}},t.prototype._onZoom=function(e){var t=e.originX,n=e.originY,r=e.scale;if(\"animating\"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var o=i.getLayout();if(!o)return;var a,s=new nn(o.x,o.y,o.width,o.height),l=this._controllerHost;a=l.zoomLimit;var c=l.zoom=l.zoom||1;if(c*=r,a){var u=a.min||0,d=a.max||1/0;c=Math.max(Math.min(d,c),u)}var p=c/l.zoom;l.zoom=c;var f=this.seriesModel.layoutInfo,h=[1,0,0,1,0,0];Ft(h,h,[-(t-=f.x),-(n-=f.y)]),Vt(h,h,[p,p]),Ft(h,h,[t,n]),s.applyTransform(h),this.api.dispatchAction({type:\"treemapRender\",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:s.x,y:s.y,width:s.width,height:s.height}})}},t.prototype._initEvents=function(e){var t=this;e.on(\"click\",(function(e){if(\"ready\"===t._state){var n=t.seriesModel.get(\"nodeClick\",!0);if(n){var r=t.findTarget(e.offsetX,e.offsetY);if(r){var i=r.node;if(i.getLayout().isLeafRoot)t._rootToNode(r);else if(\"zoomToNode\"===n)t._zoomToNode(r);else if(\"link\"===n){var o=i.hostTree.data.getItemModel(i.dataIndex),a=o.get(\"link\",!0),s=o.get(\"target\",!0)||\"blank\";a&&bd(a,s)}}}}}),this)},t.prototype._renderBreadcrumb=function(e,t,n){var r=this;n||(n=null!=e.get(\"leafDepth\",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new SD(this.group))).render(e,t,n.node,(function(t){\"animating\"!==r._state&&(aD(e.getViewRoot(),t)?r._rootToNode({node:t}):r._zoomToNode({node:t}))}))},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state=\"ready\",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:\"treemapZoomToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:\"treemapRootToNode\",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,t){var n;return this.seriesModel.getViewRoot().eachNode({attr:\"viewChildren\",order:\"preorder\"},(function(r){var i=this._storage.background[r.getRawIndex()];if(i){var o=i.transformCoordToLocal(e,t),a=i.shape;if(!(a.x<=o[0]&&o[0]<=a.x+a.width&&a.y<=o[1]&&o[1]<=a.y+a.height))return!1;n={node:r,offsetX:o[0],offsetY:o[1]}}}),this),n},t.type=\"treemap\",t}(Zg);const _D=ND;var jD=Q,kD=ce,LD=function(){function e(t){var n=t.mappingMethod,r=t.type,i=this.option=F(t);this.type=r,this.mappingMethod=n,this._normalizeData=YD[n];var o=e.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],\"piecewise\"===n?(RD(i),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,Q(t,(function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(i)):\"category\"===n?i.categories?function(e){var t=e.categories,n=e.categoryMap={},r=e.visual;if(jD(t,(function(e,t){n[e]=t})),!ie(r)){var i=[];ce(r)?jD(r,(function(e,t){var r=n[t];i[null!=r?r:-1]=e})):i[-1]=r,r=GD(e,i)}for(var o=t.length-1;o>=0;o--)null==r[o]&&(delete n[t[o]],t.pop())}(i):RD(i,!0):(we(\"linear\"!==n||i.dataExtent),RD(i))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return ne(this._normalizeData,this)},e.listVisualTypes=function(){return te(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,n){ce(e)?Q(e,t,n):t.call(n,e)},e.mapVisual=function(t,n,r){var i,o=ie(t)?[]:ce(t)?{}:(i=!0,null);return e.eachVisual(t,(function(e,t){var a=n.call(r,e,t);i?o=a:o[t]=a})),o},e.retrieveVisuals=function(t){var n,r={};return t&&jD(e.visualHandlers,(function(e,i){t.hasOwnProperty(i)&&(r[i]=t[i],n=!0)})),n?r:null},e.prepareVisualTypes=function(e){if(ie(e))e=e.slice();else{if(!kD(e))return[];var t=[];jD(e,(function(e,n){t.push(n)})),e=t}return e.sort((function(e,t){return\"color\"===t&&\"color\"!==e&&0===e.indexOf(\"color\")?1:-1})),e},e.dependsOn=function(e,t){return\"color\"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,n){for(var r,i=1/0,o=0,a=t.length;o<a;o++){var s=t[o].value;if(null!=s){if(s===e||ae(s)&&s===e+\"\")return o;n&&d(s,o)}}for(o=0,a=t.length;o<a;o++){var l=t[o],c=l.interval,u=l.close;if(c){if(c[0]===-1/0){if(WD(u[1],e,c[1]))return o}else if(c[1]===1/0){if(WD(u[0],c[0],e))return o}else if(WD(u[0],c[0],e)&&WD(u[1],e,c[1]))return o;n&&d(c[0],o),n&&d(c[1],o)}}if(n)return e===1/0?t.length-1:e===-1/0?0:r;function d(t,n){var o=Math.abs(t-e);o<i&&(i=o,r=n)}},e.visualHandlers={color:{applyVisual:FD(\"color\"),getColorMapper:function(){var e=this.option;return ne(\"category\"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),zD.call(this,e)}:function(t,n,r){var i=!!r;return!n&&(t=this._normalizeData(t)),r=wr(t,e.parsedVisual,r),i?r:Mr(r,\"rgba\")},this)},_normalizedToVisual:{linear:function(e){return Mr(wr(e,this.option.parsedVisual),\"rgba\")},category:zD,piecewise:function(e,t){var n=UD.call(this,t);return null==n&&(n=Mr(wr(e,this.option.parsedVisual),\"rgba\")),n},fixed:VD}},colorHue:ZD((function(e,t){return Er(e,t)})),colorSaturation:ZD((function(e,t){return Er(e,null,t)})),colorLightness:ZD((function(e,t){return Er(e,null,null,t)})),colorAlpha:ZD((function(e,t){return Or(e,t)})),decal:{applyVisual:FD(\"decal\"),_normalizedToVisual:{linear:null,category:zD,piecewise:null,fixed:null}},opacity:{applyVisual:FD(\"opacity\"),_normalizedToVisual:HD([0,1])},liftZ:{applyVisual:FD(\"liftZ\"),_normalizedToVisual:{linear:VD,category:VD,piecewise:VD,fixed:VD}},symbol:{applyVisual:function(e,t,n){n(\"symbol\",this.mapValueToVisual(e))},_normalizedToVisual:{linear:BD,category:zD,piecewise:function(e,t){var n=UD.call(this,t);return null==n&&(n=BD.call(this,e)),n},fixed:VD}},symbolSize:{applyVisual:FD(\"symbolSize\"),_normalizedToVisual:HD([0,1])}},e}();function RD(e,t){var n=e.visual,r=[];ce(n)?jD(n,(function(e){r.push(e)})):null!=n&&r.push(n),t||1!==r.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(r[1]=r[0]),GD(e,r)}function ZD(e){return{applyVisual:function(t,n,r){var i=this.mapValueToVisual(t);r(\"color\",e(n(\"color\"),i))},_normalizedToVisual:HD([0,1])}}function BD(e){var t=this.option.visual;return t[Math.round(Eo(e,[0,1],[0,t.length-1],!0))]||{}}function FD(e){return function(t,n,r){r(e,this.mapValueToVisual(t))}}function zD(e){var t=this.option.visual;return t[this.option.loop&&-1!==e?e%t.length:e]}function VD(){return this.option.visual[0]}function HD(e){return{linear:function(t){return Eo(t,e,this.option.visual,!0)},category:zD,piecewise:function(t,n){var r=UD.call(this,n);return null==r&&(r=Eo(t,e,this.option.visual,!0)),r},fixed:VD}}function UD(e){var t=this.option,n=t.pieceList;if(t.hasSpecialVisual){var r=n[LD.findPieceIndex(e,n)];if(r&&r.visual)return r.visual[this.type]}}function GD(e,t){return e.visual=t,\"color\"===e.type&&(e.parsedVisual=X(t,(function(e){return yr(e)||[0,0,0,1]}))),t}var YD={linear:function(e){return Eo(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,n=LD.findPieceIndex(e,t,!0);if(null!=n)return Eo(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?-1:t},fixed:ke};function WD(e,t,n){return e?t<=n:t<n}const KD=LD;var qD=pa();const QD={seriesType:\"treemap\",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||XD(t,{},e.getViewRoot().getAncestors(),e)}};function XD(e,t,n,r){var i=e.getModel(),o=e.getLayout(),a=e.hostTree.data;if(o&&!o.invisible&&o.isInView){var s,l=i.getModel(\"itemStyle\"),c=function(e,t,n){var r=H({},t),i=n.designatedVisualItemStyle;return Q([\"color\",\"colorAlpha\",\"colorSaturation\"],(function(n){i[n]=t[n];var o=e.get(n);i[n]=null,null!=o&&(r[n]=o)})),r}(l,t,r),u=a.ensureUniqueItemVisual(e.dataIndex,\"style\"),d=l.get(\"borderColor\"),p=l.get(\"borderColorSaturation\");null!=p&&(d=function(e,t){return null!=t?Er(t,null,null,e):null}(p,s=JD(c))),u.stroke=d;var f=e.viewChildren;if(f&&f.length){var h=function(e,t,n,r,i,o){if(o&&o.length){var a=eI(t,\"color\")||null!=i.color&&\"none\"!==i.color&&(eI(t,\"colorAlpha\")||eI(t,\"colorSaturation\"));if(a){var s=t.get(\"visualMin\"),l=t.get(\"visualMax\"),c=n.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var u=t.get(\"colorMappingBy\"),d={type:a.name,dataExtent:c,visual:a.range};\"color\"!==d.type||\"index\"!==u&&\"id\"!==u?d.mappingMethod=\"linear\":(d.mappingMethod=\"category\",d.loop=!0);var p=new KD(d);return qD(p).drColorMappingBy=u,p}}}(0,i,o,0,c,f);Q(f,(function(e,t){if(e.depth>=n.length||e===n[e.depth]){var o=function(e,t,n,r,i,o){var a=H({},t);if(i){var s=i.type,l=\"color\"===s&&qD(i).drColorMappingBy,c=\"index\"===l?r:\"id\"===l?o.mapIdToIndex(n.getId()):n.getValue(e.get(\"visualDimension\"));a[s]=i.mapValueToVisual(c)}return a}(i,c,e,t,h,r);XD(e,o,n,r)}}))}else s=JD(c),u.fill=s}}function JD(e){var t=$D(e,\"color\");if(t){var n=$D(e,\"colorAlpha\"),r=$D(e,\"colorSaturation\");return r&&(t=Er(t,null,null,r)),n&&(t=Or(t,n)),t}}function $D(e,t){var n=e[t];if(null!=n&&\"none\"!==n)return n}function eI(e,t){var n=e.get(t);return ie(n)&&n.length?{name:t,range:n}:null}var tI=Math.max,nI=Math.min,rI=ve,iI=Q,oI=[\"itemStyle\",\"borderWidth\"],aI=[\"itemStyle\",\"gapWidth\"],sI=[\"upperLabel\",\"show\"],lI=[\"upperLabel\",\"height\"];const cI={seriesType:\"treemap\",reset:function(e,t,n,r){var i=n.getWidth(),o=n.getHeight(),a=e.option,s=Ad(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),l=a.size||[],c=Oo(rI(s.width,l[0]),i),u=Oo(rI(s.height,l[1]),o),d=r&&r.type,p=iD(r,[\"treemapZoomToNode\",\"treemapRootToNode\"],e),f=\"treemapRender\"===d||\"treemapMove\"===d?r.rootRect:null,h=e.getViewRoot(),m=oD(h);if(\"treemapMove\"!==d){var g=\"treemapZoomToNode\"===d?function(e,t,n,r,i){var o,a=(t||{}).node,s=[r,i];if(!a||a===n)return s;for(var l=r*i,c=l*e.option.zoomToNodeRatio;o=a.parentNode;){for(var u=0,d=o.children,p=0,f=d.length;p<f;p++)u+=d[p].getValue();var h=a.getValue();if(0===h)return s;c*=u/h;var m=o.getModel(),g=m.get(oI);(c+=4*g*g+(3*g+Math.max(g,hI(m)))*Math.pow(c,.5))>Lo&&(c=Lo),a=o}c<l&&(c=l);var v=Math.pow(c/l,.5);return[r*v,i*v]}(e,p,h,c,u):f?[f.width,f.height]:[c,u],v=a.sort;v&&\"asc\"!==v&&\"desc\"!==v&&(v=\"desc\");var y={squareRatio:a.squareRatio,sort:v,leafDepth:a.leafDepth};h.hostTree.clearLayouts();var b={x:0,y:0,width:g[0],height:g[1],area:g[0]*g[1]};h.setLayout(b),uI(h,y,!1,0),b=h.getLayout(),iI(m,(function(e,t){var n=(m[t+1]||h).getValue();e.setLayout(H({dataExtent:[n,n],borderWidth:0,upperHeight:0},b))}))}var S=e.getData().tree.root;S.setLayout(function(e,t,n){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!n)return r;var i=n.node,o=i.getLayout();if(!o)return r;for(var a=[o.width/2,o.height/2],s=i;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:e.width/2-a[0],y:e.height/2-a[1]}}(s,f,p),!0),e.setLayoutInfo(s),fI(S,new nn(-s.x,-s.y,i,o),m,h,0)}};function uI(e,t,n,r){var i,o;if(!e.isRemoved()){var a=e.getLayout();i=a.width,o=a.height;var s=e.getModel(),l=s.get(oI),c=s.get(aI)/2,u=hI(s),d=Math.max(l,u),p=l-c,f=d-c;e.setLayout({borderWidth:l,upperHeight:d,upperLabelHeight:u},!0);var h=(i=tI(i-2*p,0))*(o=tI(o-p-f,0)),m=function(e,t,n,r,i,o){var a=e.children||[],s=r.sort;\"asc\"!==s&&\"desc\"!==s&&(s=null);var l=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!l)return e.viewChildren=[];a=$(a,(function(e){return!e.isRemoved()})),function(e,t){t&&e.sort((function(e,n){var r=\"asc\"===t?e.getValue()-n.getValue():n.getValue()-e.getValue();return 0===r?\"asc\"===t?e.dataIndex-n.dataIndex:n.dataIndex-e.dataIndex:r}))}(a,s);var c=function(e,t,n){for(var r=0,i=0,o=t.length;i<o;i++)r+=t[i].getValue();var a,s=e.get(\"visualDimension\");return t&&t.length?\"value\"===s&&n?(a=[t[t.length-1].getValue(),t[0].getValue()],\"asc\"===n&&a.reverse()):(a=[1/0,-1/0],iI(t,(function(e){var t=e.getValue(s);t<a[0]&&(a[0]=t),t>a[1]&&(a[1]=t)}))):a=[NaN,NaN],{sum:r,dataExtent:a}}(t,a,s);if(0===c.sum)return e.viewChildren=[];if(c.sum=function(e,t,n,r,i){if(!r)return n;for(var o=e.get(\"visibleMin\"),a=i.length,s=a,l=a-1;l>=0;l--){var c=i[\"asc\"===r?a-l-1:l].getValue();c/n*t<o&&(s=l,n-=c)}return\"asc\"===r?i.splice(0,a-s):i.splice(s,a-s),n}(t,n,c.sum,s,a),0===c.sum)return e.viewChildren=[];for(var u=0,d=a.length;u<d;u++){var p=a[u].getValue()/c.sum*n;a[u].setLayout({area:p})}return l&&(a.length&&e.setLayout({isLeafRoot:!0},!0),a.length=0),e.viewChildren=a,e.setLayout({dataExtent:c.dataExtent},!0),a}(e,s,h,t,n,r);if(m.length){var g={x:p,y:f,width:i,height:o},v=nI(i,o),y=1/0,b=[];b.area=0;for(var S=0,x=m.length;S<x;){var w=m[S];b.push(w),b.area+=w.getLayout().area;var C=dI(b,v,t.squareRatio);C<=y?(S++,y=C):(b.area-=b.pop().getLayout().area,pI(b,v,g,c,!1),v=nI(g.width,g.height),b.length=b.area=0,y=1/0)}if(b.length&&pI(b,v,g,c,!0),!n){var T=s.get(\"childrenVisibleMin\");null!=T&&h<T&&(n=!0)}for(S=0,x=m.length;S<x;S++)uI(m[S],t,n,r+1)}}}function dI(e,t,n){for(var r=0,i=1/0,o=0,a=void 0,s=e.length;o<s;o++)(a=e[o].getLayout().area)&&(a<i&&(i=a),a>r&&(r=a));var l=e.area*e.area,c=t*t*n;return l?tI(c*r/l,l/(c*i)):1/0}function pI(e,t,n,r,i){var o=t===n.width?0:1,a=1-o,s=[\"x\",\"y\"],l=[\"width\",\"height\"],c=n[s[o]],u=t?e.area/t:0;(i||u>n[l[a]])&&(u=n[l[a]]);for(var d=0,p=e.length;d<p;d++){var f=e[d],h={},m=u?f.getLayout().area/u:0,g=h[l[a]]=tI(u-2*r,0),v=n[s[o]]+n[l[o]]-c,y=d===p-1||v<m?v:m,b=h[l[o]]=tI(y-2*r,0);h[s[a]]=n[s[a]]+nI(r,g/2),h[s[o]]=c+nI(r,b/2),c+=y,f.setLayout(h,!0)}n[s[a]]+=u,n[l[a]]-=u}function fI(e,t,n,r,i){var o=e.getLayout(),a=n[i],s=a&&a===e;if(!(a&&!s||i===n.length&&e!==r)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(o),isAboveViewRoot:s},!0);var l=new nn(t.x-o.x,t.y-o.y,t.width,t.height);iI(e.viewChildren||[],(function(e){fI(e,l,n,r,i+1)}))}}function hI(e){return e.get(sI)?e.get(lI):0}function mI(e){var t=e.findComponents({mainType:\"legend\"});t&&t.length&&e.eachSeriesByType(\"graph\",(function(e){var n=e.getCategoriesData(),r=e.getGraph().data,i=n.mapArray(n.getName);r.filterSelf((function(e){var n=r.getItemModel(e).getShallow(\"category\");if(null!=n){le(n)&&(n=i[n]);for(var o=0;o<t.length;o++)if(!t[o].isSelected(n))return!1}return!0}))}))}function gI(e){var t={};e.eachSeriesByType(\"graph\",(function(e){var n=e.getCategoriesData(),r=e.getData(),i={};n.each((function(r){var o=n.getName(r);i[\"ec-\"+o]=r;var a=n.getItemModel(r),s=a.getModel(\"itemStyle\").getItemStyle();s.fill||(s.fill=e.getColorFromPalette(o,t)),n.setItemVisual(r,\"style\",s);for(var l=[\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],c=0;c<l.length;c++){var u=a.getShallow(l[c],!0);null!=u&&n.setItemVisual(r,l[c],u)}})),n.count()&&r.each((function(e){var t=r.getItemModel(e).getShallow(\"category\");if(null!=t){ae(t)&&(t=i[\"ec-\"+t]);var o=n.getItemVisual(t,\"style\");H(r.ensureUniqueItemVisual(e,\"style\"),o);for(var a=[\"symbol\",\"symbolSize\",\"symbolKeepAspect\"],s=0;s<a.length;s++)r.setItemVisual(e,a[s],n.getItemVisual(t,a[s]))}}))}))}function vI(e){return e instanceof Array||(e=[e,e]),e}function yI(e){e.eachSeriesByType(\"graph\",(function(e){var t=e.getGraph(),n=e.getEdgeData(),r=vI(e.get(\"edgeSymbol\")),i=vI(e.get(\"edgeSymbolSize\"));n.setVisual(\"fromSymbol\",r&&r[0]),n.setVisual(\"toSymbol\",r&&r[1]),n.setVisual(\"fromSymbolSize\",i&&i[0]),n.setVisual(\"toSymbolSize\",i&&i[1]),n.setVisual(\"style\",e.getModel(\"lineStyle\").getLineStyle()),n.each((function(e){var r=n.getItemModel(e),i=t.getEdgeByIndex(e),o=vI(r.getShallow(\"symbol\",!0)),a=vI(r.getShallow(\"symbolSize\",!0)),s=r.getModel(\"lineStyle\").getLineStyle(),l=n.ensureUniqueItemVisual(e,\"style\");switch(H(l,s),l.stroke){case\"source\":var c=i.node1.getVisual(\"style\");l.stroke=c&&c.fill;break;case\"target\":c=i.node2.getVisual(\"style\"),l.stroke=c&&c.fill}o[0]&&i.setVisual(\"fromSymbol\",o[0]),o[1]&&i.setVisual(\"toSymbol\",o[1]),a[0]&&i.setVisual(\"fromSymbolSize\",a[0]),a[1]&&i.setVisual(\"toSymbolSize\",a[1])}))}))}var bI=\"--\\x3e\",SI=function(e){return e.get(\"autoCurveness\")||null},xI=function(e,t){var n=SI(e),r=20,i=[];if(le(n))r=n;else if(ie(n))return void(e.__curvenessList=n);t>r&&(r=t);var o=r%2?r+2:r+3;i=[];for(var a=0;a<o;a++)i.push((a%2?a+1:a)/10*(a%2?-1:1));e.__curvenessList=i},wI=function(e,t,n){var r=[e.id,e.dataIndex].join(\".\"),i=[t.id,t.dataIndex].join(\".\");return[n.uid,r,i].join(bI)},CI=function(e){var t=e.split(bI);return[t[0],t[2],t[1]].join(bI)},TI=function(e,t){var n=t.__edgeMap;return n[e]?n[e].length:0};function AI(e,t,n,r){var i=SI(t),o=ie(i);if(!i)return null;var a=function(e,t){var n=wI(e.node1,e.node2,t);return t.__edgeMap[n]}(e,t);if(!a)return null;for(var s=-1,l=0;l<a.length;l++)if(a[l]===n){s=l;break}var c=function(e,t){return TI(wI(e.node1,e.node2,t),t)+TI(wI(e.node2,e.node1,t),t)}(e,t);xI(t,c),e.lineStyle=e.lineStyle||{};var u=wI(e.node1,e.node2,t),d=t.__curvenessList,p=o||c%2?0:1;if(a.isForward)return d[p+s];var f=CI(u),h=TI(f,t),m=d[s+h+p];return r?o?i&&0===i[0]?(h+p)%2?m:-m:((h%2?0:1)+p)%2?m:-m:(h+p)%2?m:-m:d[s+h+p]}function EI(e){var t=e.coordinateSystem;if(!t||\"view\"===t.type){var n=e.getGraph();n.eachNode((function(e){var t=e.getModel();e.setLayout([+t.get(\"x\"),+t.get(\"y\")])})),OI(n,e)}}function OI(e,t){e.eachEdge((function(e,n){var r=be(e.getModel().get([\"lineStyle\",\"curveness\"]),-AI(e,t,n,!0),0),i=Be(e.node1.getLayout()),o=Be(e.node2.getLayout()),a=[i,o];+r&&a.push([(i[0]+o[0])/2-(i[1]-o[1])*r,(i[1]+o[1])/2-(o[0]-i[0])*r]),e.setLayout(a)}))}function MI(e,t){e.eachSeriesByType(\"graph\",(function(e){var t=e.get(\"layout\"),n=e.coordinateSystem;if(n&&\"view\"!==n.type){var r=e.getData(),i=[];Q(n.dimensions,(function(e){i=i.concat(r.mapDimensionsAll(e))}));for(var o=0;o<r.count();o++){for(var a=[],s=!1,l=0;l<i.length;l++){var c=r.get(i[l],o);isNaN(c)||(s=!0),a.push(c)}s?r.setItemLayout(o,n.dataToPoint(a)):r.setItemLayout(o,[NaN,NaN])}OI(r.graph,e)}else t&&\"none\"!==t||EI(e)}))}function PI(e){var t=e.coordinateSystem;if(\"view\"!==t.type)return 1;var n=e.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*n+1)/r}function DI(e){var t=e.getVisual(\"symbolSize\");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var II=Math.PI,NI=[];function _I(e,t,n,r){var i=e.coordinateSystem;if(!i||\"view\"===i.type){var o=i.getBoundingRect(),a=e.getData(),s=a.graph,l=o.width/2+o.x,c=o.height/2+o.y,u=Math.min(o.width,o.height)/2,d=a.count();if(a.setLayout({cx:l,cy:c}),d){if(n){var p=i.pointToData(r),f=p[0],h=p[1],m=[f-l,h-c];Je(m,m),Xe(m,m,u),n.setLayout([l+m[0],c+m[1]],!0),kI(n,e.get([\"circular\",\"rotateLabel\"]),l,c)}jI[t](e,s,a,u,l,c,d),s.eachEdge((function(t,n){var r,i=be(t.getModel().get([\"lineStyle\",\"curveness\"]),AI(t,e,n),0),o=Be(t.node1.getLayout()),a=Be(t.node2.getLayout()),s=(o[0]+a[0])/2,u=(o[1]+a[1])/2;+i&&(r=[l*(i*=3)+s*(1-i),c*i+u*(1-i)]),t.setLayout([o,a,r])}))}}}var jI={value:function(e,t,n,r,i,o,a){var s=0,l=n.getSum(\"value\"),c=2*Math.PI/(l||a);t.eachNode((function(e){var t=e.getValue(\"value\"),n=c*(l?t:1)/2;s+=n,e.setLayout([r*Math.cos(s)+i,r*Math.sin(s)+o]),s+=n}))},symbolSize:function(e,t,n,r,i,o,a){var s=0;NI.length=a;var l=PI(e);t.eachNode((function(e){var t=DI(e);isNaN(t)&&(t=2),t<0&&(t=0),t*=l;var n=Math.asin(t/2/r);isNaN(n)&&(n=II/2),NI[e.dataIndex]=n,s+=2*n}));var c=(2*II-s)/a/2,u=0;t.eachNode((function(e){var t=c+NI[e.dataIndex];u+=t,(!e.getLayout()||!e.getLayout().fixed)&&e.setLayout([r*Math.cos(u)+i,r*Math.sin(u)+o]),u+=t}))}};function kI(e,t,n,r){var i=e.getGraphicEl();if(i){var o=e.getModel().get([\"label\",\"rotate\"])||0,a=i.getSymbolPath();if(t){var s=e.getLayout(),l=Math.atan2(s[1]-r,s[0]-n);l<0&&(l=2*Math.PI+l);var c=s[0]<n;c&&(l-=Math.PI);var u=c?\"left\":\"right\";a.setTextConfig({rotation:-l,position:u,origin:\"center\"});var d=a.ensureState(\"emphasis\");H(d.textConfig||(d.textConfig={}),{position:u})}else a.setTextConfig({rotation:o*=Math.PI/180})}}function LI(e){e.eachSeriesByType(\"graph\",(function(e){\"circular\"===e.get(\"layout\")&&_I(e,\"symbolSize\")}))}var RI=Ve;function ZI(e){e.eachSeriesByType(\"graph\",(function(e){var t=e.coordinateSystem;if(!t||\"view\"===t.type)if(\"force\"===e.get(\"layout\")){var n=e.preservedPoints||{},r=e.getGraph(),i=r.data,o=r.edgeData,a=e.getModel(\"force\"),s=a.get(\"initLayout\");e.preservedPoints?i.each((function(e){var t=i.getId(e);i.setItemLayout(e,n[t]||[NaN,NaN])})):s&&\"none\"!==s?\"circular\"===s&&_I(e,\"value\"):EI(e);var l=i.getDataExtent(\"value\"),c=o.getDataExtent(\"value\"),u=a.get(\"repulsion\"),d=a.get(\"edgeLength\"),p=ie(u)?u:[u,u],f=ie(d)?d:[d,d];f=[f[1],f[0]];var h=i.mapArray(\"value\",(function(e,t){var n=i.getItemLayout(t),r=Eo(e,l,p);return isNaN(r)&&(r=(p[0]+p[1])/2),{w:r,rep:r,fixed:i.getItemModel(t).get(\"fixed\"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=o.mapArray(\"value\",(function(t,n){var i=r.getEdgeByIndex(n),o=Eo(t,c,f);isNaN(o)&&(o=(f[0]+f[1])/2);var a=i.getModel(),s=be(i.getModel().get([\"lineStyle\",\"curveness\"]),-AI(i,e,n,!0),0);return{n1:h[i.node1.dataIndex],n2:h[i.node2.dataIndex],d:o,curveness:s,ignoreForceLayout:a.get(\"ignoreForceLayout\")}})),g=t.getBoundingRect(),v=function(e,t,n){for(var r=e,i=t,o=n.rect,a=o.width,s=o.height,l=[o.x+a/2,o.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<r.length;u++){var d=r[u];d.p||(d.p=Re(a*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Be(d.p),d.edges=null}var p,f,h=null==n.friction?.6:n.friction,m=h;return{warmUp:function(){m=.8*h},setFixed:function(e){r[e].fixed=!0},setUnfixed:function(e){r[e].fixed=!1},beforeStep:function(e){p=e},afterStep:function(e){f=e},step:function(e){p&&p(r,i);for(var t=[],n=r.length,o=0;o<i.length;o++){var a=i[o];if(!a.ignoreForceLayout){var s=a.n1;He(t,(g=a.n2).p,s.p);var u=Ue(t)-a.d,d=g.w/(s.w+g.w);isNaN(d)&&(d=0),Je(t,t),!s.fixed&&RI(s.p,s.p,t,d*u*m),!g.fixed&&RI(g.p,g.p,t,-(1-d)*u*m)}}for(o=0;o<n;o++)(b=r[o]).fixed||(He(t,l,b.p),RI(b.p,b.p,t,c*m));for(o=0;o<n;o++){s=r[o];for(var h=o+1;h<n;h++){var g;He(t,(g=r[h]).p,s.p),0===(u=Ue(t))&&(Fe(t,Math.random()-.5,Math.random()-.5),u=1);var v=(s.rep+g.rep)/u/u;!s.fixed&&RI(s.pp,s.pp,t,v),!g.fixed&&RI(g.pp,g.pp,t,-v)}}var y=[];for(o=0;o<n;o++){var b;(b=r[o]).fixed||(He(y,b.p,b.pp),RI(b.p,b.p,y,m),Ze(b.pp,b.p))}var S=(m*=.992)<.01;f&&f(r,i,S),e&&e(S)}}}(h,m,{rect:g,gravity:a.get(\"gravity\"),friction:a.get(\"friction\")});v.beforeStep((function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].fixed&&Ze(e[n].p,r.getNodeByIndex(n).getLayout())})),v.afterStep((function(e,t,o){for(var a=0,s=e.length;a<s;a++)e[a].fixed||r.getNodeByIndex(a).setLayout(e[a].p),n[i.getId(a)]=e[a].p;for(a=0,s=t.length;a<s;a++){var l=t[a],c=r.getEdgeByIndex(a),u=l.n1.p,d=l.n2.p,p=c.getLayout();(p=p?p.slice():[])[0]=p[0]||[],p[1]=p[1]||[],Ze(p[0],u),Ze(p[1],d),+l.curveness&&(p[2]=[(u[0]+d[0])/2-(u[1]-d[1])*l.curveness,(u[1]+d[1])/2-(d[0]-u[0])*l.curveness]),c.setLayout(p)}})),e.forceLayout=v,e.preservedPoints=n,v.step()}else e.forceLayout=null}))}function BI(e,t){var n=[];return e.eachSeriesByType(\"graph\",(function(e){var r=e.get(\"coordinateSystem\");if(!r||\"view\"===r){var i=e.getData(),o=[],a=[];hs(i.mapArray((function(e){var t=i.getItemModel(e);return[+t.get(\"x\"),+t.get(\"y\")]})),o,a),a[0]-o[0]==0&&(a[0]+=1,o[0]-=1),a[1]-o[1]==0&&(a[1]+=1,o[1]-=1);var s=(a[0]-o[0])/(a[1]-o[1]),l=function(e,t,n){return Ad(H(e.getBoxLayoutParams(),{aspect:n}),{width:t.getWidth(),height:t.getHeight()})}(e,t,s);isNaN(s)&&(o=[l.x,l.y],a=[l.x+l.width,l.y+l.height]);var c=a[0]-o[0],u=a[1]-o[1],d=l.width,p=l.height,f=e.coordinateSystem=new uP;f.zoomLimit=e.get(\"scaleLimit\"),f.setBoundingRect(o[0],o[1],c,u),f.setViewRect(l.x,l.y,d,p),f.setCenter(e.get(\"center\"),t),f.setZoom(e.get(\"zoom\")),n.push(f)}})),n}var FI,zI=Im.prototype,VI=Lm.prototype,HI=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function UI(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}FI=HI,(0,m.ZT)((function(){return null!==FI&&FI.apply(this,arguments)||this}),FI);const GI=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"ec-line\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},t.prototype.getDefaultShape=function(){return new HI},t.prototype.buildPath=function(e,t){UI(t)?zI.buildPath.call(this,e,t):VI.buildPath.call(this,e,t)},t.prototype.pointAt=function(e){return UI(this.shape)?zI.pointAt.call(this,e):VI.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var t=this.shape,n=UI(t)?[t.x2-t.x1,t.y2-t.y1]:VI.tangentAt.call(this,e);return Je(n,n)},t}(sl);var YI=[\"fromSymbol\",\"toSymbol\"];function WI(e){return\"_\"+e+\"Type\"}function KI(e,t,n){var r=t.getItemVisual(n,e);if(!r||\"none\"===r)return r;var i=t.getItemVisual(n,e+\"Size\"),o=t.getItemVisual(n,e+\"Rotate\"),a=t.getItemVisual(n,e+\"Offset\"),s=t.getItemVisual(n,e+\"KeepAspect\"),l=qv(i);return r+l+Qv(a||0,l)+(o||\"\")+(s||\"\")}function qI(e,t,n){var r=t.getItemVisual(n,e);if(r&&\"none\"!==r){var i=t.getItemVisual(n,e+\"Size\"),o=t.getItemVisual(n,e+\"Rotate\"),a=t.getItemVisual(n,e+\"Offset\"),s=t.getItemVisual(n,e+\"KeepAspect\"),l=qv(i),c=Qv(a||0,l),u=Kv(r,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,u.name=e,u}}function QI(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var n=t[2];n?(e.cpx1=n[0],e.cpy1=n[1]):(e.cpx1=NaN,e.cpy1=NaN)}var XI=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createLine(t,n,r),i}return(0,m.ZT)(t,e),t.prototype._createLine=function(e,t,n){var r=e.hostModel,i=function(e){var t=new GI({name:\"line\",subPixelOptimize:!0});return QI(t.shape,e),t}(e.getItemLayout(t));i.shape.percent=0,Vc(i,{shape:{percent:1}},r,t),this.add(i),Q(YI,(function(n){var r=qI(n,e,t);this.add(r),this[WI(n)]=KI(n,e,t)}),this),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel,i=this.childOfName(\"line\"),o=e.getItemLayout(t),a={shape:{}};QI(a.shape,o),zc(i,a,r,t),Q(YI,(function(n){var r=KI(n,e,t),i=WI(n);if(this[i]!==r){this.remove(this.childOfName(n));var o=qI(n,e,t);this.add(o)}this[i]=r}),this),this._updateCommonStl(e,t,n)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,t,n){var r=e.hostModel,i=this.childOfName(\"line\"),o=n&&n.emphasisLineStyle,a=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels,c=n&&n.emphasisDisabled,u=n&&n.focus,d=n&&n.blurScope;if(!n||e.hasItemOption){var p=e.getItemModel(t),f=p.getModel(\"emphasis\");o=f.getModel(\"lineStyle\").getLineStyle(),a=p.getModel([\"blur\",\"lineStyle\"]).getLineStyle(),s=p.getModel([\"select\",\"lineStyle\"]).getLineStyle(),c=f.get(\"disabled\"),u=f.get(\"focus\"),d=f.get(\"blurScope\"),l=Jc(p)}var h=e.getItemVisual(t,\"style\"),m=h.stroke;i.useStyle(h),i.style.fill=null,i.style.strokeNoScale=!0,i.ensureState(\"emphasis\").style=o,i.ensureState(\"blur\").style=a,i.ensureState(\"select\").style=s,Q(YI,(function(e){var t=this.childOfName(e);if(t){t.setColor(m),t.style.opacity=h.opacity;for(var n=0;n<Gl.length;n++){var r=Gl[n],o=i.getState(r);if(o){var a=o.style||{},s=t.ensureState(r),l=s.style||(s.style={});null!=a.stroke&&(l[t.__isEmptyBrush?\"stroke\":\"fill\"]=a.stroke),null!=a.opacity&&(l.opacity=a.opacity)}}t.markRedraw()}}),this);var g=r.getRawValue(t);Xc(this,l,{labelDataIndex:t,labelFetcher:{getFormattedLabel:function(t,n){return r.getFormattedLabel(t,n,e.dataType)}},inheritColor:m||\"#000\",defaultOpacity:h.opacity,defaultText:(null==g?e.getName(t):isFinite(g)?Mo(g):g)+\"\"});var v=this.getTextContent();if(v){var y=l.normal;v.__align=v.style.align,v.__verticalAlign=v.style.verticalAlign,v.__position=y.get(\"position\")||\"middle\";var b=y.get(\"distance\");ie(b)||(b=[b,b]),v.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Pc(this,u,d,c)},t.prototype.highlight=function(){mc(this)},t.prototype.downplay=function(){gc(this)},t.prototype.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))},t.prototype.setLinePoints=function(e){var t=this.childOfName(\"line\");QI(t.shape,e),t.dirty()},t.prototype.beforeUpdate=function(){var e=this,t=e.childOfName(\"fromSymbol\"),n=e.childOfName(\"toSymbol\"),r=e.getTextContent();if(t||n||r&&!r.ignore){for(var i=1,o=this.parent;o;)o.scaleX&&(i/=o.scaleX),o=o.parent;var a=e.childOfName(\"line\");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),c=a.pointAt(s),u=He([],c,l);if(Je(u,u),t&&(t.setPosition(l),C(t,0),t.scaleX=t.scaleY=i*s,t.markRedraw()),n&&(n.setPosition(c),C(n,1),n.scaleX=n.scaleY=i*s,n.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var d=void 0,p=void 0,f=r.__labelDistance,h=f[0]*i,m=f[1]*i,g=s/2,v=a.tangentAt(g),y=[v[1],-v[0]],b=a.pointAt(g);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var S=v[0]<0?-1:1;if(\"start\"!==r.__position&&\"end\"!==r.__position){var x=-Math.atan2(v[1],v[0]);c[0]<l[0]&&(x=Math.PI+x),r.rotation=x}var w=void 0;switch(r.__position){case\"insideStartTop\":case\"insideMiddleTop\":case\"insideEndTop\":case\"middle\":w=-m,p=\"bottom\";break;case\"insideStartBottom\":case\"insideMiddleBottom\":case\"insideEndBottom\":w=m,p=\"top\";break;default:w=0,p=\"middle\"}switch(r.__position){case\"end\":r.x=u[0]*h+c[0],r.y=u[1]*m+c[1],d=u[0]>.8?\"left\":u[0]<-.8?\"right\":\"center\",p=u[1]>.8?\"top\":u[1]<-.8?\"bottom\":\"middle\";break;case\"start\":r.x=-u[0]*h+l[0],r.y=-u[1]*m+l[1],d=u[0]>.8?\"right\":u[0]<-.8?\"left\":\"center\",p=u[1]>.8?\"bottom\":u[1]<-.8?\"top\":\"middle\";break;case\"insideStartTop\":case\"insideStart\":case\"insideStartBottom\":r.x=h*S+l[0],r.y=l[1]+w,d=v[0]<0?\"right\":\"left\",r.originX=-h*S,r.originY=-w;break;case\"insideMiddleTop\":case\"insideMiddle\":case\"insideMiddleBottom\":case\"middle\":r.x=b[0],r.y=b[1]+w,d=\"center\",r.originY=-w;break;case\"insideEndTop\":case\"insideEnd\":case\"insideEndBottom\":r.x=-h*S+c[0],r.y=c[1]+w,d=v[0]>=0?\"right\":\"left\",r.originX=h*S,r.originY=-w}r.scaleX=r.scaleY=i,r.setStyle({verticalAlign:r.__verticalAlign||p,align:r.__align||d})}}}function C(e,t){var n=e.__specifiedRotation;if(null==n){var r=a.tangentAt(t);e.attr(\"rotation\",(1===t?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else e.attr(\"rotation\",n)}},t}(uo);const JI=XI;function $I(e){var t=e.hostModel,n=t.getModel(\"emphasis\");return{lineStyle:t.getModel(\"lineStyle\").getLineStyle(),emphasisLineStyle:n.getModel([\"lineStyle\"]).getLineStyle(),blurLineStyle:t.getModel([\"blur\",\"lineStyle\"]).getLineStyle(),selectLineStyle:t.getModel([\"select\",\"lineStyle\"]).getLineStyle(),emphasisDisabled:n.get(\"disabled\"),blurScope:n.get(\"blurScope\"),focus:n.get(\"focus\"),labelStatesModels:Jc(t)}}function eN(e){return isNaN(e[0])||isNaN(e[1])}function tN(e){return e&&!eN(e[0])&&!eN(e[1])}const nN=function(){function e(e){this.group=new uo,this._LineCtor=e||JI}return e.prototype.updateData=function(e){var t=this;this._progressiveEls=null;var n=this,r=n.group,i=n._lineData;n._lineData=e,i||r.removeAll();var o=$I(e);e.diff(i).add((function(n){t._doAdd(e,n,o)})).update((function(n,r){t._doUpdate(i,e,r,n,o)})).remove((function(e){r.remove(i.getItemGraphicEl(e))})).execute()},e.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl((function(t,n){t.updateLayout(e,n)}),this)},e.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=$I(e),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(e,t){function n(e){e.isGroup||function(e){return e.animators&&e.animators.length>0}(e)||(e.incremental=!0,e.ensureState(\"emphasis\").hoverLayer=!0)}this._progressiveEls=[];for(var r=e.start;r<e.end;r++)if(tN(t.getItemLayout(r))){var i=new this._LineCtor(t,r,this._seriesScope);i.traverse(n),this.group.add(i),t.setItemGraphicEl(r,i),this._progressiveEls.push(i)}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},e.prototype._doAdd=function(e,t,n){if(tN(e.getItemLayout(t))){var r=new this._LineCtor(e,t,n);e.setItemGraphicEl(t,r),this.group.add(r)}},e.prototype._doUpdate=function(e,t,n,r,i){var o=e.getItemGraphicEl(n);tN(t.getItemLayout(r))?(o?o.updateData(t,r,i):o=new this._LineCtor(t,r,i),t.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},e}();var rN=[],iN=[],oN=[],aN=Wn,sN=nt,lN=Math.abs;function cN(e,t,n){for(var r,i=e[0],o=e[1],a=e[2],s=1/0,l=n*n,c=.1,u=.1;u<=.9;u+=.1)rN[0]=aN(i[0],o[0],a[0],u),rN[1]=aN(i[1],o[1],a[1],u),(f=lN(sN(rN,t)-l))<s&&(s=f,r=u);for(var d=0;d<32;d++){var p=r+c;iN[0]=aN(i[0],o[0],a[0],r),iN[1]=aN(i[1],o[1],a[1],r),oN[0]=aN(i[0],o[0],a[0],p),oN[1]=aN(i[1],o[1],a[1],p);var f=sN(iN,t)-l;if(lN(f)<.01)break;var h=sN(oN,t)-l;c/=2,f<0?h>=0?r+=c:r-=c:h>=0?r-=c:r+=c}return r}function uN(e,t){var n=[],r=Qn,i=[[],[],[]],o=[[],[]],a=[];t/=2,e.eachEdge((function(e,s){var l=e.getLayout(),c=e.getVisual(\"fromSymbol\"),u=e.getVisual(\"toSymbol\");l.__original||(l.__original=[Be(l[0]),Be(l[1])],l[2]&&l.__original.push(Be(l[2])));var d=l.__original;if(null!=l[2]){if(Ze(i[0],d[0]),Ze(i[1],d[2]),Ze(i[2],d[1]),c&&\"none\"!==c){var p=DI(e.node1),f=cN(i,d[0],p*t);r(i[0][0],i[1][0],i[2][0],f,n),i[0][0]=n[3],i[1][0]=n[4],r(i[0][1],i[1][1],i[2][1],f,n),i[0][1]=n[3],i[1][1]=n[4]}u&&\"none\"!==u&&(p=DI(e.node2),f=cN(i,d[1],p*t),r(i[0][0],i[1][0],i[2][0],f,n),i[1][0]=n[1],i[2][0]=n[2],r(i[0][1],i[1][1],i[2][1],f,n),i[1][1]=n[1],i[2][1]=n[2]),Ze(l[0],i[0]),Ze(l[1],i[2]),Ze(l[2],i[1])}else Ze(o[0],d[0]),Ze(o[1],d[1]),He(a,o[1],o[0]),Je(a,a),c&&\"none\"!==c&&(p=DI(e.node1),Ve(o[0],o[0],a,p*t)),u&&\"none\"!==u&&(p=DI(e.node2),Ve(o[1],o[1],a,-p*t)),Ze(l[0],o[0]),Ze(l[1],o[1])}))}function dN(e){return\"view\"===e.type}var pN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(e,t){var n=new eA,r=new nN,i=this.group;this._controller=new $O(t.getZr()),this._controllerHost={target:i},i.add(n.group),i.add(r.group),this._symbolDraw=n,this._lineDraw=r,this._firstRender=!0},t.prototype.render=function(e,t,n){var r=this,i=e.coordinateSystem;this._model=e;var o=this._symbolDraw,a=this._lineDraw,s=this.group;if(dN(i)){var l={x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY};this._firstRender?s.attr(l):zc(s,l,e)}uN(e.getGraph(),PI(e));var c=e.getData();o.updateData(c);var u=e.getEdgeData();a.updateData(u),this._updateNodeAndLinkScale(),this._updateController(e,t,n),clearTimeout(this._layoutTimeout);var d=e.forceLayout,p=e.get([\"force\",\"layoutAnimation\"]);d&&this._startForceLayoutIteration(d,p);var f=e.get(\"layout\");c.graph.eachNode((function(t){var n=t.dataIndex,i=t.getGraphicEl(),o=t.getModel();if(i){i.off(\"drag\").off(\"dragend\");var a=o.get(\"draggable\");a&&i.on(\"drag\",(function(o){switch(f){case\"force\":d.warmUp(),!r._layouting&&r._startForceLayoutIteration(d,p),d.setFixed(n),c.setItemLayout(n,[i.x,i.y]);break;case\"circular\":c.setItemLayout(n,[i.x,i.y]),t.setLayout({fixed:!0},!0),_I(e,\"symbolSize\",t,[o.offsetX,o.offsetY]),r.updateLayout(e);break;default:c.setItemLayout(n,[i.x,i.y]),OI(e.getGraph(),e),r.updateLayout(e)}})).on(\"dragend\",(function(){d&&d.setUnfixed(n)})),i.setDraggable(a,!!o.get(\"cursor\")),\"adjacency\"===o.get([\"emphasis\",\"focus\"])&&(Bl(i).focus=t.getAdjacentDataIndices())}})),c.graph.eachEdge((function(e){var t=e.getGraphicEl(),n=e.getModel().get([\"emphasis\",\"focus\"]);t&&\"adjacency\"===n&&(Bl(t).focus={edge:[e.dataIndex],node:[e.node1.dataIndex,e.node2.dataIndex]})}));var h=\"circular\"===e.get(\"layout\")&&e.get([\"circular\",\"rotateLabel\"]),m=c.getLayout(\"cx\"),g=c.getLayout(\"cy\");c.graph.eachNode((function(e){kI(e,h,m,g)})),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,t){var n=this;!function r(){e.step((function(e){n.updateLayout(n._model),(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(r,16):r())}))}()},t.prototype._updateController=function(e,t,n){var r=this,i=this._controller,o=this._controllerHost,a=this.group;i.setPointerChecker((function(t,r,i){var o=a.getBoundingRect();return o.applyTransform(a.transform),o.contain(r,i)&&!iM(t,n,e)})),dN(e.coordinateSystem)?(i.enable(e.get(\"roam\")),o.zoomLimit=e.get(\"scaleLimit\"),o.zoom=e.coordinateSystem.getZoom(),i.off(\"pan\").off(\"zoom\").on(\"pan\",(function(t){eM(o,t.dx,t.dy),n.dispatchAction({seriesId:e.id,type:\"graphRoam\",dx:t.dx,dy:t.dy})})).on(\"zoom\",(function(t){tM(o,t.scale,t.originX,t.originY),n.dispatchAction({seriesId:e.id,type:\"graphRoam\",zoom:t.scale,originX:t.originX,originY:t.originY}),r._updateNodeAndLinkScale(),uN(e.getGraph(),PI(e)),r._lineDraw.updateLayout(),n.updateLabelLayout()}))):i.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,t=e.getData(),n=PI(e);t.eachItemGraphicEl((function(e,t){e&&e.setSymbolScale(n)}))},t.prototype.updateLayout=function(e){uN(e.getGraph(),PI(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type=\"graph\",t}(Zg);const fN=pN;function hN(e){return\"_EC_\"+e}var mN=function(){function e(e){this.type=\"graph\",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(e,t){e=null==e?\"\"+t:\"\"+e;var n=this._nodesMap;if(!n[hN(e)]){var r=new gN(e,t);return r.hostGraph=this,this.nodes.push(r),n[hN(e)]=r,r}},e.prototype.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]},e.prototype.getNodeById=function(e){return this._nodesMap[hN(e)]},e.prototype.addEdge=function(e,t,n){var r=this._nodesMap,i=this._edgesMap;if(le(e)&&(e=this.nodes[e]),le(t)&&(t=this.nodes[t]),e instanceof gN||(e=r[hN(e)]),t instanceof gN||(t=r[hN(t)]),e&&t){var o=e.id+\"-\"+t.id,a=new vN(e,t,n);return a.hostGraph=this,this._directed&&(e.outEdges.push(a),t.inEdges.push(a)),e.edges.push(a),e!==t&&t.edges.push(a),this.edges.push(a),i[o]=a,a}},e.prototype.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]},e.prototype.getEdge=function(e,t){e instanceof gN&&(e=e.id),t instanceof gN&&(t=t.id);var n=this._edgesMap;return this._directed?n[e+\"-\"+t]:n[e+\"-\"+t]||n[t+\"-\"+e]},e.prototype.eachNode=function(e,t){for(var n=this.nodes,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&e.call(t,n[i],i)},e.prototype.eachEdge=function(e,t){for(var n=this.edges,r=n.length,i=0;i<r;i++)n[i].dataIndex>=0&&n[i].node1.dataIndex>=0&&n[i].node2.dataIndex>=0&&e.call(t,n[i],i)},e.prototype.breadthFirstTraverse=function(e,t,n,r){if(t instanceof gN||(t=this._nodesMap[hN(t)]),t){for(var i=\"out\"===n?\"outEdges\":\"in\"===n?\"inEdges\":\"edges\",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!e.call(r,t,null))for(var a=[t];a.length;){var s=a.shift(),l=s[i];for(o=0;o<l.length;o++){var c=l[o],u=c.node1===s?c.node2:c.node1;if(!u.__visited){if(e.call(r,u,s))return;a.push(u),u.__visited=!0}}}}},e.prototype.update=function(){for(var e=this.data,t=this.edgeData,n=this.nodes,r=this.edges,i=0,o=n.length;i<o;i++)n[i].dataIndex=-1;for(i=0,o=e.count();i<o;i++)n[e.getRawIndex(i)].dataIndex=i;for(t.filterSelf((function(e){var n=r[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0})),i=0,o=r.length;i<o;i++)r[i].dataIndex=-1;for(i=0,o=t.count();i<o;i++)r[t.getRawIndex(i)].dataIndex=i},e.prototype.clone=function(){for(var t=new e(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)t.addNode(n[i].id,n[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},e}(),gN=function(){function e(e,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==e?\"\":e,this.dataIndex=null==t?-1:t}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(e.edge.push(n.dataIndex),e.node.push(n.node1.dataIndex,n.node2.dataIndex))}return e},e.prototype.getTrajectoryDataIndices=function(){for(var e=De(),t=De(),n=0;n<this.edges.length;n++){var r=this.edges[n];if(!(r.dataIndex<0)){e.set(r.dataIndex,!0);for(var i=[r.node1],o=[r.node2],a=0;a<i.length;){var s=i[a];a++,t.set(s.dataIndex,!0);for(var l=0;l<s.inEdges.length;l++)e.set(s.inEdges[l].dataIndex,!0),i.push(s.inEdges[l].node1)}for(a=0;a<o.length;){var c=o[a];for(a++,t.set(c.dataIndex,!0),l=0;l<c.outEdges.length;l++)e.set(c.outEdges[l].dataIndex,!0),o.push(c.outEdges[l].node2)}}}return{edge:e.keys(),node:t.keys()}},e}(),vN=function(){function e(e,t,n){this.dataIndex=-1,this.node1=e,this.node2=t,this.dataIndex=null==n?-1:n}return e.prototype.getModel=function(e){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(e)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var e=De(),t=De();e.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],i=0;i<n.length;){var o=n[i];i++,t.set(o.dataIndex,!0);for(var a=0;a<o.inEdges.length;a++)e.set(o.inEdges[a].dataIndex,!0),n.push(o.inEdges[a].node1)}for(i=0;i<r.length;){var s=r[i];for(i++,t.set(s.dataIndex,!0),a=0;a<s.outEdges.length;a++)e.set(s.outEdges[a].dataIndex,!0),r.push(s.outEdges[a].node2)}return{edge:e.keys(),node:t.keys()}},e}();function yN(e,t){return{getValue:function(n){var r=this[e][t];return r.getStore().get(r.getDimensionIndex(n||\"value\"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[e][t].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}K(gN,yN(\"hostGraph\",\"data\")),K(vN,yN(\"hostGraph\",\"edgeData\"));const bN=mN;function SN(e,t,n,r,i){for(var o=new bN(r),a=0;a<e.length;a++)o.addNode(ve(e[a].id,e[a].name,a),a);var s=[],l=[],c=0;for(a=0;a<t.length;a++){var u=t[a],d=u.source,p=u.target;o.addEdge(d,p,c)&&(l.push(u),s.push(ve(la(u.id,null),d+\" > \"+p)),c++)}var f,h=n.get(\"coordinateSystem\");if(\"cartesian2d\"===h||\"polar\"===h)f=HS(e,n);else{var m=yp.get(h),g=m&&m.dimensions||[];Y(g,\"value\")<0&&g.concat([\"value\"]);var v=kS(e,{coordDimensions:g,encodeDefine:n.getEncode()}).dimensions;(f=new _S(v,n)).initData(e)}var y=new _S([\"value\"],n);return y.initData(l,s),i&&i(f,y),eD({mainData:f,struct:o,structAt