tr:\"graph\",datas:{node:f,edge:y},datasAttr:{node:\"data\",edge:\"edgeData\"}}),o.update(),o}var xN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,m.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new yE(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),ta(t,\"edgeLabel\",[\"show\"])},t.prototype.getInitialData=function(e,t){var n,r=e.edges||e.links||[],i=e.data||e.nodes||[],o=this;if(i&&r){SI(n=this)&&(n.__curvenessList=[],n.__edgeMap={},xI(n));var a=SN(i,r,this,!0,(function(e,t){e.wrapMethod(\"getItemModel\",(function(e){var t=o._categoriesModels[e.getShallow(\"category\")];return t&&(t.parentModel=e.parentModel,e.parentModel=t),e}));var n=Cu.prototype.getModel;function r(e,t){var r=n.call(this,e,t);return r.resolveParentPath=i,r}function i(e){if(e&&(\"label\"===e[0]||\"label\"===e[1])){var t=e.slice();return\"label\"===e[0]?t[0]=\"edgeLabel\":\"label\"===e[1]&&(t[1]=\"edgeLabel\"),t}return e}t.wrapMethod(\"getItemModel\",(function(e){return e.resolveParentPath=i,e.getModel=r,e}))}));return Q(a.edges,(function(e){!function(e,t,n,r){if(SI(n)){var i=wI(e,t,n),o=n.__edgeMap,a=o[CI(i)];o[i]&&!a?o[i].isForward=!0:a&&o[i]&&(a.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(e.node1,e.node2,this,e.dataIndex)}),this),a.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,t,n){if(\"edge\"===n){var r=this.getData(),i=this.getDataParams(e,n),o=r.graph.getEdgeByIndex(e),a=r.getName(o.node1.dataIndex),s=r.getName(o.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),rh(\"nameValue\",{name:l.join(\" > \"),value:i.value,noValue:null==i.value})}return mh({series:this,dataIndex:e,multipleSeries:t})},t.prototype._updateCategoriesData=function(){var e=X(this.option.categories||[],(function(e){return null!=e.value?e:H({value:0},e)})),t=new _S([\"value\"],this);t.initData(e),this._categoriesData=t,this._categoriesModels=t.mapArray((function(e){return t.getItemModel(e)}))},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(\"force\"===this.get(\"layout\")&&this.get([\"force\",\"layoutAnimation\"]))},t.type=\"series.graph\",t.dependencies=[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],t.defaultOption={z:2,coordinateSystem:\"view\",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:\"center\",top:\"center\",symbol:\"circle\",symbolSize:10,edgeSymbol:[\"none\",\"none\"],edgeSymbolSize:10,edgeLabel:{position:\"middle\",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:\"{b}\"},itemStyle:{},lineStyle:{color:\"#aaa\",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:\"#212121\"}}},t}(Oh);const wN=xN;var CN={type:\"graphRoam\",event:\"graphRoam\",update:\"none\"},TN=function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},AN=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"pointer\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new TN},t.prototype.buildPath=function(e,t){var n=Math.cos,r=Math.sin,i=t.r,o=t.width,a=t.angle,s=t.x-n(a)*o*(o>=i/3?1:2),l=t.y-r(a)*o*(o>=i/3?1:2);a=t.angle-Math.PI/2,e.moveTo(s,l),e.lineTo(t.x+n(a)*o,t.y+r(a)*o),e.lineTo(t.x+n(t.angle)*i,t.y+r(t.angle)*i),e.lineTo(t.x-n(a)*o,t.y-r(a)*o),e.lineTo(s,l)},t}(sl);const EN=AN;function ON(e,t){var n=null==e?\"\":e+\"\";return t&&(ae(t)?n=t.replace(\"{value}\",n):oe(t)&&(n=t(e))),n}var MN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeAll();var r=e.get([\"axisLine\",\"lineStyle\",\"color\"]),i=function(e,t){var n=e.get(\"center\"),r=t.getWidth(),i=t.getHeight(),o=Math.min(r,i);return{cx:Oo(n[0],t.getWidth()),cy:Oo(n[1],t.getHeight()),r:Oo(e.get(\"radius\"),o/2)}}(e,n);this._renderMain(e,t,n,r,i),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,t,n,r,i){var o=this.group,a=e.get(\"clockwise\"),s=-e.get(\"startAngle\")/180*Math.PI,l=-e.get(\"endAngle\")/180*Math.PI,c=e.getModel(\"axisLine\"),u=c.get(\"roundCap\")?jA:vm,d=c.get(\"show\"),p=c.getModel(\"lineStyle\"),f=p.get(\"width\"),h=[s,l];Zs(h,!a);for(var m=(l=h[1])-(s=h[0]),g=s,v=[],y=0;d&&y<r.length;y++){var b=new u({shape:{startAngle:g,endAngle:l=s+m*Math.min(Math.max(r[y][0],0),1),cx:i.cx,cy:i.cy,clockwise:a,r0:i.r-f,r:i.r},silent:!0});b.setStyle({fill:r[y][1]}),b.setStyle(p.getLineStyle([\"color\",\"width\"])),v.push(b),g=l}v.reverse(),Q(v,(function(e){return o.add(e)}));var S=function(e){if(e<=0)return r[0][1];var t;for(t=0;t<r.length;t++)if(r[t][0]>=e&&(0===t?0:r[t-1][0])<e)return r[t][1];return r[t-1][1]};this._renderTicks(e,t,n,S,i,s,l,a,f),this._renderTitleAndDetail(e,t,n,S,i),this._renderAnchor(e,i),this._renderPointer(e,t,n,S,i,s,l,a,f)},t.prototype._renderTicks=function(e,t,n,r,i,o,a,s,l){for(var c,u,d=this.group,p=i.cx,f=i.cy,h=i.r,m=+e.get(\"min\"),g=+e.get(\"max\"),v=e.getModel(\"splitLine\"),y=e.getModel(\"axisTick\"),b=e.getModel(\"axisLabel\"),S=e.get(\"splitNumber\"),x=y.get(\"splitNumber\"),w=Oo(v.get(\"length\"),h),C=Oo(y.get(\"length\"),h),T=o,A=(a-o)/S,E=A/x,O=v.getModel(\"lineStyle\").getLineStyle(),M=y.getModel(\"lineStyle\").getLineStyle(),P=v.get(\"distance\"),D=0;D<=S;D++){if(c=Math.cos(T),u=Math.sin(T),v.get(\"show\")){var I=new Im({shape:{x1:c*(h-(N=P?P+l:l))+p,y1:u*(h-N)+f,x2:c*(h-w-N)+p,y2:u*(h-w-N)+f},style:O,silent:!0});\"auto\"===O.stroke&&I.setStyle({stroke:r(D/S)}),d.add(I)}if(b.get(\"show\")){var N=b.get(\"distance\")+P,_=ON(Mo(D/S*(g-m)+m),b.get(\"formatter\")),j=r(D/S),k=c*(h-w-N)+p,L=u*(h-w-N)+f,R=b.get(\"rotate\"),Z=0;\"radial\"===R?(Z=-T+2*Math.PI)>Math.PI/2&&(Z+=Math.PI):\"tangential\"===R?Z=-T-Math.PI/2:le(R)&&(Z=R*Math.PI/180),0===Z?d.add(new Zl({style:$c(b,{text:_,x:k,y:L,verticalAlign:u<-.8?\"top\":u>.8?\"bottom\":\"middle\",align:c<-.4?\"left\":c>.4?\"right\":\"center\"},{inheritColor:j}),silent:!0})):d.add(new Zl({style:$c(b,{text:_,x:k,y:L,verticalAlign:\"middle\",align:\"center\"},{inheritColor:j}),silent:!0,originX:k,originY:L,rotation:Z}))}if(y.get(\"show\")&&D!==S){N=(N=y.get(\"distance\"))?N+l:l;for(var B=0;B<=x;B++){c=Math.cos(T),u=Math.sin(T);var F=new Im({shape:{x1:c*(h-N)+p,y1:u*(h-N)+f,x2:c*(h-C-N)+p,y2:u*(h-C-N)+f},silent:!0,style:M});\"auto\"===M.stroke&&F.setStyle({stroke:r((D+B/x)/S)}),d.add(F),T+=E}T-=E}else T+=A}},t.prototype._renderPointer=function(e,t,n,r,i,o,a,s,l){var c=this.group,u=this._data,d=this._progressEls,p=[],f=e.get([\"pointer\",\"show\"]),h=e.getModel(\"progress\"),m=h.get(\"show\"),g=e.getData(),v=g.mapDimension(\"value\"),y=+e.get(\"min\"),b=+e.get(\"max\"),S=[y,b],x=[o,a];function w(t,n){var r,o=g.getItemModel(t).getModel(\"pointer\"),a=Oo(o.get(\"width\"),i.r),s=Oo(o.get(\"length\"),i.r),l=e.get([\"pointer\",\"icon\"]),c=o.get(\"offsetCenter\"),u=Oo(c[0],i.r),d=Oo(c[1],i.r),p=o.get(\"keepAspect\");return(r=l?Kv(l,u-a/2,d-s,a,s,null,p):new EN({shape:{angle:-Math.PI/2,width:a,r:s,x:u,y:d}})).rotation=-(n+Math.PI/2),r.x=i.cx,r.y=i.cy,r}function C(e,t){var n=h.get(\"roundCap\")?jA:vm,r=h.get(\"overlap\"),a=r?h.get(\"width\"):l/g.count(),c=r?i.r-a:i.r-(e+1)*a,u=r?i.r:i.r-e*a,d=new n({shape:{startAngle:o,endAngle:t,cx:i.cx,cy:i.cy,clockwise:s,r0:c,r:u}});return r&&(d.z2=b-g.get(v,e)%b),d}(m||f)&&(g.diff(u).add((function(t){var n=g.get(v,t);if(f){var r=w(t,o);Vc(r,{rotation:-((isNaN(+n)?x[0]:Eo(n,S,x,!0))+Math.PI/2)},e),c.add(r),g.setItemGraphicEl(t,r)}if(m){var i=C(t,o),a=h.get(\"clip\");Vc(i,{shape:{endAngle:Eo(n,S,x,a)}},e),c.add(i),Fl(e.seriesIndex,g.dataType,t,i),p[t]=i}})).update((function(t,n){var r=g.get(v,t);if(f){var i=u.getItemGraphicEl(n),a=i?i.rotation:o,s=w(t,a);s.rotation=a,zc(s,{rotation:-((isNaN(+r)?x[0]:Eo(r,S,x,!0))+Math.PI/2)},e),c.add(s),g.setItemGraphicEl(t,s)}if(m){var l=d[n],y=C(t,l?l.shape.endAngle:o),b=h.get(\"clip\");zc(y,{shape:{endAngle:Eo(r,S,x,b)}},e),c.add(y),Fl(e.seriesIndex,g.dataType,t,y),p[t]=y}})).execute(),g.each((function(e){var t=g.getItemModel(e),n=t.getModel(\"emphasis\"),i=n.get(\"focus\"),o=n.get(\"blurScope\"),a=n.get(\"disabled\");if(f){var s=g.getItemGraphicEl(e),l=g.getItemVisual(e,\"style\"),c=l.fill;if(s instanceof hl){var u=s.style;s.useStyle(H({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else s.useStyle(l),\"pointer\"!==s.type&&s.setColor(c);s.setStyle(t.getModel([\"pointer\",\"itemStyle\"]).getItemStyle()),\"auto\"===s.style.fill&&s.setStyle(\"fill\",r(Eo(g.get(v,e),S,[0,1],!0))),s.z2EmphasisLift=0,_c(s,t),Pc(s,i,o,a)}if(m){var d=p[e];d.useStyle(g.getItemVisual(e,\"style\")),d.setStyle(t.getModel([\"progress\",\"itemStyle\"]).getItemStyle()),d.z2EmphasisLift=0,_c(d,t),Pc(d,i,o,a)}})),this._progressEls=p)},t.prototype._renderAnchor=function(e,t){var n=e.getModel(\"anchor\");if(n.get(\"show\")){var r=n.get(\"size\"),i=n.get(\"icon\"),o=n.get(\"offsetCenter\"),a=n.get(\"keepAspect\"),s=Kv(i,t.cx-r/2+Oo(o[0],t.r),t.cy-r/2+Oo(o[1],t.r),r,r,null,a);s.z2=n.get(\"showAbove\")?1:0,s.setStyle(n.getModel(\"itemStyle\").getItemStyle()),this.group.add(s)}},t.prototype._renderTitleAndDetail=function(e,t,n,r,i){var o=this,a=e.getData(),s=a.mapDimension(\"value\"),l=+e.get(\"min\"),c=+e.get(\"max\"),u=new uo,d=[],p=[],f=e.isAnimationEnabled(),h=e.get([\"pointer\",\"showAbove\"]);a.diff(this._data).add((function(e){d[e]=new Zl({silent:!0}),p[e]=new Zl({silent:!0})})).update((function(e,t){d[e]=o._titleEls[t],p[e]=o._detailEls[t]})).execute(),a.each((function(t){var n=a.getItemModel(t),o=a.get(s,t),m=new uo,g=r(Eo(o,[l,c],[0,1],!0)),v=n.getModel(\"title\");if(v.get(\"show\")){var y=v.get(\"offsetCenter\"),b=i.cx+Oo(y[0],i.r),S=i.cy+Oo(y[1],i.r);(M=d[t]).attr({z2:h?0:2,style:$c(v,{x:b,y:S,text:a.getName(t),align:\"center\",verticalAlign:\"middle\"},{inheritColor:g})}),m.add(M)}var x=n.getModel(\"detail\");if(x.get(\"show\")){var w=x.get(\"offsetCenter\"),C=i.cx+Oo(w[0],i.r),T=i.cy+Oo(w[1],i.r),A=Oo(x.get(\"width\"),i.r),E=Oo(x.get(\"height\"),i.r),O=e.get([\"progress\",\"show\"])?a.getItemVisual(t,\"style\").fill:g,M=p[t],P=x.get(\"formatter\");M.attr({z2:h?0:2,style:$c(x,{x:C,y:T,text:ON(o,P),width:isNaN(A)?null:A,height:isNaN(E)?null:E,align:\"center\",verticalAlign:\"middle\"},{inheritColor:O})}),su(M,{normal:x},o,(function(e){return ON(e,P)})),f&&lu(M,t,a,e,{getFormattedLabel:function(e,t,n,r,i,a){return ON(a?a.interpolatedValue:o,P)}}),m.add(M)}u.add(m)})),this.group.add(u),this._titleEls=d,this._detailEls=p},t.type=\"gauge\",t}(Zg);const PN=MN,DN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath=\"itemStyle\",n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return gE(this,[\"value\"])},t.type=\"series.gauge\",t.defaultOption={z:2,colorBy:\"data\",center:[\"50%\",\"50%\"],legendHoverLink:!0,radius:\"75%\",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,\"#E6EBF8\"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:\"#63677A\",width:3,type:\"solid\"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:\"#63677A\",width:1,type:\"solid\"}},axisLabel:{show:!0,distance:15,color:\"#464646\",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:\"60%\",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:\"circle\",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:\"#fff\",borderWidth:0,borderColor:\"#5470c6\"}},title:{show:!0,offsetCenter:[0,\"20%\"],color:\"#464646\",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:\"rgba(0,0,0,0)\",borderWidth:0,borderColor:\"#ccc\",width:100,height:null,padding:[5,10],offsetCenter:[0,\"40%\"],color:\"#464646\",fontSize:30,fontWeight:\"bold\",lineHeight:30,valueAnimation:!1}},t}(Oh);var IN=[\"itemStyle\",\"opacity\"],NN=function(e){function t(t,n){var r=e.call(this)||this,i=r,o=new Om,a=new Zl;return i.setTextContent(a),r.setTextGuideLine(o),r.updateData(t,n,!0),r}return(0,m.ZT)(t,e),t.prototype.updateData=function(e,t,n){var r=this,i=e.hostModel,o=e.getItemModel(t),a=e.getItemLayout(t),s=o.getModel(\"emphasis\"),l=o.get(IN);l=null==l?1:l,n||Wc(r),r.useStyle(e.getItemVisual(t,\"style\")),r.style.lineJoin=\"round\",n?(r.setShape({points:a.points}),r.style.opacity=0,Vc(r,{style:{opacity:l}},i,t)):zc(r,{style:{opacity:l},shape:{points:a.points}},i,t),_c(r,o),this._updateLabel(e,t),Pc(this,s.get(\"focus\"),s.get(\"blurScope\"),s.get(\"disabled\"))},t.prototype._updateLabel=function(e,t){var n=this,r=this.getTextGuideLine(),i=n.getTextContent(),o=e.hostModel,a=e.getItemModel(t),s=e.getItemLayout(t).label,l=e.getItemVisual(t,\"style\"),c=l.fill;Xc(i,Jc(a),{labelFetcher:e.hostModel,labelDataIndex:t,defaultOpacity:l.opacity,defaultText:e.getName(t)},{normal:{align:s.textAlign,verticalAlign:s.verticalAlign}}),n.setTextConfig({local:!0,inside:!!s.inside,insideStroke:c,outsideFill:c});var u=s.linePoints;r.setShape({points:u}),n.textGuideLineConfig={anchor:u?new Yt(u[0][0],u[0][1]):null},zc(i,{style:{x:s.x,y:s.y}},o,t),i.attr({rotation:s.rotation,originX:s.x,originY:s.y,z2:10}),oC(n,aC(a),{stroke:c})},t}(Tm);const _N=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreLabelLineUpdate=!0,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._data,o=this.group;r.diff(i).add((function(e){var t=new NN(r,e);r.setItemGraphicEl(e,t),o.add(t)})).update((function(e,t){var n=i.getItemGraphicEl(t);n.updateData(r,e),o.add(n),r.setItemGraphicEl(e,n)})).remove((function(t){Yc(i.getItemGraphicEl(t),e,t)})).execute(),this._data=r},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type=\"funnel\",t}(Zg);var jN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new yE(ne(this.getData,this),ne(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.getInitialData=function(e,t){return gE(this,{coordDimensions:[\"value\"],encodeDefaulter:re(qd,this)})},t.prototype._defaultLabelLine=function(e){ta(e,\"labelLine\",[\"show\"]);var t=e.labelLine,n=e.emphasis.labelLine;t.show=t.show&&e.label.show,n.show=n.show&&e.emphasis.label.show},t.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),i=n.mapDimension(\"value\"),o=n.getSum(i);return r.percent=o?+(n.get(i,t)/o*100).toFixed(2):0,r.$vars.push(\"percent\"),r},t.type=\"series.funnel\",t.defaultOption={z:2,legendHoverLink:!0,colorBy:\"data\",left:80,top:60,right:80,bottom:60,minSize:\"0%\",maxSize:\"100%\",sort:\"descending\",orient:\"vertical\",gap:0,funnelAlign:\"center\",label:{show:!0,position:\"outer\"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:\"#fff\",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:\"#212121\"}}},t}(Oh);const kN=jN;function LN(e,t){e.eachSeriesByType(\"funnel\",(function(e){var n=e.getData(),r=n.mapDimension(\"value\"),i=e.get(\"sort\"),o=function(e,t){return Ad(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),a=e.get(\"orient\"),s=o.width,l=o.height,c=function(e,t){for(var n=e.mapDimension(\"value\"),r=e.mapArray(n,(function(e){return e})),i=[],o=\"ascending\"===t,a=0,s=e.count();a<s;a++)i[a]=a;return oe(t)?i.sort(t):\"none\"!==t&&i.sort((function(e,t){return o?r[e]-r[t]:r[t]-r[e]})),i}(n,i),u=o.x,d=o.y,p=\"horizontal\"===a?[Oo(e.get(\"minSize\"),l),Oo(e.get(\"maxSize\"),l)]:[Oo(e.get(\"minSize\"),s),Oo(e.get(\"maxSize\"),s)],f=n.getDataExtent(r),h=e.get(\"min\"),m=e.get(\"max\");null==h&&(h=Math.min(f[0],0)),null==m&&(m=f[1]);var g=e.get(\"funnelAlign\"),v=e.get(\"gap\"),y=((\"horizontal\"===a?s:l)-v*(n.count()-1))/n.count(),b=function(e,t){if(\"horizontal\"===a){var i=Eo(n.get(r,e)||0,[h,m],p,!0),o=void 0;switch(g){case\"top\":o=d;break;case\"center\":o=d+(l-i)/2;break;case\"bottom\":o=d+(l-i)}return[[t,o],[t,o+i]]}var c,f=Eo(n.get(r,e)||0,[h,m],p,!0);switch(g){case\"left\":c=u;break;case\"center\":c=u+(s-f)/2;break;case\"right\":c=u+s-f}return[[c,t],[c+f,t]]};\"ascending\"===i&&(y=-y,v=-v,\"horizontal\"===a?u+=s:d+=l,c=c.reverse());for(var S=0;S<c.length;S++){var x=c[S],w=c[S+1],C=n.getItemModel(x);if(\"horizontal\"===a){var T=C.get([\"itemStyle\",\"width\"]);null==T?T=y:(T=Oo(T,s),\"ascending\"===i&&(T=-T));var A=b(x,u),E=b(w,u+T);u+=T+v,n.setItemLayout(x,{points:A.concat(E.slice().reverse())})}else{var O=C.get([\"itemStyle\",\"height\"]);null==O?O=y:(O=Oo(O,l),\"ascending\"===i&&(O=-O)),A=b(x,d),E=b(w,d+O),d+=O+v,n.setItemLayout(x,{points:A.concat(E.slice().reverse())})}}!function(e){var t=e.hostModel.get(\"orient\");e.each((function(n){var r,i,o,a,s=e.getItemModel(n),l=s.getModel(\"label\").get(\"position\"),c=s.getModel(\"labelLine\"),u=e.getItemLayout(n),d=u.points,p=\"inner\"===l||\"inside\"===l||\"center\"===l||\"insideLeft\"===l||\"insideRight\"===l;if(p)\"insideLeft\"===l?(i=(d[0][0]+d[3][0])/2+5,o=(d[0][1]+d[3][1])/2,r=\"left\"):\"insideRight\"===l?(i=(d[1][0]+d[2][0])/2-5,o=(d[1][1]+d[2][1])/2,r=\"right\"):(i=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,o=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,r=\"center\"),a=[[i,o],[i,o]];else{var f=void 0,h=void 0,m=void 0,g=void 0,v=c.get(\"length\");\"left\"===l?(f=(d[3][0]+d[0][0])/2,h=(d[3][1]+d[0][1])/2,i=(m=f-v)-5,r=\"right\"):\"right\"===l?(f=(d[1][0]+d[2][0])/2,h=(d[1][1]+d[2][1])/2,i=(m=f+v)+5,r=\"left\"):\"top\"===l?(f=(d[3][0]+d[0][0])/2,o=(g=(h=(d[3][1]+d[0][1])/2)-v)-5,r=\"center\"):\"bottom\"===l?(f=(d[1][0]+d[2][0])/2,o=(g=(h=(d[1][1]+d[2][1])/2)+v)+5,r=\"center\"):\"rightTop\"===l?(f=\"horizontal\"===t?d[3][0]:d[1][0],h=\"horizontal\"===t?d[3][1]:d[1][1],\"horizontal\"===t?(o=(g=h-v)-5,r=\"center\"):(i=(m=f+v)+5,r=\"top\")):\"rightBottom\"===l?(f=d[2][0],h=d[2][1],\"horizontal\"===t?(o=(g=h+v)+5,r=\"center\"):(i=(m=f+v)+5,r=\"bottom\")):\"leftTop\"===l?(f=d[0][0],h=\"horizontal\"===t?d[0][1]:d[1][1],\"horizontal\"===t?(o=(g=h-v)-5,r=\"center\"):(i=(m=f-v)-5,r=\"right\")):\"leftBottom\"===l?(f=\"horizontal\"===t?d[1][0]:d[3][0],h=\"horizontal\"===t?d[1][1]:d[2][1],\"horizontal\"===t?(o=(g=h+v)+5,r=\"center\"):(i=(m=f-v)-5,r=\"right\")):(f=(d[1][0]+d[2][0])/2,h=(d[1][1]+d[2][1])/2,\"horizontal\"===t?(o=(g=h+v)+5,r=\"center\"):(i=(m=f+v)+5,r=\"left\")),\"horizontal\"===t?i=m=f:o=g=h,a=[[f,h],[m,g]]}u.label={linePoints:a,x:i,y:o,verticalAlign:\"middle\",textAlign:r,inside:p}}))}(n)}))}var RN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._dataGroup=new uo,n._initialized=!1,n}return(0,m.ZT)(t,e),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._dataGroup,o=e.getData(),a=this._data,s=e.coordinateSystem,l=s.dimensions,c=FN(e);if(o.diff(a).add((function(e){zN(BN(o,i,e,l,s),o,e,c)})).update((function(t,n){var r=a.getItemGraphicEl(n),i=ZN(o,t,l,s);o.setItemGraphicEl(t,r),zc(r,{shape:{points:i}},e,t),Wc(r),zN(r,o,t,c)})).remove((function(e){var t=a.getItemGraphicEl(e);i.remove(t)})).execute(),!this._initialized){this._initialized=!0;var u=function(e,t){var n=e.model,r=e.getRect(),o=new wl({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),a=\"horizontal\"===n.get(\"layout\")?\"width\":\"height\";return o.setShape(a,0),Vc(o,{shape:{width:r.width,height:r.height}},t,(function(){setTimeout((function(){i.removeClipPath()}))})),o}(s,e);i.setClipPath(u)}this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,t,n){for(var r=t.getData(),i=t.coordinateSystem,o=i.dimensions,a=FN(t),s=this._progressiveEls=[],l=e.start;l<e.end;l++){var c=BN(r,this._dataGroup,l,o,i);c.incremental=!0,zN(c,r,l,a),s.push(c)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type=\"parallel\",t}(Zg);function ZN(e,t,n,r){for(var i,o=[],a=0;a<n.length;a++){var s=n[a],l=e.get(e.mapDimension(s),t);i=l,(\"category\"===r.getAxis(s).type?null==i:null==i||isNaN(i))||o.push(r.dataToPoint(l,s))}return o}function BN(e,t,n,r,i){var o=ZN(e,n,r,i),a=new Om({shape:{points:o},z2:10});return t.add(a),e.setItemGraphicEl(n,a),a}function FN(e){var t=e.get(\"smooth\",!0);return!0===t&&(t=.3),ge(t=Yo(t))&&(t=0),{smooth:t}}function zN(e,t,n,r){e.useStyle(t.getItemVisual(n,\"style\")),e.style.fill=null,e.setShape(\"smooth\",r.smooth);var i=t.getItemModel(n),o=i.getModel(\"emphasis\");_c(e,i,\"lineStyle\"),Pc(e,o.get(\"focus\"),o.get(\"blurScope\"),o.get(\"disabled\"))}const VN=RN;function HN(e){var t=e.ecModel.getComponent(\"parallel\",e.get(\"parallelIndex\"));if(t){var n={};return Q(t.dimensions,(function(e){var t=+e.replace(\"dim\",\"\");n[e]=t})),n}}const UN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath=\"lineStyle\",n.visualDrawType=\"stroke\",n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return HS(null,this,{useEncodeDefaulter:ne(HN,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var t=this.coordinateSystem,n=this.getData(),r=[];return t.eachActiveState(n,(function(t,i){e===t&&r.push(n.getRawIndex(i))})),r},t.type=\"series.parallel\",t.dependencies=[\"parallel\"],t.defaultOption={z:2,coordinateSystem:\"parallel\",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:\"solid\"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:\"linear\"},t}(Oh);var GN=[\"lineStyle\",\"opacity\"];const YN={seriesType:\"parallel\",reset:function(e,t){var n=e.coordinateSystem,r={normal:e.get([\"lineStyle\",\"opacity\"]),active:e.get(\"activeOpacity\"),inactive:e.get(\"inactiveOpacity\")};return{progress:function(e,t){n.eachActiveState(t,(function(e,n){var i=r[e];if(\"normal\"===e&&t.hasItemOption){var o=t.getItemModel(n).get(GN,!0);null!=o&&(i=o)}t.ensureUniqueItemVisual(n,\"style\").opacity=i}),e.start,e.end)}}}};function WN(e){!function(e){if(!e.parallel){var t=!1;Q(e.series,(function(e){e&&\"parallel\"===e.type&&(t=!0)})),t&&(e.parallel=[{}])}}(e),function(e){Q(ea(e.parallelAxis),(function(t){if(ce(t)){var n=t.parallelIndex||0,r=ea(e.parallel)[n];r&&r.parallelAxisDefault&&z(t,r.parallelAxisDefault,!1)}}))}(e)}var KN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){this._model=e,this._api=n,this._handlers||(this._handlers={},Q(qN,(function(e,t){n.getZr().on(t,this._handlers[t]=ne(e,this))}),this)),Hg(this,\"_throttledDispatchExpand\",e.get(\"axisExpandRate\"),\"fixRate\")},t.prototype.dispose=function(e,t){Ug(this,\"_throttledDispatchExpand\"),Q(this._handlers,(function(e,n){t.getZr().off(n,e)})),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(H({type:\"parallelAxisExpand\"},e))},t.type=\"parallel\",t}(Ph),qN={mousedown:function(e){QN(this,\"click\")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(QN(this,\"click\")&&t){var n=[e.offsetX,e.offsetY];if(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);\"none\"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&QN(this,\"mousemove\")){var t=this._model,n=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),r=n.behavior;\"jump\"===r&&this._throttledDispatchExpand.debounceNextCall(t.get(\"axisExpandDebounce\")),this._throttledDispatchExpand(\"none\"===r?null:{axisExpandWindow:n.axisExpandWindow,animation:\"jump\"===r?null:{duration:0}})}}};function QN(e,t){var n=e._model;return n.get(\"axisExpandable\")&&n.get(\"axisExpandTriggerOn\")===t}const XN=KN,JN=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){var t=this.option;e&&z(t,e,!0),this._initDimensions()},t.prototype.contains=function(e,t){var n=e.get(\"parallelIndex\");return null!=n&&t.getComponent(\"parallel\",n)===this},t.prototype.setAxisExpand=function(e){Q([\"axisExpandable\",\"axisExpandCenter\",\"axisExpandCount\",\"axisExpandWidth\",\"axisExpandWindow\"],(function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])}),this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],t=this.parallelAxisIndex=[];Q($(this.ecModel.queryComponents({mainType:\"parallelAxis\"}),(function(e){return(e.get(\"parallelIndex\")||0)===this.componentIndex}),this),(function(n){e.push(\"dim\"+n.get(\"dim\")),t.push(n.componentIndex)}))},t.type=\"parallel\",t.dependencies=[\"parallelAxis\"],t.layoutMode=\"box\",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:\"horizontal\",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:\"click\",parallelAxisDefault:null},t}(_d);var $N=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.type=i||\"value\",a.axisIndex=o,a}return(0,m.ZT)(t,e),t.prototype.isHorizontal=function(){return\"horizontal\"!==this.coordinateSystem.getModel().get(\"layout\")},t}(Nw);const e_=$N;function t_(e,t,n,r,i,o){e=e||0;var a=n[1]-n[0];if(null!=i&&(i=r_(i,[0,a])),null!=o&&(o=Math.max(o,null!=i?i:0)),\"all\"===r){var s=Math.abs(t[1]-t[0]);s=r_(s,[0,a]),i=o=r_(s,[i,o]),r=0}t[0]=r_(t[0],n),t[1]=r_(t[1],n);var l=n_(t,r);t[r]+=e;var c,u=i||0,d=n.slice();return l.sign<0?d[0]+=u:d[1]-=u,t[r]=r_(t[r],d),c=n_(t,r),null!=i&&(c.sign!==l.sign||c.span<i)&&(t[1-r]=t[r]+l.sign*i),c=n_(t,r),null!=o&&c.span>o&&(t[1-r]=t[r]+c.sign*o),t}function n_(e,t){var n=e[t]-e[1-t];return{span:Math.abs(n),sign:n>0?-1:n<0?1:t?-1:1}}function r_(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var i_=Q,o_=Math.min,a_=Math.max,s_=Math.floor,l_=Math.ceil,c_=Mo,u_=Math.PI,d_=function(){function e(e,t,n){this.type=\"parallel\",this._axesMap=De(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=e.dimensions,i=e.parallelAxisIndex;i_(r,(function(e,n){var r=i[n],o=t.getComponent(\"parallelAxis\",r),a=this._axesMap.set(e,new e_(e,Kx(o),[0,0],o.get(\"type\"),r)),s=\"category\"===a.type;a.onBand=s&&o.get(\"boundaryGap\"),a.inverse=o.get(\"inverse\"),o.axis=a,a.model=o,a.coordinateSystem=o.coordinateSystem=this}),this)},e.prototype.update=function(e,t){this._updateAxesFromSeries(this._model,e)},e.prototype.containPoint=function(e){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,i=t.pixelDimIndex,o=e[1-i],a=e[i];return o>=n&&o<=n+t.axisLength&&a>=r&&a<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(e,t){t.eachSeries((function(n){if(e.contains(n,t)){var r=n.getData();i_(this.dimensions,(function(e){var t=this._axesMap.get(e);t.scale.unionExtentFromData(r,r.mapDimension(e)),Wx(t.scale,t.model)}),this)}}),this)},e.prototype.resize=function(e,t){this._rect=Ad(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var e,t=this._model,n=this._rect,r=[\"x\",\"y\"],i=[\"width\",\"height\"],o=t.get(\"layout\"),a=\"horizontal\"===o?0:1,s=n[i[a]],l=[0,s],c=this.dimensions.length,u=p_(t.get(\"axisExpandWidth\"),l),d=p_(t.get(\"axisExpandCount\")||0,[0,c]),p=t.get(\"axisExpandable\")&&c>3&&c>d&&d>1&&u>0&&s>0,f=t.get(\"axisExpandWindow\");f?(e=p_(f[1]-f[0],l),f[1]=f[0]+e):(e=p_(u*(d-1),l),(f=[u*(t.get(\"axisExpandCenter\")||s_(c/2))-e/2])[1]=f[0]+e);var h=(s-e)/(c-d);h<3&&(h=0);var m=[s_(c_(f[0]/u,1))+1,l_(c_(f[1]/u,1))-1],g=h/u*f[0];return{layout:o,pixelDimIndex:a,layoutBase:n[r[a]],layoutLength:s,axisBase:n[r[1-a]],axisLength:n[i[1-a]],axisExpandable:p,axisExpandWidth:u,axisCollapseWidth:h,axisExpandWindow:f,axisCount:c,winInnerIndices:m,axisExpandWindow0Pos:g}},e.prototype._layoutAxes=function(){var e=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),i=r.layout;t.each((function(e){var t=[0,r.axisLength],n=e.inverse?1:0;e.setExtent(t[n],t[1-n])})),i_(n,(function(t,n){var o=(r.axisExpandable?h_:f_)(n,r),a={horizontal:{x:o.position,y:r.axisLength},vertical:{x:0,y:o.position}},s={horizontal:u_/2,vertical:0},l=[a[i].x+e.x,a[i].y+e.y],c=s[i],u=[1,0,0,1,0,0];zt(u,u,c),Ft(u,u,l),this._axesLayout[t]={position:l,rotation:c,transform:u,axisNameAvailableWidth:o.axisNameAvailableWidth,axisLabelShow:o.axisLabelShow,nameTruncateMaxWidth:o.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},e.prototype.getAxis=function(e){return this._axesMap.get(e)},e.prototype.dataToPoint=function(e,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e),t)},e.prototype.eachActiveState=function(e,t,n,r){null==n&&(n=0),null==r&&(r=e.count());var i=this._axesMap,o=this.dimensions,a=[],s=[];Q(o,(function(t){a.push(e.mapDimension(t)),s.push(i.get(t).model)}));for(var l=this.hasAxisBrushed(),c=n;c<r;c++){var u=void 0;if(l){u=\"active\";for(var d=e.getValues(a,c),p=0,f=o.length;p<f;p++)if(\"inactive\"===s[p].getActiveState(d[p])){u=\"inactive\";break}}else u=\"normal\";t(u,c)}},e.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,t=this._axesMap,n=!1,r=0,i=e.length;r<i;r++)\"normal\"!==t.get(e[r]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(e,t){return vg([e,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(e){return F(this._axesLayout[e])},e.prototype.getSlidedAxisExpandWindow=function(e){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),i=r[1]-r[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(e))return{behavior:\"none\",axisExpandWindow:r};var a,s=e[n]-t.layoutBase-t.axisExpandWindow0Pos,l=\"slide\",c=t.axisCollapseWidth,u=this._model.get(\"axisExpandSlideTriggerArea\"),d=null!=u[0];if(c)d&&c&&s<i*u[0]?(l=\"jump\",a=s-i*u[2]):d&&c&&s>i*(1-u[0])?(l=\"jump\",a=s-i*(1-u[2])):(a=s-i*u[1])>=0&&(a=s-i*(1-u[1]))<=0&&(a=0),(a*=t.axisExpandWidth/c)?t_(a,r,o,\"all\"):l=\"none\";else{var p=r[1]-r[0];(r=[a_(0,o[1]*s/p-p/2)])[1]=o_(o[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:l}},e}();function p_(e,t){return o_(a_(e,t[0]),t[1])}function f_(e,t){var n=t.layoutLength/(t.axisCount-1);return{position:n*e,axisNameAvailableWidth:n,axisLabelShow:!0}}function h_(e,t){var n,r,i=t.layoutLength,o=t.axisExpandWidth,a=t.axisCount,s=t.axisCollapseWidth,l=t.winInnerIndices,c=s,u=!1;return e<l[0]?(n=e*s,r=s):e<=l[1]?(n=t.axisExpandWindow0Pos+e*o-t.axisExpandWindow[0],c=o,u=!0):(n=i-(a-1-e)*s,r=s),{position:n,axisNameAvailableWidth:c,axisLabelShow:u,nameTruncateMaxWidth:r}}const m_=d_,g_={create:function(e,t){var n=[];return e.eachComponent(\"parallel\",(function(r,i){var o=new m_(r,e,t);o.name=\"parallel_\"+i,o.resize(r,t),r.coordinateSystem=o,o.model=r,n.push(o)})),e.eachSeries((function(e){if(\"parallel\"===e.get(\"coordinateSystem\")){var t=e.getReferringComponents(\"parallel\",ga).models[0];e.coordinateSystem=t.coordinateSystem}})),n}};var v_=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.activeIntervals=[],n}return(0,m.ZT)(t,e),t.prototype.getAreaSelectStyle=function(){return Ia([[\"fill\",\"color\"],[\"lineWidth\",\"borderWidth\"],[\"stroke\",\"borderColor\"],[\"width\",\"width\"],[\"opacity\",\"opacity\"]])(this.getModel(\"areaSelectStyle\"))},t.prototype.setActiveIntervals=function(e){var t=this.activeIntervals=F(e);if(t)for(var n=t.length-1;n>=0;n--)Po(t[n])},t.prototype.getActiveState=function(e){var t=this.activeIntervals;if(!t.length)return\"normal\";if(null==e||isNaN(+e))return\"inactive\";if(1===t.length){var n=t[0];if(n[0]<=e&&e<=n[1])return\"active\"}else for(var r=0,i=t.length;r<i;r++)if(t[r][0]<=e&&e<=t[r][1])return\"active\";return\"inactive\"},t}(_d);K(v_,tw);const y_=v_;var b_=!0,S_=Math.min,x_=Math.max,w_=Math.pow,C_=\"globalPan\",T_={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},A_={w:\"ew\",e:\"ew\",n:\"ns\",s:\"ns\",ne:\"nesw\",sw:\"nesw\",nw:\"nwse\",se:\"nwse\"},E_={brushStyle:{lineWidth:2,stroke:\"rgba(210,219,238,0.3)\",fill:\"#D2DBEE\"},transformable:!0,brushMode:\"single\",removeOnClick:!1},O_=0,M_=function(e){function t(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new uo,n._uid=\"brushController_\"+O_++,Q(tj,(function(e,t){this._handlers[t]=ne(e,this)}),n),n}return(0,m.ZT)(t,e),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var t=this._zr;this._enableGlobalPan||function(e,t,n){KO(e)[t]=n}(t,C_,this._uid),Q(this._handlers,(function(e,n){t.on(n,e)})),this._brushType=e.brushType,this._brushOption=z(F(E_),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;!function(e,t,n){var r=KO(e);r[t]===n&&(r[t]=null)}(e,C_,this._uid),Q(this._handlers,(function(t,n){e.off(n,t)})),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var t=this._panels={};Q(e,(function(e){t[e.panelId]=F(e)}))}else this._panels=null;return this},t.prototype.mount=function(e){e=e||{},this._enableGlobalPan=e.enableGlobalPan;var t=this.group;return this._zr.add(t),t.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=t.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=X(e,(function(e){return z(F(E_),e,!0)}));var t=this._covers,n=this._covers=[],r=this,i=this._creatingCover;return new lS(t,e,(function(e,t){return o(e.__brushOption,t)}),o).add(a).update(a).remove((function(e){t[e]!==i&&r.group.remove(t[e])})).execute(),this;function o(e,t){return(null!=e.id?e.id:\"\\0-brush-index-\"+t)+\"-\"+e.brushType}function a(o,a){var s=e[o];if(null!=a&&t[a]===i)n[o]=t[a];else{var l=n[o]=null!=a?(t[a].__brushOption=s,t[a]):D_(r,P_(r,s));__(r,l)}}},t.prototype.unmount=function(){return this.enableBrush(!1),R_(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(pt);function P_(e,t){var n=rj[t.brushType].createCover(e,t);return n.__brushOption=t,N_(n,t),e.group.add(n),n}function D_(e,t){var n=j_(t);return n.endCreating&&(n.endCreating(e,t),N_(t,t.__brushOption)),t}function I_(e,t){var n=t.__brushOption;j_(t).updateCoverShape(e,t,n.range,n)}function N_(e,t){var n=t.z;null==n&&(n=1e4),e.traverse((function(e){e.z=n,e.z2=n}))}function __(e,t){j_(t).updateCommon(e,t),I_(e,t)}function j_(e){return rj[e.__brushOption.brushType]}function k_(e,t,n){var r,i=e._panels;if(!i)return b_;var o=e._transform;return Q(i,(function(e){e.isTargetByCursor(t,n,o)&&(r=e)})),r}function L_(e,t){var n=e._panels;if(!n)return b_;var r=t.__brushOption.panelId;return null!=r?n[r]:b_}function R_(e){var t=e._covers,n=t.length;return Q(t,(function(t){e.group.remove(t)}),e),t.length=0,!!n}function Z_(e,t){var n=X(e._covers,(function(e){var t=e.__brushOption,n=F(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}}));e.trigger(\"brush\",{areas:n,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function B_(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function F_(e,t,n,r){var i=new uo;return i.add(new wl({name:\"main\",style:U_(n),silent:!0,draggable:!0,cursor:\"move\",drift:re(W_,e,t,i,[\"n\",\"s\",\"w\",\"e\"]),ondragend:re(Z_,t,{isEnd:!0})})),Q(r,(function(n){i.add(new wl({name:n.join(\"\"),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:re(W_,e,t,i,n),ondragend:re(Z_,t,{isEnd:!0})}))})),i}function z_(e,t,n,r){var i=r.brushStyle.lineWidth||0,o=x_(i,6),a=n[0][0],s=n[1][0],l=a-i/2,c=s-i/2,u=n[0][1],d=n[1][1],p=u-o+i/2,f=d-o+i/2,h=u-a,m=d-s,g=h+i,v=m+i;H_(e,t,\"main\",a,s,h,m),r.transformable&&(H_(e,t,\"w\",l,c,o,v),H_(e,t,\"e\",p,c,o,v),H_(e,t,\"n\",l,c,g,o),H_(e,t,\"s\",l,f,g,o),H_(e,t,\"nw\",l,c,o,o),H_(e,t,\"ne\",p,c,o,o),H_(e,t,\"sw\",l,f,o,o),H_(e,t,\"se\",p,f,o,o))}function V_(e,t){var n=t.__brushOption,r=n.transformable,i=t.childAt(0);i.useStyle(U_(n)),i.attr({silent:!r,cursor:r?\"move\":\"default\"}),Q([[\"w\"],[\"e\"],[\"n\"],[\"s\"],[\"s\",\"e\"],[\"s\",\"w\"],[\"n\",\"e\"],[\"n\",\"w\"]],(function(n){var i=t.childOfName(n.join(\"\")),o=1===n.length?Y_(e,n[0]):function(e,t){var n=[Y_(e,t[0]),Y_(e,t[1])];return(\"e\"===n[0]||\"w\"===n[0])&&n.reverse(),n.join(\"\")}(e,n);i&&i.attr({silent:!r,invisible:!r,cursor:r?A_[o]+\"-resize\":null})}))}function H_(e,t,n,r,i,o,a){var s=t.childOfName(n);s&&s.setShape(function(e){var t=S_(e[0][0],e[1][0]),n=S_(e[0][1],e[1][1]);return{x:t,y:n,width:x_(e[0][0],e[1][0])-t,height:x_(e[0][1],e[1][1])-n}}(Q_(e,t,[[r,i],[r+o,i+a]])))}function U_(e){return U({strokeNoScale:!0},e.brushStyle)}function G_(e,t,n,r){var i=[S_(e,n),S_(t,r)],o=[x_(e,n),x_(t,r)];return[[i[0],o[0]],[i[1],o[1]]]}function Y_(e,t){var n=yg({w:\"left\",e:\"right\",n:\"top\",s:\"bottom\"}[t],function(e){return gg(e.group)}(e));return{left:\"w\",right:\"e\",top:\"n\",bottom:\"s\"}[n]}function W_(e,t,n,r,i,o){var a=n.__brushOption,s=e.toRectRange(a.range),l=q_(t,i,o);Q(r,(function(e){var t=T_[e];s[t[0]][t[1]]+=l[t[0]]})),a.range=e.fromRectRange(G_(s[0][0],s[1][0],s[0][1],s[1][1])),__(t,n),Z_(t,{isEnd:!1})}function K_(e,t,n,r){var i=t.__brushOption.range,o=q_(e,n,r);Q(i,(function(e){e[0]+=o[0],e[1]+=o[1]})),__(e,t),Z_(e,{isEnd:!1})}function q_(e,t,n){var r=e.group,i=r.transformCoordToLocal(t,n),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function Q_(e,t,n){var r=L_(e,t);return r&&r!==b_?r.clipPath(n,e._transform):F(n)}function X_(e){var t=e.event;t.preventDefault&&t.preventDefault()}function J_(e,t,n){return e.childOfName(\"main\").contain(t,n)}function $_(e,t,n,r){var i,o=e._creatingCover,a=e._creatingPanel,s=e._brushOption;if(e._track.push(n.slice()),function(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1],r=t[0],i=n[0]-r[0],o=n[1]-r[1];return w_(i*i+o*o,.5)>6}(e)||o){if(a&&!o){\"single\"===s.brushMode&&R_(e);var l=F(s);l.brushType=ej(l.brushType,a),l.panelId=a===b_?null:a.panelId,o=e._creatingCover=P_(e,l),e._covers.push(o)}if(o){var c=rj[ej(e._brushType,a)];o.__brushOption.range=c.getCreatingRange(Q_(e,o,e._track)),r&&(D_(e,o),c.updateCommon(e,o)),I_(e,o),i={isEnd:r}}}else r&&\"single\"===s.brushMode&&s.removeOnClick&&k_(e,t,n)&&R_(e)&&(i={isEnd:r,removeOnClick:!0});return i}function ej(e,t){return\"auto\"===e?t.defaultBrushType:e}var tj={mousedown:function(e){if(this._dragging)nj(this,e);else if(!e.target||!e.target.draggable){X_(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=k_(this,e,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,n=e.offsetY,r=this.group.transformCoordToLocal(t,n);if(function(e,t,n){if(e._brushType&&!function(e,t,n){var r=e._zr;return t<0||t>r.getWidth()||n<0||n>r.getHeight()}(e,t.offsetX,t.offsetY)){var r=e._zr,i=e._covers,o=k_(e,t,n);if(!e._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(o&&(o===b_||s.panelId===o.panelId)&&rj[s.brushType].contain(i[a],n[0],n[1]))return}o&&r.setCursorStyle(\"crosshair\")}}(this,e,r),this._dragging){X_(e);var i=$_(this,e,r,!1);i&&Z_(this,i)}},mouseup:function(e){nj(this,e)}};function nj(e,t){if(e._dragging){X_(t);var n=t.offsetX,r=t.offsetY,i=e.group.transformCoordToLocal(n,r),o=$_(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,o&&Z_(e,o)}}var rj={lineX:ij(0),lineY:ij(1),rect:{createCover:function(e,t){function n(e){return e}return F_({toRectRange:n,fromRectRange:n},e,t,[[\"w\"],[\"e\"],[\"n\"],[\"s\"],[\"s\",\"e\"],[\"s\",\"w\"],[\"n\",\"e\"],[\"n\",\"w\"]])},getCreatingRange:function(e){var t=B_(e);return G_(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,r){z_(e,t,n,r)},updateCommon:V_,contain:J_},polygon:{createCover:function(e,t){var n=new uo;return n.add(new Om({name:\"main\",style:U_(t),silent:!0})),n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new Tm({name:\"main\",draggable:!0,drift:re(K_,e,t),ondragend:re(Z_,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,r){t.childAt(0).setShape({points:Q_(e,t,n)})},updateCommon:V_,contain:J_}};function ij(e){return{createCover:function(t,n){return F_({toRectRange:function(t){var n=[t,[0,100]];return e&&n.reverse(),n},fromRectRange:function(t){return t[e]}},t,n,[[[\"w\"],[\"e\"]],[[\"n\"],[\"s\"]]][e])},getCreatingRange:function(t){var n=B_(t);return[S_(n[0][e],n[1][e]),x_(n[0][e],n[1][e])]},updateCoverShape:function(t,n,r,i){var o,a=L_(t,n);if(a!==b_&&a.getLinearBrushOtherExtent)o=a.getLinearBrushOtherExtent(e);else{var s=t._zr;o=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[r,o];e&&l.reverse(),z_(t,n,l,i)},updateCommon:V_,contain:J_}}const oj=M_;function aj(e){return e=cj(e),function(t){return xg(t,e)}}function sj(e,t){return e=cj(e),function(n){var r=null!=t?t:n,i=r?e.width:e.height,o=r?e.x:e.y;return[o,o+(i||0)]}}function lj(e,t,n){var r=cj(e);return function(e,i){return r.contain(i[0],i[1])&&!iM(e,t,n)}}function cj(e){return nn.create(e)}var uj=[\"axisLine\",\"axisTickLabel\",\"axisName\"],dj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new oj(n.getZr())).on(\"brush\",ne(this._onBrush,this))},t.prototype.render=function(e,t,n,r){if(!function(e,t,n){return n&&\"axisAreaSelect\"===n.type&&t.findComponents({mainType:\"parallelAxis\",query:n})[0]===e}(e,t,r)){this.axisModel=e,this.api=n,this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new uo,this.group.add(this._axisGroup),e.get(\"show\")){var o=function(e,t){return t.getComponent(\"parallel\",e.get(\"parallelIndex\"))}(e,t),a=o.coordinateSystem,s=e.getAreaSelectStyle(),l=s.width,c=e.axis.dim,u=H({strokeContainThreshold:l},a.getAxisLayout(c)),d=new aO(e,u);Q(uj,d.add,d),this._axisGroup.add(d.getGroup()),this._refreshBrushController(u,s,e,o,l,n),Sg(i,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,t,n,r,i,o){var a=n.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),c=nn.create({x:a[0],y:-i/2,width:s,height:i});c.x-=l,c.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:\"pl\",clipPath:aj(c),isTargetByCursor:lj(c,o,r),getLinearBrushOtherExtent:sj(c,0)}]).enableBrush({brushType:\"lineX\",brushStyle:t,removeOnClick:!0}).updateCovers(function(e){var t=e.axis;return X(e.activeIntervals,(function(e){return{brushType:\"lineX\",panelId:\"pl\",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}}))}(n))},t.prototype._onBrush=function(e){var t=e.areas,n=this.axisModel,r=n.axis,i=X(t,(function(e){return[r.coordToData(e.range[0],!0),r.coordToData(e.range[1],!0)]}));(!n.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:\"axisAreaSelect\",parallelAxisId:n.id,intervals:i})},t.prototype.dispose=function(){this._brushController.dispose()},t.type=\"parallelAxis\",t}(Ph);const pj=dj;var fj={type:\"axisAreaSelect\",event:\"axisAreaSelected\"},hj={type:\"value\",areaSelectStyle:{width:20,borderWidth:1,borderColor:\"rgba(160,197,232)\",color:\"rgba(160,197,232)\",opacity:.3},realtime:!0,z:10};function mj(e){e.registerComponentView(XN),e.registerComponentModel(JN),e.registerCoordinateSystem(\"parallel\",g_),e.registerPreprocessor(WN),e.registerComponentModel(y_),e.registerComponentView(pj),jE(e,\"parallel\",y_,hj),function(e){e.registerAction(fj,(function(e,t){t.eachComponent({mainType:\"parallelAxis\",query:e},(function(t){t.axis.model.setActiveIntervals(e.intervals)}))})),e.registerAction(\"parallelAxisExpand\",(function(e,t){t.eachComponent({mainType:\"parallel\",query:e},(function(t){t.setAxisExpand(e)}))}))}(e)}var gj=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},vj=function(e){function t(t){return e.call(this,t)||this}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new gj},t.prototype.buildPath=function(e,t){var n=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),\"vertical\"===t.orient?(e.lineTo(t.x2+n,t.y2),e.bezierCurveTo(t.cpx2+n,t.cpy2,t.cpx1+n,t.cpy1,t.x1+n,t.y1)):(e.lineTo(t.x2,t.y2+n),e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n)),e.closePath()},t.prototype.highlight=function(){mc(this)},t.prototype.downplay=function(){gc(this)},t}(sl),yj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._focusAdjacencyDisabled=!1,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this,i=e.getGraph(),o=this.group,a=e.layoutInfo,s=a.width,l=a.height,c=e.getData(),u=e.getData(\"edge\"),d=e.get(\"orient\");this._model=e,o.removeAll(),o.x=a.x,o.y=a.y,i.eachEdge((function(t){var n=new vj,r=Bl(n);r.dataIndex=t.dataIndex,r.seriesIndex=e.seriesIndex,r.dataType=\"edge\";var i,a,c,p,f,h,m,g,v=t.getModel(),y=v.getModel(\"lineStyle\"),b=y.get(\"curveness\"),S=t.node1.getLayout(),x=t.node1.getModel(),w=x.get(\"localX\"),C=x.get(\"localY\"),T=t.node2.getLayout(),A=t.node2.getModel(),E=A.get(\"localX\"),O=A.get(\"localY\"),M=t.getLayout();n.shape.extent=Math.max(1,M.dy),n.shape.orient=d,\"vertical\"===d?(i=(null!=w?w*s:S.x)+M.sy,a=(null!=C?C*l:S.y)+S.dy,c=(null!=E?E*s:T.x)+M.ty,f=i,h=a*(1-b)+(p=null!=O?O*l:T.y)*b,m=c,g=a*b+p*(1-b)):(i=(null!=w?w*s:S.x)+S.dx,a=(null!=C?C*l:S.y)+M.sy,f=i*(1-b)+(c=null!=E?E*s:T.x)*b,h=a,m=i*b+c*(1-b),g=p=(null!=O?O*l:T.y)+M.ty),n.setShape({x1:i,y1:a,x2:c,y2:p,cpx1:f,cpy1:h,cpx2:m,cpy2:g}),n.useStyle(y.getItemStyle()),bj(n.style,d,t);var P=\"\"+v.get(\"value\"),D=Jc(v,\"edgeLabel\");Xc(n,D,{labelFetcher:{getFormattedLabel:function(t,n,r,i,o,a){return e.getFormattedLabel(t,n,\"edge\",i,be(o,D.normal&&D.normal.get(\"formatter\"),P),a)}},labelDataIndex:t.dataIndex,defaultText:P}),n.setTextConfig({position:\"inside\"});var I=v.getModel(\"emphasis\");_c(n,v,\"lineStyle\",(function(e){var n=e.getItemStyle();return bj(n,d,t),n})),o.add(n),u.setItemGraphicEl(t.dataIndex,n);var N=I.get(\"focus\");Pc(n,\"adjacency\"===N?t.getAdjacentDataIndices():\"trajectory\"===N?t.getTrajectoryDataIndices():N,I.get(\"blurScope\"),I.get(\"disabled\"))})),i.eachNode((function(t){var n=t.getLayout(),r=t.getModel(),i=r.get(\"localX\"),a=r.get(\"localY\"),u=r.getModel(\"emphasis\"),d=r.get([\"itemStyle\",\"borderRadius\"])||0,p=new wl({shape:{x:null!=i?i*s:n.x,y:null!=a?a*l:n.y,width:n.dx,height:n.dy,r:d},style:r.getModel(\"itemStyle\").getItemStyle(),z2:10});Xc(p,Jc(r),{labelFetcher:{getFormattedLabel:function(t,n){return e.getFormattedLabel(t,n,\"node\")}},labelDataIndex:t.dataIndex,defaultText:t.id}),p.disableLabelAnimation=!0,p.setStyle(\"fill\",t.getVisual(\"color\")),p.setStyle(\"decal\",t.getVisual(\"style\").decal),_c(p,r),o.add(p),c.setItemGraphicEl(t.dataIndex,p),Bl(p).dataType=\"node\";var f=u.get(\"focus\");Pc(p,\"adjacency\"===f?t.getAdjacentDataIndices():\"trajectory\"===f?t.getTrajectoryDataIndices():f,u.get(\"blurScope\"),u.get(\"disabled\"))})),c.eachItemGraphicEl((function(t,i){c.getItemModel(i).get(\"draggable\")&&(t.drift=function(t,o){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=o,this.dirty(),n.dispatchAction({type:\"dragNode\",seriesId:e.id,dataIndex:c.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/l})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor=\"move\")})),!this._data&&e.isAnimationEnabled()&&o.setClipPath(function(e,t){var n=new wl({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Vc(n,{shape:{width:e.width+20}},t,(function(){o.removeClipPath()})),n}(o.getBoundingRect(),e)),this._data=e.getData()},t.prototype.dispose=function(){},t.type=\"sankey\",t}(Zg);function bj(e,t,n){switch(e.fill){case\"source\":e.fill=n.node1.getVisual(\"color\"),e.decal=n.node1.getVisual(\"style\").decal;break;case\"target\":e.fill=n.node2.getVisual(\"color\"),e.decal=n.node2.getVisual(\"style\").decal;break;case\"gradient\":var r=n.node1.getVisual(\"color\"),i=n.node2.getVisual(\"color\");ae(r)&&ae(i)&&(e.fill=new Hm(0,0,+(\"horizontal\"===t),+(\"vertical\"===t),[{color:r,offset:0},{color:i,offset:1}]))}}const Sj=yj;var xj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n=e.edges||e.links,r=e.data||e.nodes,i=e.levels;this.levelModels=[];for(var o=this.levelModels,a=0;a<i.length;a++)null!=i[a].depth&&i[a].depth>=0&&(o[i[a].depth]=new Cu(i[a],this,t));if(r&&n){var s=SN(r,n,this,!0,(function(e,t){e.wrapMethod(\"getItemModel\",(function(e,t){var n=e.parentModel,r=n.getData().getItemLayout(t);if(r){var i=r.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e})),t.wrapMethod(\"getItemModel\",(function(e,t){var n=e.parentModel,r=n.getGraph().getEdgeByIndex(t).node1.getLayout();if(r){var i=r.depth,o=n.levelModels[i];o&&(e.parentModel=o)}return e}))}));return s.data}},t.prototype.setNodePosition=function(e,t){var n=(this.option.data||this.option.nodes)[e];n.localX=t[0],n.localY=t[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,t,n){function r(e){return isNaN(e)||null==e}if(\"edge\"===n){var i=this.getDataParams(e,n),o=i.data,a=i.value;return rh(\"nameValue\",{name:o.source+\" -- \"+o.target,value:a,noValue:r(a)})}var s=this.getGraph().getNodeByIndex(e).getLayout().value,l=this.getDataParams(e,n).data.name;return rh(\"nameValue\",{name:null!=l?l+\"\":null,value:s,noValue:r(s)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(t,n){var r=e.prototype.getDataParams.call(this,t,n);if(null==r.value&&\"node\"===n){var i=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=i}return r},t.type=\"series.sankey\",t.defaultOption={z:2,coordinateSystem:\"view\",left:\"5%\",top:\"5%\",right:\"20%\",bottom:\"5%\",orient:\"horizontal\",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:\"right\",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:\"justify\",lineStyle:{color:\"#314656\",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:\"#212121\"}},animationEasing:\"linear\",animationDuration:1e3},t}(Oh);const wj=xj;function Cj(e,t){e.eachSeriesByType(\"sankey\",(function(e){var n=e.get(\"nodeWidth\"),r=e.get(\"nodeGap\"),i=function(e,t){return Ad(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=i;var o=i.width,a=i.height,s=e.getGraph(),l=s.nodes,c=s.edges;!function(e){Q(e,(function(e){var t=_j(e.outEdges,Nj),n=_j(e.inEdges,Nj),r=e.getValue()||0,i=Math.max(t,n,r);e.setLayout({value:i},!0)}))}(l),function(e,t,n,r,i,o,a,s,l){(function(e,t,n,r,i,o,a){for(var s=[],l=[],c=[],u=[],d=0,p=0;p<t.length;p++)s[p]=1;for(p=0;p<e.length;p++)l[p]=e[p].inEdges.length,0===l[p]&&c.push(e[p]);for(var f=-1;c.length;){for(var h=0;h<c.length;h++){var m=c[h],g=m.hostGraph.data.getRawDataItem(m.dataIndex),v=null!=g.depth&&g.depth>=0;v&&g.depth>f&&(f=g.depth),m.setLayout({depth:v?g.depth:d},!0),\"vertical\"===o?m.setLayout({dy:n},!0):m.setLayout({dx:n},!0);for(var y=0;y<m.outEdges.length;y++){var b=m.outEdges[y];s[t.indexOf(b)]=0;var S=b.node2;0==--l[e.indexOf(S)]&&u.indexOf(S)<0&&u.push(S)}}++d,c=u,u=[]}for(p=0;p<s.length;p++)if(1===s[p])throw new Error(\"Sankey is a DAG, the original data has cycle!\");var x=f>d-1?f:d-1;a&&\"left\"!==a&&function(e,t,n,r){if(\"right\"===t){for(var i=[],o=e,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];i.indexOf(u.node1)<0&&i.push(u.node1)}}o=i,i=[],++a}Q(e,(function(e){Tj(e)||e.setLayout({depth:Math.max(0,r-e.getLayout().skNodeHeight)},!0)}))}else\"justify\"===t&&function(e,t){Q(e,(function(e){Tj(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}(e,r)}(e,a,0,x),function(e,t,n){Q(e,(function(e){var r=e.getLayout().depth*t;\"vertical\"===n?e.setLayout({y:r},!0):e.setLayout({x:r},!0)}))}(e,\"vertical\"===o?(i-n)/x:(r-n)/x,o)})(e,t,n,i,o,s,l),function(e,t,n,r,i,o,a){var s=function(e,t){var n=[],r=\"vertical\"===t?\"y\":\"x\",i=Sa(e,(function(e){return e.getLayout()[r]}));return i.keys.sort((function(e,t){return e-t})),Q(i.keys,(function(e){n.push(i.buckets.get(e))})),n}(e,a);(function(e,t,n,r,i,o){var a=1/0;Q(e,(function(e){var t=e.length,s=0;Q(e,(function(e){s+=e.getLayout().value}));var l=\"vertical\"===o?(r-(t-1)*i)/s:(n-(t-1)*i)/s;l<a&&(a=l)})),Q(e,(function(e){Q(e,(function(e,t){var n=e.getLayout().value*a;\"vertical\"===o?(e.setLayout({x:t},!0),e.setLayout({dx:n},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:n},!0))}))})),Q(t,(function(e){var t=+e.getValue()*a;e.setLayout({dy:t},!0)}))})(s,t,n,r,i,a),Aj(s,i,n,r,a);for(var l=1;o>0;o--)Ej(s,l*=.99,a),Aj(s,i,n,r,a),jj(s,l,a),Aj(s,i,n,r,a)}(e,t,o,i,r,a,s),function(e,t){var n=\"vertical\"===t?\"x\":\"y\";Q(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[n]-t.node2.getLayout()[n]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[n]-t.node1.getLayout()[n]}))})),Q(e,(function(e){var t=0,n=0;Q(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),Q(e.inEdges,(function(e){e.setLayout({ty:n},!0),n+=e.getLayout().dy}))}))}(e,s)}(l,c,n,r,o,a,0!==$(l,(function(e){return 0===e.getLayout().value})).length?0:e.get(\"layoutIterations\"),e.get(\"orient\"),e.get(\"nodeAlign\"))}))}function Tj(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function Aj(e,t,n,r,i){var o=\"vertical\"===i?\"x\":\"y\";Q(e,(function(e){var a,s,l;e.sort((function(e,t){return e.getLayout()[o]-t.getLayout()[o]}));for(var c=0,u=e.length,d=\"vertical\"===i?\"dx\":\"dy\",p=0;p<u;p++)(l=c-(s=e[p]).getLayout()[o])>0&&(a=s.getLayout()[o]+l,\"vertical\"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),c=s.getLayout()[o]+s.getLayout()[d]+t;if((l=c-t-(\"vertical\"===i?r:n))>0)for(a=s.getLayout()[o]-l,\"vertical\"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0),c=a,p=u-2;p>=0;--p)(l=(s=e[p]).getLayout()[o]+s.getLayout()[d]+t-c)>0&&(a=s.getLayout()[o]-l,\"vertical\"===i?s.setLayout({x:a},!0):s.setLayout({y:a},!0)),c=s.getLayout()[o]}))}function Ej(e,t,n){Q(e.slice().reverse(),(function(e){Q(e,(function(e){if(e.outEdges.length){var r=_j(e.outEdges,Oj,n)/_j(e.outEdges,Nj);if(isNaN(r)){var i=e.outEdges.length;r=i?_j(e.outEdges,Mj,n)/i:0}if(\"vertical\"===n){var o=e.getLayout().x+(r-Ij(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(r-Ij(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function Oj(e,t){return Ij(e.node2,t)*e.getValue()}function Mj(e,t){return Ij(e.node2,t)}function Pj(e,t){return Ij(e.node1,t)*e.getValue()}function Dj(e,t){return Ij(e.node1,t)}function Ij(e,t){return\"vertical\"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function Nj(e){return e.getValue()}function _j(e,t,n){for(var r=0,i=e.length,o=-1;++o<i;){var a=+t(e[o],n);isNaN(a)||(r+=a)}return r}function jj(e,t,n){Q(e,(function(e){Q(e,(function(e){if(e.inEdges.length){var r=_j(e.inEdges,Pj,n)/_j(e.inEdges,Nj);if(isNaN(r)){var i=e.inEdges.length;r=i?_j(e.inEdges,Dj,n)/i:0}if(\"vertical\"===n){var o=e.getLayout().x+(r-Ij(e,n))*t;e.setLayout({x:o},!0)}else{var a=e.getLayout().y+(r-Ij(e,n))*t;e.setLayout({y:a},!0)}}}))}))}function kj(e){e.eachSeriesByType(\"sankey\",(function(e){var t=e.getGraph(),n=t.nodes,r=t.edges;if(n.length){var i=1/0,o=-1/0;Q(n,(function(e){var t=e.getLayout().value;t<i&&(i=t),t>o&&(o=t)})),Q(n,(function(t){var n=new KD({type:\"color\",mappingMethod:\"linear\",dataExtent:[i,o],visual:e.get(\"color\")}).mapValueToVisual(t.getLayout().value),r=t.getModel().get([\"itemStyle\",\"color\"]);null!=r?(t.setVisual(\"color\",r),t.setVisual(\"style\",{fill:r})):(t.setVisual(\"color\",n),t.setVisual(\"style\",{fill:n}))}))}r.length&&Q(r,(function(e){var t=e.getModel().get(\"lineStyle\");e.setVisual(\"style\",t)}))}))}var Lj=function(){function e(){}return e.prototype.getInitialData=function(e,t){var n,r,i=t.getComponent(\"xAxis\",this.get(\"xAxisIndex\")),o=t.getComponent(\"yAxis\",this.get(\"yAxisIndex\")),a=i.get(\"type\"),s=o.get(\"type\");\"category\"===a?(e.layout=\"horizontal\",n=i.getOrdinalMeta(),r=!0):\"category\"===s?(e.layout=\"vertical\",n=o.getOrdinalMeta(),r=!0):e.layout=e.layout||\"horizontal\";var l=[\"x\",\"y\"],c=\"horizontal\"===e.layout?0:1,u=this._baseAxisDim=l[c],d=l[1-c],p=[i,o],f=p[c].get(\"type\"),h=p[1-c].get(\"type\"),m=e.data;if(m&&r){var g=[];Q(m,(function(e,t){var n;ie(e)?(n=e.slice(),e.unshift(t)):ie(e.value)?((n=H({},e)).value=n.value.slice(),e.value.unshift(t)):n=e,g.push(n)})),e.data=g}var v=this.defaultValueDimensions,y=[{name:u,type:dS(f),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:[\"base\"]},{name:d,type:dS(h),dimsDef:v.slice()}];return gE(this,{coordDimensions:y,dimensionsCount:v.length+1,encodeDefaulter:re(Kd,y,this)})},e.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+\"Axis\",this.get(e+\"AxisIndex\")).axis},e}(),Rj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:\"min\",defaultTooltip:!0},{name:\"Q1\",defaultTooltip:!0},{name:\"median\",defaultTooltip:!0},{name:\"Q3\",defaultTooltip:!0},{name:\"max\",defaultTooltip:!0}],n.visualDrawType=\"stroke\",n}return(0,m.ZT)(t,e),t.type=\"series.boxplot\",t.dependencies=[\"xAxis\",\"yAxis\",\"grid\"],t.defaultOption={z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:\"#fff\",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:\"rgba(0,0,0,0.2)\"}},animationDuration:800},t}(Oh);K(Rj,Lj,!0);const Zj=Rj;var Bj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this.group,o=this._data;this._data||i.removeAll();var a=\"horizontal\"===e.get(\"layout\")?1:0;r.diff(o).add((function(e){if(r.hasValue(e)){var t=Vj(r.getItemLayout(e),r,e,a,!0);r.setItemGraphicEl(e,t),i.add(t)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(r.hasValue(e)){var s=r.getItemLayout(e);n?(Wc(n),Hj(s,n,r,e)):n=Vj(s,r,e,a),i.add(n),r.setItemGraphicEl(e,n)}else i.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&i.remove(t)})).execute(),this._data=r},t.prototype.remove=function(e){var t=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl((function(e){e&&t.remove(e)}))},t.type=\"boxplot\",t}(Zg),Fj=function(){},zj=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"boxplotBoxPath\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Fj},t.prototype.buildPath=function(e,t){var n=t.points,r=0;for(e.moveTo(n[r][0],n[r][1]),r++;r<4;r++)e.lineTo(n[r][0],n[r][1]);for(e.closePath();r<n.length;r++)e.moveTo(n[r][0],n[r][1]),r++,e.lineTo(n[r][0],n[r][1])},t}(sl);function Vj(e,t,n,r,i){var o=e.ends,a=new zj({shape:{points:i?Uj(o,r,e):o}});return Hj(e,a,t,n,i),a}function Hj(e,t,n,r,i){var o=n.hostModel;(0,l[i?\"initProps\":\"updateProps\"])(t,{shape:{points:e.ends}},o,r),t.useStyle(n.getItemVisual(r,\"style\")),t.style.strokeNoScale=!0,t.z2=100;var a=n.getItemModel(r),s=a.getModel(\"emphasis\");_c(t,a),Pc(t,s.get(\"focus\"),s.get(\"blurScope\"),s.get(\"disabled\"))}function Uj(e,t,n){return X(e,(function(e){return(e=e.slice())[t]=n.initBaseline,e}))}const Gj=Bj;var Yj=Q;function Wj(e){var t=function(e){var t=[],n=[];return e.eachSeriesByType(\"boxplot\",(function(e){var r=e.getBaseAxis(),i=Y(n,r);i<0&&(i=n.length,n[i]=r,t[i]={axis:r,seriesModels:[]}),t[i].seriesModels.push(e)})),t}(e);Yj(t,(function(e){var t=e.seriesModels;t.length&&(function(e){var t,n=e.axis,r=e.seriesModels,i=r.length,o=e.boxWidthList=[],a=e.boxOffsetList=[],s=[];if(\"category\"===n.type)t=n.getBandWidth();else{var l=0;Yj(r,(function(e){l=Math.max(l,e.getData().count())}));var c=n.getExtent();t=Math.abs(c[1]-c[0])/l}Yj(r,(function(e){var n=e.get(\"boxWidth\");ie(n)||(n=[n,n]),s.push([Oo(n[0],t)||0,Oo(n[1],t)||0])}));var u=.8*t-2,d=u/i*.3,p=(u-d*(i-1))/i,f=p/2-u/2;Yj(r,(function(e,t){a.push(f),f+=d+p,o.push(Math.min(Math.max(p,s[t][0]),s[t][1]))}))}(e),Yj(t,(function(t,n){!function(e,t,n){var r=e.coordinateSystem,i=e.getData(),o=n/2,a=\"horizontal\"===e.get(\"layout\")?0:1,s=1-a,l=[\"x\",\"y\"],c=i.mapDimension(l[a]),u=i.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var d=0;d<i.count();d++){var p=i.get(c,d),f=b(p,u[2],d),h=b(p,u[0],d),m=b(p,u[1],d),g=b(p,u[3],d),v=b(p,u[4],d),y=[];S(y,m,!1),S(y,g,!0),y.push(h,m,v,g),x(y,h),x(y,v),x(y,f),i.setItemLayout(d,{initBaseline:f[s],ends:y})}function b(e,n,o){var l,c=i.get(n,o),u=[];return u[a]=e,u[s]=c,isNaN(e)||isNaN(c)?l=[NaN,NaN]:(l=r.dataToPoint(u))[a]+=t,l}function S(e,t,n){var r=t.slice(),i=t.slice();r[a]+=o,i[a]-=o,n?e.push(r,i):e.push(i,r)}function x(e,t){var n=t.slice(),r=t.slice();n[a]-=o,r[a]+=o,e.push(n,r)}}(t,e.boxOffsetList[n],e.boxWidthList[n])})))}))}var Kj={type:\"echarts:boxplot\",transform:function(e){var t=e.upstream;t.sourceFormat!==Bd&&xf(\"\");var n=function(e,t){for(var n=[],r=[],i=(t=t||{}).boundIQR,o=\"none\"===i||0===i,a=0;a<e.length;a++){var s=Po(e[a].slice()),l=Uo(s,.25),c=Uo(s,.5),u=Uo(s,.75),d=s[0],p=s[s.length-1],f=(null==i?1.5:i)*(u-l),h=o?d:Math.max(d,l-f),m=o?p:Math.min(p,u+f),g=t.itemNameFormatter,v=oe(g)?g({value:a}):ae(g)?g.replace(\"{value}\",a+\"\"):a+\"\";n.push([v,h,l,c,u,m]);for(var y=0;y<s.length;y++){var b=s[y];if(b<h||b>m){var S=[v,b];r.push(S)}}}return{boxData:n,outliers:r}}(t.getRawData(),e.config);return[{dimensions:[\"ItemName\",\"Low\",\"Q1\",\"Q2\",\"Q3\",\"High\"],data:n.boxData},{data:n.outliers}]}},qj=[\"color\",\"borderColor\"],Qj=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,t,n){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,t,n,r){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,t):this._incrementalRenderNormal(e,t)},t.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var t=e.pipelineContext.large;null!=this._isLargeDraw&&t===this._isLargeDraw||(this._isLargeDraw=t,this._clear())},t.prototype._renderNormal=function(e){var t=e.getData(),n=this._data,r=this.group,i=t.getLayout(\"isSimpleBox\"),o=e.get(\"clip\",!0),a=e.coordinateSystem,s=a.getArea&&a.getArea();this._data||r.removeAll(),t.diff(n).add((function(n){if(t.hasValue(n)){var a=t.getItemLayout(n);if(o&&ek(s,a))return;var l=$j(a,0,!0);Vc(l,{shape:{points:a.ends}},e,n),tk(l,t,n,i),r.add(l),t.setItemGraphicEl(n,l)}})).update((function(a,l){var c=n.getItemGraphicEl(l);if(t.hasValue(a)){var u=t.getItemLayout(a);o&&ek(s,u)?r.remove(c):(c?(zc(c,{shape:{points:u.ends}},e,a),Wc(c)):c=$j(u),tk(c,t,a,i),r.add(c),t.setItemGraphicEl(a,c))}else r.remove(c)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&r.remove(t)})).execute(),this._data=t},t.prototype._renderLarge=function(e){this._clear(),ok(e,this.group);var t=e.get(\"clip\",!0)?fA(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,t){for(var n,r=t.getData(),i=r.getLayout(\"isSimpleBox\");null!=(n=e.next());){var o=$j(r.getItemLayout(n));tk(o,r,n,i),o.incremental=!0,this.group.add(o),this._progressiveEls.push(o)}},t.prototype._incrementalRenderLarge=function(e,t){ok(t,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type=\"candlestick\",t}(Zg),Xj=function(){},Jj=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"normalCandlestickBox\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new Xj},t.prototype.buildPath=function(e,t){var n=t.points;this.__simpleBox?(e.moveTo(n[4][0],n[4][1]),e.lineTo(n[6][0],n[6][1])):(e.moveTo(n[0][0],n[0][1]),e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]),e.lineTo(n[3][0],n[3][1]),e.closePath(),e.moveTo(n[4][0],n[4][1]),e.lineTo(n[5][0],n[5][1]),e.moveTo(n[6][0],n[6][1]),e.lineTo(n[7][0],n[7][1]))},t}(sl);function $j(e,t,n){var r=e.ends;return new Jj({shape:{points:n?nk(r,e):r},z2:100})}function ek(e,t){for(var n=!0,r=0;r<t.ends.length;r++)if(e.contain(t.ends[r][0],t.ends[r][1])){n=!1;break}return n}function tk(e,t,n,r){var i=t.getItemModel(n);e.useStyle(t.getItemVisual(n,\"style\")),e.style.strokeNoScale=!0,e.__simpleBox=r,_c(e,i)}function nk(e,t){return X(e,(function(e){return(e=e.slice())[1]=t.initBaseline,e}))}var rk=function(){},ik=function(e){function t(t){var n=e.call(this,t)||this;return n.type=\"largeCandlestickBox\",n}return(0,m.ZT)(t,e),t.prototype.getDefaultShape=function(){return new rk},t.prototype.buildPath=function(e,t){for(var n=t.points,r=0;r<n.length;)if(this.__sign===n[r++]){var i=n[r++];e.moveTo(i,n[r++]),e.lineTo(i,n[r++])}else r+=3},t}(sl);function ok(e,t,n,r){var i=e.getData(),o=i.getLayout(\"largePoints\"),a=new ik({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(a);var s=new ik({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(s);var l=new ik({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(l),ak(1,a,e),ak(-1,s,e),ak(0,l,e),r&&(a.incremental=!0,s.incremental=!0),n&&n.push(a,s)}function ak(e,t,n,r){var i=n.get([\"itemStyle\",e>0?\"borderColor\":\"borderColor0\"])||n.get([\"itemStyle\",e>0?\"color\":\"color0\"]);0===e&&(i=n.get([\"itemStyle\",\"borderColorDoji\"]));var o=n.getModel(\"itemStyle\").getItemStyle(qj);t.useStyle(o),t.style.fill=null,t.style.stroke=i}const sk=Qj;var lk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.defaultValueDimensions=[{name:\"open\",defaultTooltip:!0},{name:\"close\",defaultTooltip:!0},{name:\"lowest\",defaultTooltip:!0},{name:\"highest\",defaultTooltip:!0}],n}return(0,m.ZT)(t,e),t.prototype.getShadowDim=function(){return\"open\"},t.prototype.brushSelector=function(e,t,n){var r=t.getItemLayout(e);return r&&n.rect(r.brushRect)},t.type=\"series.candlestick\",t.dependencies=[\"xAxis\",\"yAxis\",\"grid\"],t.defaultOption={z:2,coordinateSystem:\"cartesian2d\",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:\"#eb5454\",color0:\"#47b262\",borderColor:\"#eb5454\",borderColor0:\"#47b262\",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:\"mod\",animationEasing:\"linear\",animationDuration:300},t}(Oh);K(lk,Lj,!0);const ck=lk;function uk(e){e&&ie(e.series)&&Q(e.series,(function(e){ce(e)&&\"k\"===e.type&&(e.type=\"candlestick\")}))}var dk=[\"itemStyle\",\"borderColor\"],pk=[\"itemStyle\",\"borderColor0\"],fk=[\"itemStyle\",\"borderColorDoji\"],hk=[\"itemStyle\",\"color\"],mk=[\"itemStyle\",\"color0\"];const gk={seriesType:\"candlestick\",plan:Dh(),performRawSeries:!0,reset:function(e,t){function n(e,t){return t.get(e>0?hk:mk)}function r(e,t){return t.get(0===e?fk:e>0?dk:pk)}if(!t.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(e,t){for(var i;null!=(i=e.next());){var o=t.getItemModel(i),a=t.getItemLayout(i).sign,s=o.getItemStyle();s.fill=n(a,o),s.stroke=r(a,o)||s.fill,H(t.ensureUniqueItemVisual(i,\"style\"),s)}}}}};var vk={seriesType:\"candlestick\",plan:Dh(),reset:function(e){var t=e.coordinateSystem,n=e.getData(),r=function(e,t){var n,r=e.getBaseAxis(),i=\"category\"===r.type?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),o=Oo(ye(e.get(\"barMaxWidth\"),i),i),a=Oo(ye(e.get(\"barMinWidth\"),1),i),s=e.get(\"barWidth\");return null!=s?Oo(s,i):Math.max(Math.min(i/2,o),a)}(e,n),i=[\"x\",\"y\"],o=n.getDimensionIndex(n.mapDimension(i[0])),a=X(n.mapDimensionsAll(i[1]),n.getDimensionIndex,n),s=a[0],l=a[1],c=a[2],u=a[3];if(n.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(o<0||a.length<4))return{progress:e.pipelineContext.large?function(n,r){for(var i,a,d=cx(4*n.count),p=0,f=[],h=[],m=r.getStore(),g=!!e.get([\"itemStyle\",\"borderColorDoji\"]);null!=(a=n.next());){var v=m.get(o,a),y=m.get(s,a),b=m.get(l,a),S=m.get(c,a),x=m.get(u,a);isNaN(v)||isNaN(S)||isNaN(x)?(d[p++]=NaN,p+=3):(d[p++]=yk(m,a,y,b,l,g),f[0]=v,f[1]=S,i=t.dataToPoint(f,null,h),d[p++]=i?i[0]:NaN,d[p++]=i?i[1]:NaN,f[1]=x,i=t.dataToPoint(f,null,h),d[p++]=i?i[1]:NaN)}r.setLayout(\"largePoints\",d)}:function(e,n){for(var i,a=n.getStore();null!=(i=e.next());){var d=a.get(o,i),p=a.get(s,i),f=a.get(l,i),h=a.get(c,i),m=a.get(u,i),g=Math.min(p,f),v=Math.max(p,f),y=T(g,d),b=T(v,d),S=T(h,d),x=T(m,d),w=[];A(w,b,0),A(w,y,1),w.push(O(x),O(b),O(S),O(y));var C=!!n.getItemModel(i).get([\"itemStyle\",\"borderColorDoji\"]);n.setItemLayout(i,{sign:yk(a,i,p,f,l,C),initBaseline:p>f?b[1]:y[1],ends:w,brushRect:E(h,m,d)})}function T(e,n){var r=[];return r[0]=n,r[1]=e,isNaN(n)||isNaN(e)?[NaN,NaN]:t.dataToPoint(r)}function A(e,t,n){var i=t.slice(),o=t.slice();i[0]=mg(i[0]+r/2,1,!1),o[0]=mg(o[0]-r/2,1,!0),n?e.push(i,o):e.push(o,i)}function E(e,t,n){var i=T(e,n),o=T(t,n);return i[0]-=r/2,o[0]-=r/2,{x:i[0],y:i[1],width:r,height:o[1]-i[1]}}function O(e){return e[0]=mg(e[0],1),e}}}}};function yk(e,t,n,r,i,o){return n>r?-1:n<r?1:o?0:t>0?e.get(i,t-1)<=r?1:-1:1}const bk=vk;function Sk(e,t){var n=t.rippleEffectColor||t.color;e.eachChild((function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:\"stroke\"===t.brushType?n:null,fill:\"fill\"===t.brushType?n:null}})}))}var xk=function(e){function t(t,n){var r=e.call(this)||this,i=new qT(t,n),o=new uo;return r.add(i),r.add(o),r.updateData(t,n),r}return(0,m.ZT)(t,e),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var t=e.symbolType,n=e.color,r=e.rippleNumber,i=this.childAt(1),o=0;o<r;o++){var a=Kv(t,-1,-1,2,2,n);a.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var s=-o/r*e.period+e.effectOffset;a.animate(\"\",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(s).start(),a.animateStyle(!0).when(e.period,{opacity:0}).delay(s).start(),i.add(a)}Sk(i,e)},t.prototype.updateEffectAnimation=function(e){for(var t=this._effectCfg,n=this.childAt(1),r=[\"symbolType\",\"period\",\"rippleScale\",\"rippleNumber\"],i=0;i<r.length;i++){var o=r[i];if(t[o]!==e[o])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}Sk(n,e)},t.prototype.highlight=function(){mc(this)},t.prototype.downplay=function(){gc(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,t){var n=this,r=e.hostModel;this.childAt(0).updateData(e,t);var i=this.childAt(1),o=e.getItemModel(t),a=e.getItemVisual(t,\"symbol\"),s=qv(e.getItemVisual(t,\"symbolSize\")),l=e.getItemVisual(t,\"style\"),c=l&&l.fill,u=o.getModel(\"emphasis\");i.setScale(s),i.traverse((function(e){e.setStyle(\"fill\",c)}));var d=Qv(e.getItemVisual(t,\"symbolOffset\"),s);d&&(i.x=d[0],i.y=d[1]);var p=e.getItemVisual(t,\"symbolRotate\");i.rotation=(p||0)*Math.PI/180||0;var f={};f.showEffectOn=r.get(\"showEffectOn\"),f.rippleScale=o.get([\"rippleEffect\",\"scale\"]),f.brushType=o.get([\"rippleEffect\",\"brushType\"]),f.period=1e3*o.get([\"rippleEffect\",\"period\"]),f.effectOffset=t/e.count(),f.z=r.getShallow(\"z\")||0,f.zlevel=r.getShallow(\"zlevel\")||0,f.symbolType=a,f.color=c,f.rippleEffectColor=o.get([\"rippleEffect\",\"color\"]),f.rippleNumber=o.get([\"rippleEffect\",\"number\"]),\"render\"===f.showEffectOn?(this._effectCfg?this.updateEffectAnimation(f):this.startEffectAnimation(f),this._effectCfg=f):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(e){\"emphasis\"===e?\"render\"!==f.showEffectOn&&n.startEffectAnimation(f):\"normal\"===e&&\"render\"!==f.showEffectOn&&n.stopEffectAnimation()}),this._effectCfg=f,Pc(this,u.get(\"focus\"),u.get(\"blurScope\"),u.get(\"disabled\"))},t.prototype.fadeOut=function(e){e&&e()},t}(uo);const wk=xk,Ck=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(){this._symbolDraw=new eA(wk)},t.prototype.render=function(e,t,n){var r=e.getData(),i=this._symbolDraw;i.updateData(r,{clipShape:this._getClipShape(e)}),this.group.add(i.group)},t.prototype._getClipShape=function(e){var t=e.coordinateSystem,n=t&&t.getArea&&t.getArea();return e.get(\"clip\",!0)?n:null},t.prototype.updateTransform=function(e,t,n){var r=e.getData();this.group.dirty();var i=AA(\"\").reset(e,t,n);i.progress&&i.progress({start:0,end:r.count(),count:r.count()},r),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=Ut(t.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type=\"effectScatter\",t}(Zg),Tk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return HS(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,t,n){return n.point(t.getItemLayout(e))},t.type=\"series.effectScatter\",t.dependencies=[\"grid\",\"polar\"],t.defaultOption={coordinateSystem:\"cartesian2d\",z:2,legendHoverLink:!0,effectType:\"ripple\",progressive:0,showEffectOn:\"render\",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:\"fill\",number:3},universalTransition:{divideShape:\"clone\"},symbolSize:10},t}(Oh);var Ak=function(e){function t(t,n,r){var i=e.call(this)||this;return i.add(i.createLine(t,n,r)),i._updateEffectSymbol(t,n),i}return(0,m.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new JI(e,t,n)},t.prototype._updateEffectSymbol=function(e,t){var n=e.getItemModel(t).getModel(\"effect\"),r=n.get(\"symbolSize\"),i=n.get(\"symbol\");ie(r)||(r=[r,r]);var o=e.getItemVisual(t,\"style\"),a=n.get(\"color\")||o&&o.stroke,s=this.childAt(1);this._symbolType!==i&&(this.remove(s),(s=Kv(i,-.5,-.5,1,1,a)).z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle(\"shadowColor\",a),s.setStyle(n.getItemStyle([\"color\"])),s.scaleX=r[0],s.scaleY=r[1],s.setColor(a),this._symbolType=i,this._symbolScale=r,this._updateEffectAnimation(e,n,t))},t.prototype._updateEffectAnimation=function(e,t,n){var r=this.childAt(1);if(r){var i=e.getItemLayout(n),o=1e3*t.get(\"period\"),a=t.get(\"loop\"),s=t.get(\"roundTrip\"),l=t.get(\"constantSpeed\"),c=ve(t.get(\"delay\"),(function(t){return t/e.count()*o/3}));if(r.ignore=!0,this._updateAnimationPoints(r,i),l>0&&(o=this._getLineLength(r)/l*1e3),o!==this._period||a!==this._loop||s!==this._roundTrip){r.stopAnimation();var u=void 0;u=oe(c)?c(n):c,r.__t>0&&(u=-o*r.__t),this._animateSymbol(r,o,u,a,s)}this._period=o,this._loop=a,this._roundTrip=s}},t.prototype._animateSymbol=function(e,t,n,r,i){if(t>0){e.__t=0;var o=this,a=e.animate(\"\",r).when(i?2*t:t,{__t:i?2:1}).delay(n).during((function(){o._updateSymbolPosition(e)}));r||a.done((function(){o.remove(e)})),a.start()}},t.prototype._getLineLength=function(e){return et(e.__p1,e.__cp1)+et(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,t){e.__p1=t[0],e.__p2=t[1],e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]},t.prototype.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n),this._updateEffectSymbol(e,t)},t.prototype._updateSymbolPosition=function(e){var t=e.__p1,n=e.__p2,r=e.__cp1,i=e.__t<1?e.__t:2-e.__t,o=[e.x,e.y],a=o.slice(),s=Wn,l=Kn;o[0]=s(t[0],r[0],n[0],i),o[1]=s(t[1],r[1],n[1],i);var c=e.__t<1?l(t[0],r[0],n[0],i):l(n[0],r[0],t[0],1-i),u=e.__t<1?l(t[1],r[1],n[1],i):l(n[1],r[1],t[1],1-i);e.rotation=-Math.atan2(u,c)-Math.PI/2,\"line\"!==this._symbolType&&\"rect\"!==this._symbolType&&\"roundRect\"!==this._symbolType||(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*et(a,o),1===i&&(o[0]=a[0]+(o[0]-a[0])/2,o[1]=a[1]+(o[1]-a[1])/2)):1===e.__lastT?e.scaleY=2*et(t,o):e.scaleY=this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=o[0],e.y=o[1]},t.prototype.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel(\"effect\");this._updateEffectAnimation(e,n,t)},t}(uo);const Ek=Ak;var Ok=function(e){function t(t,n,r){var i=e.call(this)||this;return i._createPolyline(t,n,r),i}return(0,m.ZT)(t,e),t.prototype._createPolyline=function(e,t,n){var r=e.getItemLayout(t),i=new Om({shape:{points:r}});this.add(i),this._updateCommonStl(e,t,n)},t.prototype.updateData=function(e,t,n){var r=e.hostModel;zc(this.childAt(0),{shape:{points:e.getItemLayout(t)}},r,t),this._updateCommonStl(e,t,n)},t.prototype._updateCommonStl=function(e,t,n){var r=this.childAt(0),i=e.getItemModel(t),o=n&&n.emphasisLineStyle,a=n&&n.focus,s=n&&n.blurScope,l=n&&n.emphasisDisabled;if(!n||e.hasItemOption){var c=i.getModel(\"emphasis\");o=c.getModel(\"lineStyle\").getLineStyle(),l=c.get(\"disabled\"),a=c.get(\"focus\"),s=c.get(\"blurScope\")}r.useStyle(e.getItemVisual(t,\"style\")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState(\"emphasis\").style=o,Pc(this,a,s,l)},t.prototype.updateLayout=function(e,t){this.childAt(0).setShape(\"points\",e.getItemLayout(t))},t}(uo);const Mk=Ok;var Pk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return(0,m.ZT)(t,e),t.prototype.createLine=function(e,t,n){return new Mk(e,t,n)},t.prototype._updateAnimationPoints=function(e,t){this._points=t;for(var n=[0],r=0,i=1;i<t.length;i++){var o=t[i-1],a=t[i];r+=et(o,a),n.push(r)}if(0!==r){for(i=0;i<n.length;i++)n[i]/=r;this._offsets=n,this._length=r}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var t=e.__t<1?e.__t:2-e.__t,n=this._points,r=this._offsets,i=n.length;if(r){var o,a=this._lastFrame;if(t<this._lastFramePercent){for(o=Math.min(a+1,i-1);o>=0&&!(r[o]<=t);o--);o=Math.min(o,i-2)}else{for(o=a;o<i&&!(r[o]>t);o++);o=Math.min(o-1,i-2)}var s=(t-r[o])/(r[o+1]-r[o]),l=n[o],c=n[o+1];e.x=l[0]*(1-s)+s*c[0],e.y=l[1]*(1-s)+s*c[1];var u=e.__t<1?c[0]-l[0]:l[0]-c[0],d=e.__t<1?c[1]-l[1]:l[1]-c[1];e.rotation=-Math.atan2(d,u)-Math.PI/2,this._lastFrame=o,this._lastFramePercent=t,e.ignore=!1}},t}(Ek);const Dk=Pk;var Ik=function(){this.polyline=!1,this.curveness=0,this.segs=[]},Nk=function(e){function t(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return(0,m.ZT)(t,e),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:\"#000\",fill:null}},t.prototype.getDefaultShape=function(){return new Ik},t.prototype.buildPath=function(e,t){var n,r=t.segs,i=t.curveness;if(t.polyline)for(n=this._off;n<r.length;){var o=r[n++];if(o>0){e.moveTo(r[n++],r[n++]);for(var a=1;a<o;a++)e.lineTo(r[n++],r[n++])}}else for(n=this._off;n<r.length;){var s=r[n++],l=r[n++],c=r[n++],u=r[n++];if(e.moveTo(s,l),i>0){var d=(s+c)/2-(l-u)*i,p=(l+u)/2-(c-s)*i;e.quadraticCurveTo(d,p,c,u)}else e.lineTo(c,u)}this.incremental&&(this._off=n,this.notClear=!0)},t.prototype.findDataIndex=function(e,t){var n=this.shape,r=n.segs,i=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var a=0,s=0;s<r.length;){var l=r[s++];if(l>0)for(var c=r[s++],u=r[s++],d=1;d<l;d++)if(zs(c,u,p=r[s++],f=r[s++],o,e,t))return a;a++}else for(a=0,s=0;s<r.length;){c=r[s++],u=r[s++];var p=r[s++],f=r[s++];if(i>0){if(Hs(c,u,(c+p)/2-(u-f)*i,(u+f)/2-(p-c)*i,p,f,o,e,t))return a}else if(zs(c,u,p,f,o,e,t))return a;a++}return-1},t.prototype.contain=function(e,t){var n=this.transformCoordToLocal(e,t),r=this.getBoundingRect();return e=n[0],t=n[1],r.contain(e,t)?(this.hoverDataIdx=this.findDataIndex(e,t))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var t=this.shape.segs,n=1/0,r=1/0,i=-1/0,o=-1/0,a=0;a<t.length;){var s=t[a++],l=t[a++];n=Math.min(s,n),i=Math.max(s,i),r=Math.min(l,r),o=Math.max(l,o)}e=this._rect=new nn(n,r,i,o)}return e},t}(sl);const _k=function(){function e(){this.group=new uo}return e.prototype.updateData=function(e){this._clear();var t=this._create();t.setShape({segs:e.getLayout(\"linesPoints\")}),this._setCommon(t,e)},e.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(e,t){var n=this._newAdded[0],r=t.getLayout(\"linesPoints\"),i=n&&n.shape.segs;if(i&&i.length<2e4){var o=i.length,a=new Float32Array(o+r.length);a.set(i),a.set(r,o),n.setShape({segs:a})}else{this._newAdded=[];var s=this._create();s.incremental=!0,s.setShape({segs:r}),this._setCommon(s,t),s.__startIndex=e.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},e.prototype._create=function(){var e=new Nk({cursor:\"default\",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},e.prototype._setCommon=function(e,t,n){var r=t.hostModel;e.setShape({polyline:r.get(\"polyline\"),curveness:r.get([\"lineStyle\",\"curveness\"])}),e.useStyle(r.getModel(\"lineStyle\").getLineStyle()),e.style.strokeNoScale=!0;var i=t.getVisual(\"style\");i&&i.stroke&&e.setStyle(\"stroke\",i.stroke),e.setStyle(\"fill\",null);var o=Bl(e);o.seriesIndex=r.seriesIndex,e.on(\"mousemove\",(function(t){o.dataIndex=null;var n=e.hoverDataIdx;n>0&&(o.dataIndex=n+e.__startIndex)}))},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();var jk={seriesType:\"lines\",plan:Dh(),reset:function(e){var t=e.coordinateSystem;if(t){var n=e.get(\"polyline\"),r=e.pipelineContext.large;return{progress:function(i,o){var a=[];if(r){var s=void 0,l=i.end-i.start;if(n){for(var c=0,u=i.start;u<i.end;u++)c+=e.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var d=0,p=[];for(u=i.start;u<i.end;u++){var f=e.getLineCoords(u,a);n&&(s[d++]=f);for(var h=0;h<f;h++)p=t.dataToPoint(a[h],!1,p),s[d++]=p[0],s[d++]=p[1]}o.setLayout(\"linesPoints\",s)}else for(u=i.start;u<i.end;u++){var m=o.getItemModel(u),g=(f=e.getLineCoords(u,a),[]);if(n)for(var v=0;v<f;v++)g.push(t.dataToPoint(a[v]));else{g[0]=t.dataToPoint(a[0]),g[1]=t.dataToPoint(a[1]);var y=m.get([\"lineStyle\",\"curveness\"]);+y&&(g[2]=[(g[0][0]+g[1][0])/2-(g[0][1]-g[1][1])*y,(g[0][1]+g[1][1])/2-(g[1][0]-g[0][0])*y])}o.setItemLayout(u,g)}}}}}};const kk=jk,Lk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this._updateLineDraw(r,e),o=e.get(\"zlevel\"),a=e.get([\"effect\",\"trailLength\"]),s=n.getZr(),l=\"svg\"===s.painter.getType();l||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&a>0&&(l||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),i.updateData(r);var c=e.get(\"clip\",!0)&&fA(e.coordinateSystem,!1,e);c?this.group.setClipPath(c):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,t,n){var r=e.getData();this._updateLineDraw(r,e).incrementalPrepareUpdate(r),this._clearLayer(n),this._finished=!1},t.prototype.incrementalRender=function(e,t,n){this._lineDraw.incrementalUpdate(e,t.getData()),this._finished=e.end===t.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,t,n){var r=e.getData(),i=e.pipelineContext;if(!this._finished||i.large||i.progressiveRender)return{update:!0};var o=kk.reset(e,t,n);o.progress&&o.progress({start:0,end:r.count(),count:r.count()},r),this._lineDraw.updateLayout(),this._clearLayer(n)},t.prototype._updateLineDraw=function(e,t){var n=this._lineDraw,r=this._showEffect(t),i=!!t.get(\"polyline\"),o=t.pipelineContext.large;return n&&r===this._hasEffet&&i===this._isPolyline&&o===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=o?new _k:new nN(i?r?Dk:Mk:r?Ek:JI),this._hasEffet=r,this._isPolyline=i,this._isLargeDraw=o),this.group.add(n.group),n},t.prototype._showEffect=function(e){return!!e.get([\"effect\",\"show\"])},t.prototype._clearLayer=function(e){var t=e.getZr();\"svg\"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,t){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(t)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.type=\"lines\",t}(Zg);var Rk=\"undefined\"==typeof Uint32Array?Array:Uint32Array,Zk=\"undefined\"==typeof Float64Array?Array:Float64Array;function Bk(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=X(t,(function(e){var t={coords:[e[0].coord,e[1].coord]};return e[0].name&&(t.fromName=e[0].name),e[1].name&&(t.toName=e[1].name),V([t,e[0],e[1]])})))}var Fk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.visualStyleAccessPath=\"lineStyle\",n.visualDrawType=\"stroke\",n}return(0,m.ZT)(t,e),t.prototype.init=function(t){t.data=t.data||[],Bk(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(t){if(Bk(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var t=this._processFlatCoordsArray(e.data);t.flatCoords&&(this._flatCoords?(this._flatCoords=Ie(this._flatCoords,t.flatCoords),this._flatCoordsOffset=Ie(this._flatCoordsOffset,t.flatCoordsOffset)):(this._flatCoords=t.flatCoords,this._flatCoordsOffset=t.flatCoordsOffset),e.data=new Float32Array(t.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var t=this.getData().getItemModel(e);return t.option instanceof Array?t.option:t.getShallow(\"coords\")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,t){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*e],r=this._flatCoordsOffset[2*e+1],i=0;i<r;i++)t[i]=t[i]||[],t[i][0]=this._flatCoords[n+2*i],t[i][1]=this._flatCoords[n+2*i+1];return r}var o=this._getCoordsFromItemModel(e);for(i=0;i<o.length;i++)t[i]=t[i]||[],t[i][0]=o[i][0],t[i][1]=o[i][1];return o.length},t.prototype._processFlatCoordsArray=function(e){var t=0;if(this._flatCoords&&(t=this._flatCoords.length),le(e[0])){for(var n=e.length,r=new Rk(n),i=new Zk(n),o=0,a=0,s=0,l=0;l<n;){s++;var c=e[l++];r[a++]=o+t,r[a++]=c;for(var u=0;u<c;u++){var d=e[l++],p=e[l++];i[o++]=d,i[o++]=p}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,a),flatCoords:i,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,t){var n=new _S([\"value\"],this);return n.hasItemOption=!1,n.initData(e.data,[],(function(e,t,r,i){if(e instanceof Array)return NaN;n.hasItemOption=!0;var o=e.value;return null!=o?o instanceof Array?o[i]:o:void 0})),n},t.prototype.formatTooltip=function(e,t,n){var r=this.getData().getItemModel(e),i=r.get(\"name\");if(i)return i;var o=r.get(\"fromName\"),a=r.get(\"toName\"),s=[];return null!=o&&s.push(o),null!=a&&s.push(a),rh(\"nameValue\",{name:s.join(\" > \")})},t.prototype.preventIncremental=function(){return!!this.get([\"effect\",\"show\"])},t.prototype.getProgressive=function(){var e=this.option.progressive;return null==e?this.option.large?1e4:this.get(\"progressive\"):e},t.prototype.getProgressiveThreshold=function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?2e4:this.get(\"progressiveThreshold\"):e},t.prototype.getZLevelKey=function(){var e=this.getModel(\"effect\"),t=e.get(\"trailLength\");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get(\"show\")&&t>0?t+\"\":\"\"},t.type=\"series.lines\",t.dependencies=[\"grid\",\"polar\",\"geo\",\"calendar\"],t.defaultOption={coordinateSystem:\"geo\",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:[\"none\",\"none\"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:\"circle\",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:\"end\"},lineStyle:{opacity:.5}},t}(Oh);const zk=Fk;function Vk(e){return e instanceof Array||(e=[e,e]),e}const Hk={seriesType:\"lines\",reset:function(e){var t=Vk(e.get(\"symbol\")),n=Vk(e.get(\"symbolSize\")),r=e.getData();return r.setVisual(\"fromSymbol\",t&&t[0]),r.setVisual(\"toSymbol\",t&&t[1]),r.setVisual(\"fromSymbolSize\",n&&n[0]),r.setVisual(\"toSymbolSize\",n&&n[1]),{dataEach:r.hasItemOption?function(e,t){var n=e.getItemModel(t),r=Vk(n.getShallow(\"symbol\",!0)),i=Vk(n.getShallow(\"symbolSize\",!0));r[0]&&e.setItemVisual(t,\"fromSymbol\",r[0]),r[1]&&e.setItemVisual(t,\"toSymbol\",r[1]),i[0]&&e.setItemVisual(t,\"fromSymbolSize\",i[0]),i[1]&&e.setItemVisual(t,\"toSymbolSize\",i[1])}:null}}};var Uk=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=T.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,n,r,i,o){var a=this._getBrush(),s=this._getGradient(i,\"inRange\"),l=this._getGradient(i,\"outOfRange\"),c=this.pointSize+this.blurSize,u=this.canvas,d=u.getContext(\"2d\"),p=e.length;u.width=t,u.height=n;for(var f=0;f<p;++f){var h=e[f],m=h[0],g=h[1],v=r(h[2]);d.globalAlpha=v,d.drawImage(a,m-c,g-c)}if(!u.width||!u.height)return u;for(var y=d.getImageData(0,0,u.width,u.height),b=y.data,S=0,x=b.length,w=this.minOpacity,C=this.maxOpacity-w;S<x;){v=b[S+3]/256;var T=4*Math.floor(255*v);if(v>0){var A=o(v)?s:l;v>0&&(v=v*C+w),b[S++]=A[T],b[S++]=A[T+1],b[S++]=A[T+2],b[S++]=A[T+3]*v*256}else S+=4}return d.putImageData(y,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=T.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;e.width=n,e.height=n;var r=e.getContext(\"2d\");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor=\"#000\",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),e},e.prototype._getGradient=function(e,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(1024)),i=[0,0,0,0],o=0,a=0;a<256;a++)e[t](a/255,!0,i),r[o++]=i[0],r[o++]=i[1],r[o++]=i[2],r[o++]=i[3];return r},e}();const Gk=Uk;function Yk(e){var t=e.dimensions;return\"lng\"===t[0]&&\"lat\"===t[1]}var Wk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r;t.eachComponent(\"visualMap\",(function(t){t.eachTargetSeries((function(n){n===e&&(r=t)}))})),this._progressiveEls=null,this.group.removeAll();var i=e.coordinateSystem;\"cartesian2d\"===i.type||\"calendar\"===i.type?this._renderOnCartesianAndCalendar(e,n,0,e.getData().count()):Yk(i)&&this._renderOnGeo(i,e,r,n)},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,n,r){var i=t.coordinateSystem;i&&(Yk(i)?this.render(t,n,r):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,r,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,n,r,i){var o,a,s,l,c=e.coordinateSystem,u=hA(c,\"cartesian2d\");if(u){var d=c.getAxis(\"x\"),p=c.getAxis(\"y\");o=d.getBandWidth()+.5,a=p.getBandWidth()+.5,s=d.scale.getExtent(),l=p.scale.getExtent()}for(var f=this.group,h=e.getData(),m=e.getModel([\"emphasis\",\"itemStyle\"]).getItemStyle(),g=e.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),v=e.getModel([\"select\",\"itemStyle\"]).getItemStyle(),y=e.get([\"itemStyle\",\"borderRadius\"]),b=Jc(e),S=e.getModel(\"emphasis\"),x=S.get(\"focus\"),w=S.get(\"blurScope\"),C=S.get(\"disabled\"),T=u?[h.mapDimension(\"x\"),h.mapDimension(\"y\"),h.mapDimension(\"value\")]:[h.mapDimension(\"time\"),h.mapDimension(\"value\")],A=n;A<r;A++){var E=void 0,O=h.getItemVisual(A,\"style\");if(u){var M=h.get(T[0],A),P=h.get(T[1],A);if(isNaN(h.get(T[2],A))||isNaN(M)||isNaN(P)||M<s[0]||M>s[1]||P<l[0]||P>l[1])continue;var D=c.dataToPoint([M,P]);E=new wl({shape:{x:D[0]-o/2,y:D[1]-a/2,width:o,height:a},style:O})}else{if(isNaN(h.get(T[1],A)))continue;E=new wl({z2:1,shape:c.dataToRect([h.get(T[0],A)]).contentShape,style:O})}if(h.hasItemOption){var I=h.getItemModel(A),N=I.getModel(\"emphasis\");m=N.getModel(\"itemStyle\").getItemStyle(),g=I.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),v=I.getModel([\"select\",\"itemStyle\"]).getItemStyle(),y=I.get([\"itemStyle\",\"borderRadius\"]),x=N.get(\"focus\"),w=N.get(\"blurScope\"),C=N.get(\"disabled\"),b=Jc(I)}E.shape.r=y;var _=e.getRawValue(A),j=\"-\";_&&null!=_[2]&&(j=_[2]+\"\"),Xc(E,b,{labelFetcher:e,labelDataIndex:A,defaultOpacity:O.opacity,defaultText:j}),E.ensureState(\"emphasis\").style=m,E.ensureState(\"blur\").style=g,E.ensureState(\"select\").style=v,Pc(E,x,w,C),E.incremental=i,i&&(E.states.emphasis.hoverLayer=!0),f.add(E),h.setItemGraphicEl(A,E),this._progressiveEls&&this._progressiveEls.push(E)}},t.prototype._renderOnGeo=function(e,t,n,r){var i=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new Gk;s.blurSize=t.get(\"blurSize\"),s.pointSize=t.get(\"pointSize\"),s.minOpacity=t.get(\"minOpacity\"),s.maxOpacity=t.get(\"maxOpacity\");var l=e.getViewRect().clone(),c=e.getRoamTransform();l.applyTransform(c);var u=Math.max(l.x,0),d=Math.max(l.y,0),p=Math.min(l.width+l.x,r.getWidth()),f=Math.min(l.height+l.y,r.getHeight()),h=p-u,m=f-d,g=[a.mapDimension(\"lng\"),a.mapDimension(\"lat\"),a.mapDimension(\"value\")],v=a.mapArray(g,(function(t,n,r){var i=e.dataToPoint([t,n]);return i[0]-=u,i[1]-=d,i.push(r),i})),y=n.getExtent(),b=\"visualMap.continuous\"===n.type?function(e,t){var n=e[1]-e[0];return t=[(t[0]-e[0])/n,(t[1]-e[0])/n],function(e){return e>=t[0]&&e<=t[1]}}(y,n.option.range):function(e,t,n){var r=e[1]-e[0],i=(t=X(t,(function(t){return{interval:[(t.interval[0]-e[0])/r,(t.interval[1]-e[0])/r]}}))).length,o=0;return function(e){var r;for(r=o;r<i;r++)if((a=t[r].interval)[0]<=e&&e<=a[1]){o=r;break}if(r===i)for(r=o-1;r>=0;r--){var a;if((a=t[r].interval)[0]<=e&&e<=a[1]){o=r;break}}return r>=0&&r<i&&n[r]}}(y,n.getPieceList(),n.option.selected);s.update(v,h,m,i.color.getNormalizer(),{inRange:i.color.getColorMapper(),outOfRange:o.color.getColorMapper()},b);var S=new hl({style:{width:h,height:m,x:u,y:d,image:s.canvas},silent:!0});this.group.add(S)},t.type=\"heatmap\",t}(Zg);const Kk=Wk,qk=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){return HS(null,this,{generateCoord:\"value\"})},t.prototype.preventIncremental=function(){var e=yp.get(this.get(\"coordinateSystem\"));if(e&&e.dimensions)return\"lng\"===e.dimensions[0]&&\"lat\"===e.dimensions[1]},t.type=\"series.heatmap\",t.dependencies=[\"grid\",\"geo\",\"calendar\"],t.defaultOption={coordinateSystem:\"cartesian2d\",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:\"#212121\"}}},t}(Oh);var Qk=[\"itemStyle\",\"borderWidth\"],Xk=[{xy:\"x\",wh:\"width\",index:0,posDesc:[\"left\",\"right\"]},{xy:\"y\",wh:\"height\",index:1,posDesc:[\"top\",\"bottom\"]}],Jk=new $h;function $k(e,t,n,r){var i=e.getItemLayout(t),o=n.get(\"symbolRepeat\"),a=n.get(\"symbolClip\"),s=n.get(\"symbolPosition\")||\"start\",l=(n.get(\"symbolRotate\")||0)*Math.PI/180||0,c=n.get(\"symbolPatternSize\")||2,u=n.isAnimationEnabled(),d={dataIndex:t,layout:i,itemModel:n,symbolType:e.getItemVisual(t,\"symbol\")||\"circle\",style:e.getItemVisual(t,\"style\"),symbolClip:a,symbolRepeat:o,symbolRepeatDirection:n.get(\"symbolRepeatDirection\"),symbolPatternSize:c,rotation:l,animationModel:u?n:null,hoverScale:u&&n.get([\"emphasis\",\"scale\"]),z2:n.getShallow(\"z\",!0)||0};!function(e,t,n,r,i){var o,a=r.valueDim,s=e.get(\"symbolBoundingData\"),l=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),c=l.toGlobalCoord(l.dataToCoord(0)),u=1-+(n[a.wh]<=0);if(ie(s)){var d=[eL(l,s[0])-c,eL(l,s[1])-c];d[1]<d[0]&&d.reverse(),o=d[u]}else o=null!=s?eL(l,s)-c:t?r.coordSysExtent[a.index][u]-c:n[a.wh];i.boundingLength=o,t&&(i.repeatCutLength=n[a.wh]),i.pxSign=o>0?1:-1}(n,o,i,r,d),function(e,t,n,r,i,o,a,s,l,c){var u,d=l.valueDim,p=l.categoryDim,f=Math.abs(n[p.wh]),h=e.getItemVisual(t,\"symbolSize\");(u=ie(h)?h.slice():null==h?[\"100%\",\"100%\"]:[h,h])[p.index]=Oo(u[p.index],f),u[d.index]=Oo(u[d.index],r?f:Math.abs(o)),c.symbolSize=u,(c.symbolScale=[u[0]/s,u[1]/s])[d.index]*=(l.isHorizontal?-1:1)*a}(e,t,i,o,0,d.boundingLength,d.pxSign,c,r,d),function(e,t,n,r,i){var o=e.get(Qk)||0;o&&(Jk.attr({scaleX:t[0],scaleY:t[1],rotation:n}),Jk.updateTransform(),o/=Jk.getLineScale(),o*=t[r.valueDim.index]),i.valueLineWidth=o||0}(n,d.symbolScale,l,r,d);var p=d.symbolSize,f=Qv(n.get(\"symbolOffset\"),p);return function(e,t,n,r,i,o,a,s,l,c,u,d){var p=u.categoryDim,f=u.valueDim,h=d.pxSign,m=Math.max(t[f.index]+s,0),g=m;if(r){var v=Math.abs(l),y=ve(e.get(\"symbolMargin\"),\"15%\")+\"\",b=!1;y.lastIndexOf(\"!\")===y.length-1&&(b=!0,y=y.slice(0,y.length-1));var S=Oo(y,t[f.index]),x=Math.max(m+2*S,0),w=b?0:2*S,C=Wo(r),T=C?r:mL((v+w)/x);x=m+2*(S=(v-T*m)/2/(b?T:Math.max(T-1,1))),w=b?0:2*S,C||\"fixed\"===r||(T=c?mL((Math.abs(c)+w)/x):0),g=T*x-w,d.repeatTimes=T,d.symbolMargin=S}var A=h*(g/2),E=d.pathPosition=[];E[p.index]=n[p.wh]/2,E[f.index]=\"start\"===a?A:\"end\"===a?l-A:l/2,o&&(E[0]+=o[0],E[1]+=o[1]);var O=d.bundlePosition=[];O[p.index]=n[p.xy],O[f.index]=n[f.xy];var M=d.barRectShape=H({},n);M[f.wh]=h*Math.max(Math.abs(n[f.wh]),Math.abs(E[f.index]+A)),M[p.wh]=n[p.wh];var P=d.clipShape={};P[p.xy]=-n[p.xy],P[p.wh]=u.ecSize[p.wh],P[f.xy]=0,P[f.wh]=n[f.wh]}(n,p,i,o,0,f,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,r,d),d}function eL(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function tL(e){var t=e.symbolPatternSize,n=Kv(e.symbolType,-t/2,-t/2,t,t);return n.attr({culling:!0}),\"image\"!==n.type&&n.setStyle({strokeNoScale:!0}),n}function nL(e,t,n,r){var i=e.__pictorialBundle,o=n.symbolSize,a=n.valueLineWidth,s=n.pathPosition,l=t.valueDim,c=n.repeatTimes||0,u=0,d=o[t.valueDim.index]+a+2*n.symbolMargin;for(pL(e,(function(e){e.__pictorialAnimationIndex=u,e.__pictorialRepeatTimes=c,u<c?fL(e,null,h(u),n,r):fL(e,null,{scaleX:0,scaleY:0},n,r,(function(){i.remove(e)})),u++}));u<c;u++){var p=tL(n);p.__pictorialAnimationIndex=u,p.__pictorialRepeatTimes=c,i.add(p);var f=h(u);fL(p,{x:f.x,y:f.y,scaleX:0,scaleY:0},{scaleX:f.scaleX,scaleY:f.scaleY,rotation:f.rotation},n,r)}function h(e){var t=s.slice(),r=n.pxSign,i=e;return(\"start\"===n.symbolRepeatDirection?r>0:r<0)&&(i=c-1-e),t[l.index]=d*(i-c/2+.5)+s[l.index],{x:t[0],y:t[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation}}}function rL(e,t,n,r){var i=e.__pictorialBundle,o=e.__pictorialMainPath;o?fL(o,null,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:n.symbolScale[0],scaleY:n.symbolScale[1],rotation:n.rotation},n,r):(o=e.__pictorialMainPath=tL(n),i.add(o),fL(o,{x:n.pathPosition[0],y:n.pathPosition[1],scaleX:0,scaleY:0,rotation:n.rotation},{scaleX:n.symbolScale[0],scaleY:n.symbolScale[1]},n,r))}function iL(e,t,n){var r=H({},t.barRectShape),i=e.__pictorialBarRect;i?fL(i,null,{shape:r},t,n):((i=e.__pictorialBarRect=new wl({z2:2,shape:r,silent:!0,style:{stroke:\"transparent\",fill:\"transparent\",lineWidth:0}})).disableMorphing=!0,e.add(i))}function oL(e,t,n,r){if(n.symbolClip){var i=e.__pictorialClipPath,o=H({},n.clipShape),a=t.valueDim,s=n.animationModel,c=n.dataIndex;if(i)zc(i,{shape:o},s,c);else{o[a.wh]=0,i=new wl({shape:o}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var u={};u[a.wh]=n.clipShape[a.wh],l[r?\"updateProps\":\"initProps\"](i,{shape:u},s,c)}}}function aL(e,t){var n=e.getItemModel(t);return n.getAnimationDelayParams=sL,n.isAnimationEnabled=lL,n}function sL(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function lL(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(\"animation\")}function cL(e,t,n,r){var i=new uo,o=new uo;return i.add(o),i.__pictorialBundle=o,o.x=n.bundlePosition[0],o.y=n.bundlePosition[1],n.symbolRepeat?nL(i,t,n):rL(i,0,n),iL(i,n,r),oL(i,t,n,r),i.__pictorialShapeStr=dL(e,n),i.__pictorialSymbolMeta=n,i}function uL(e,t,n,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];pL(r,(function(e){o.push(e)})),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(n=null),Q(o,(function(e){Uc(e,{scaleX:0,scaleY:0},n,t,(function(){r.parent&&r.parent.remove(r)}))})),e.setItemGraphicEl(t,null)}function dL(e,t){return[e.getItemVisual(t.dataIndex,\"symbol\")||\"none\",!!t.symbolRepeat,!!t.symbolClip].join(\":\")}function pL(e,t,n){Q(e.__pictorialBundle.children(),(function(r){r!==e.__pictorialBarRect&&t.call(n,r)}))}function fL(e,t,n,r,i,o){t&&e.attr(t),r.symbolClip&&!i?n&&e.attr(n):n&&l[i?\"updateProps\":\"initProps\"](e,n,r.animationModel,r.dataIndex,o)}function hL(e,t,n){var r=n.dataIndex,i=n.itemModel,o=i.getModel(\"emphasis\"),a=o.getModel(\"itemStyle\").getItemStyle(),s=i.getModel([\"blur\",\"itemStyle\"]).getItemStyle(),l=i.getModel([\"select\",\"itemStyle\"]).getItemStyle(),c=i.getShallow(\"cursor\"),u=o.get(\"focus\"),d=o.get(\"blurScope\"),p=o.get(\"scale\");pL(e,(function(e){if(e instanceof hl){var t=e.style;e.useStyle(H({image:t.image,x:t.x,y:t.y,width:t.width,height:t.height},n.style))}else e.useStyle(n.style);var r=e.ensureState(\"emphasis\");r.style=a,p&&(r.scaleX=1.1*e.scaleX,r.scaleY=1.1*e.scaleY),e.ensureState(\"blur\").style=s,e.ensureState(\"select\").style=l,c&&(e.cursor=c),e.z2=n.z2}));var f=t.valueDim.posDesc[+(n.boundingLength>0)],h=e.__pictorialBarRect;h.ignoreClip=!0,Xc(h,Jc(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:GT(t.seriesModel.getData(),r),inheritColor:n.style.fill,defaultOpacity:n.style.opacity,defaultOutsidePosition:f}),Pc(e,u,d,o.get(\"disabled\"))}function mL(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}const gL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this.group,i=e.getData(),o=this._data,a=e.coordinateSystem,s=a.getBaseAxis().isHorizontal(),l=a.master.getRect(),c={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:e,coordSys:a,coordSysExtent:[[l.x,l.x+l.width],[l.y,l.y+l.height]],isHorizontal:s,valueDim:Xk[+s],categoryDim:Xk[1-+s]};i.diff(o).add((function(e){if(i.hasValue(e)){var t=aL(i,e),n=$k(i,e,t,c),o=cL(i,c,n);i.setItemGraphicEl(e,o),r.add(o),hL(o,c,n)}})).update((function(e,t){var n=o.getItemGraphicEl(t);if(i.hasValue(e)){var a=aL(i,e),s=$k(i,e,a,c),l=dL(i,s);n&&l!==n.__pictorialShapeStr&&(r.remove(n),i.setItemGraphicEl(e,null),n=null),n?function(e,t,n){var r=n.animationModel,i=n.dataIndex;zc(e.__pictorialBundle,{x:n.bundlePosition[0],y:n.bundlePosition[1]},r,i),n.symbolRepeat?nL(e,t,n,!0):rL(e,0,n,!0),iL(e,n,!0),oL(e,t,n,!0)}(n,c,s):n=cL(i,c,s,!0),i.setItemGraphicEl(e,n),n.__pictorialSymbolMeta=s,r.add(n),hL(n,c,s)}else r.remove(n)})).remove((function(e){var t=o.getItemGraphicEl(e);t&&uL(o,e,t.__pictorialSymbolMeta.animationModel,t)})).execute();var u=e.get(\"clip\",!0)?fA(e.coordinateSystem,!1,e):null;return u?r.setClipPath(u):r.removeClipPath(),this._data=i,this.group},t.prototype.remove=function(e,t){var n=this.group,r=this._data;e.get(\"animation\")?r&&r.eachItemGraphicEl((function(t){uL(r,Bl(t).dataIndex,e,t)})):n.removeAll()},t.type=\"pictorialBar\",t}(Zg),vL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.hasSymbolVisual=!0,n.defaultSymbol=\"roundRect\",n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type=\"series.pictorialBar\",t.dependencies=[\"grid\"],t.defaultOption=Eu(DA.defaultOption,{symbol:\"circle\",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:\"end\",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:\"-100%\",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:\"#212121\"}}}),t}(DA);var yL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._layers=[],n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=e.getData(),i=this,o=this.group,a=e.getLayerSeries(),s=r.getLayout(\"layoutInfo\"),l=s.rect,c=s.boundaryGap;function u(e){return e.name}o.x=0,o.y=l.y+c[0];var d=new lS(this._layersSeries||[],a,u,u),p=[];function f(t,n,s){var l=i._layers;if(\"remove\"!==t){for(var c,u,d=[],f=[],h=a[n].indices,m=0;m<h.length;m++){var g=r.getItemLayout(h[m]),v=g.x,y=g.y0,b=g.y;d.push(v,y),f.push(v,y+b),c=r.getItemVisual(h[m],\"style\")}var S=r.getItemLayout(h[0]),x=e.getModel(\"label\").get(\"margin\"),w=e.getModel(\"emphasis\");if(\"add\"===t){var C=p[n]=new uo;u=new uA({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),C.add(u),o.add(C),e.isAnimationEnabled()&&u.setClipPath(function(e,t){var n=new wl({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Vc(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,(function(){u.removeClipPath()})),n}(u.getBoundingRect(),e))}else C=l[s],u=C.childAt(0),o.add(C),p[n]=C,zc(u,{shape:{points:d,stackedOnPoints:f}},e),Wc(u);Xc(u,Jc(e),{labelDataIndex:h[m-1],defaultText:r.getName(h[m-1]),inheritColor:c.fill},{normal:{verticalAlign:\"middle\"}}),u.setTextConfig({position:null,local:!0});var T=u.getTextContent();T&&(T.x=S.x-x,T.y=S.y0+S.y/2),u.useStyle(c),r.setItemGraphicEl(n,u),_c(u,e),Pc(u,w.get(\"focus\"),w.get(\"blurScope\"),w.get(\"disabled\"))}else o.remove(l[n])}d.add(ne(f,this,\"add\")).update(ne(f,this,\"update\")).remove(ne(f,this,\"remove\")).execute(),this._layersSeries=a,this._layers=p},t.type=\"themeRiver\",t}(Zg);const bL=yL;var SL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new yE(ne(this.getData,this),ne(this.getRawData,this))},t.prototype.fixData=function(e){var t=e.length,n={},r=Sa(e,(function(e){return n.hasOwnProperty(e[0]+\"\")||(n[e[0]+\"\"]=-1),e[2]})),i=[];r.buckets.each((function(e,t){i.push({name:t,dataList:e})}));for(var o=i.length,a=0;a<o;++a){for(var s=i[a].name,l=0;l<i[a].dataList.length;++l){var c=i[a].dataList[l][0]+\"\";n[c]=a}for(var c in n)n.hasOwnProperty(c)&&n[c]!==a&&(n[c]=a,e[t]=[c,0,s],t++)}return e},t.prototype.getInitialData=function(e,t){for(var n=this.getReferringComponents(\"singleAxis\",ga).models[0].get(\"type\"),r=$(e.data,(function(e){return void 0!==e[2]})),i=this.fixData(r||[]),o=[],a=this.nameMap=De(),s=0,l=0;l<i.length;++l)o.push(i[l][2]),a.get(i[l][2])||(a.set(i[l][2],s),s++);var c=kS(i,{coordDimensions:[\"single\"],dimensionsDefine:[{name:\"time\",type:dS(n)},{name:\"value\",type:\"float\"},{name:\"name\",type:\"ordinal\"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,u=new _S(c,this);return u.initData(i),u},t.prototype.getLayerSeries=function(){for(var e=this.getData(),t=e.count(),n=[],r=0;r<t;++r)n[r]=r;var i=e.mapDimension(\"single\"),o=Sa(n,(function(t){return e.get(\"name\",t)})),a=[];return o.buckets.each((function(t,n){t.sort((function(t,n){return e.get(i,t)-e.get(i,n)})),a.push({name:n,indices:t})})),a},t.prototype.getAxisTooltipData=function(e,t,n){ie(e)||(e=e?[e]:[]);for(var r,i=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var c=Number.MAX_VALUE,u=-1,d=o[l].indices.length,p=0;p<d;++p){var f=i.get(e[0],o[l].indices[p]),h=Math.abs(f-t);h<=c&&(r=f,c=h,u=o[l].indices[p])}a.push(u)}return{dataIndices:a,nestestValue:r}},t.prototype.formatTooltip=function(e,t,n){var r=this.getData();return rh(\"nameValue\",{name:r.getName(e),value:r.get(r.mapDimension(\"value\"),e)})},t.type=\"series.themeRiver\",t.dependencies=[\"singleAxis\"],t.defaultOption={z:2,colorBy:\"data\",coordinateSystem:\"singleAxis\",boundaryGap:[\"10%\",\"10%\"],singleAxisIndex:0,animationEasing:\"linear\",label:{margin:4,show:!0,position:\"left\",fontSize:11},emphasis:{label:{show:!0}}},t}(Oh);const xL=SL;function wL(e,t){e.eachSeriesByType(\"themeRiver\",(function(e){var t=e.getData(),n=e.coordinateSystem,r={},i=n.getRect();r.rect=i;var o=e.get(\"boundaryGap\"),a=n.getAxis();r.boundaryGap=o,\"horizontal\"===a.orient?(o[0]=Oo(o[0],i.height),o[1]=Oo(o[1],i.height),CL(t,e,i.height-o[0]-o[1])):(o[0]=Oo(o[0],i.width),o[1]=Oo(o[1],i.width),CL(t,e,i.width-o[0]-o[1])),t.setLayout(\"layoutInfo\",r)}))}function CL(e,t,n){if(e.count())for(var r,i=t.coordinateSystem,o=t.getLayerSeries(),a=e.mapDimension(\"single\"),s=e.mapDimension(\"value\"),l=X(o,(function(t){return X(t.indices,(function(t){var n=i.dataToPoint(e.get(a,t));return n[1]=e.get(s,t),n}))})),c=function(e){for(var t=e.length,n=e[0].length,r=[],i=[],o=0,a=0;a<n;++a){for(var s=0,l=0;l<t;++l)s+=e[l][a][1];s>o&&(o=s),r.push(s)}for(var c=0;c<n;++c)i[c]=(o-r[c])/2;o=0;for(var u=0;u<n;++u){var d=r[u]+i[u];d>o&&(o=d)}return{y0:i,max:o}}(l),u=c.y0,d=n/c.max,p=o.length,f=o[0].indices.length,h=0;h<f;++h){r=u[h]*d,e.setItemLayout(o[0].indices[h],{layerIndex:0,x:l[0][h][0],y0:r,y:l[0][h][1]*d});for(var m=1;m<p;++m)r+=l[m-1][h][1]*d,e.setItemLayout(o[m].indices[h],{layerIndex:m,x:l[m][h][0],y0:r,y:l[m][h][1]*d})}}var TL=function(e){function t(t,n,r,i){var o=e.call(this)||this;o.z2=2,o.textConfig={inside:!0},Bl(o).seriesIndex=n.seriesIndex;var a=new Zl({z2:4,silent:t.getModel().get([\"label\",\"silent\"])});return o.setTextContent(a),o.updateData(!0,t,n,r,i),o}return(0,m.ZT)(t,e),t.prototype.updateData=function(e,t,n,r,i){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var o=this;Bl(o).dataIndex=t.dataIndex;var a=t.getModel(),s=a.getModel(\"emphasis\"),l=t.getLayout(),c=H({},l);c.label=null;var u=t.getVisual(\"style\");u.lineJoin=\"bevel\";var d=t.getVisual(\"decal\");d&&(u.decal=Ay(d,i));var p=RA(a.getModel(\"itemStyle\"),c,!0);H(c,p),Q(Gl,(function(e){var t=o.ensureState(e),n=a.getModel([e,\"itemStyle\"]);t.style=n.getItemStyle();var r=RA(n,c);r&&(t.shape=r)})),e?(o.setShape(c),o.shape.r=l.r0,Vc(o,{shape:{r:l.r}},n,t.dataIndex)):(zc(o,{shape:c},n),Wc(o)),o.useStyle(u),this._updateLabel(n);var f=a.getShallow(\"cursor\");f&&o.attr(\"cursor\",f),this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel;var h=s.get(\"focus\");Pc(this,\"ancestor\"===h?t.getAncestorsIndices():\"descendant\"===h?t.getDescendantIndices():h,s.get(\"blurScope\"),s.get(\"disabled\"))},t.prototype._updateLabel=function(e){var t=this,n=this.node.getModel(),r=n.getModel(\"label\"),i=this.node.getLayout(),o=i.endAngle-i.startAngle,a=(i.startAngle+i.endAngle)/2,s=Math.cos(a),l=Math.sin(a),c=this,u=c.getTextContent(),d=this.node.dataIndex,p=r.get(\"minAngle\")/180*Math.PI,f=r.get(\"show\")&&!(null!=p&&Math.abs(o)<p);function h(e,t){var n=e.get(t);return null==n?r.get(t):n}u.ignore=!f,Q(Yl,(function(r){var p=\"normal\"===r?n.getModel(\"label\"):n.getModel([r,\"label\"]),f=\"normal\"===r,m=f?u:u.ensureState(r),g=e.getFormattedLabel(d,r);f&&(g=g||t.node.name),m.style=$c(p,{},null,\"normal\"!==r,!0),g&&(m.style.text=g);var v=p.get(\"show\");null==v||f||(m.ignore=!v);var y,b=h(p,\"position\"),S=f?c:c.states[r],x=S.style.fill;S.textConfig={outsideFill:\"inherit\"===p.get(\"color\")?x:null,inside:\"outside\"!==b};var w=h(p,\"distance\")||0,C=h(p,\"align\"),T=h(p,\"rotate\"),A=.5*Math.PI,E=1.5*Math.PI,O=Gs(\"tangential\"===T?Math.PI/2-a:a),M=O>A&&!Zo(O-A)&&O<E;\"outside\"===b?(y=i.r+w,C=M?\"right\":\"left\"):C&&\"center\"!==C?\"left\"===C?(y=i.r0+w,C=M?\"right\":\"left\"):\"right\"===C&&(y=i.r-w,C=M?\"left\":\"right\"):(y=o===2*Math.PI&&0===i.r0?0:(i.r+i.r0)/2,C=\"center\"),m.style.align=C,m.style.verticalAlign=h(p,\"verticalAlign\")||\"middle\",m.x=y*s+i.cx,m.y=y*l+i.cy;var P=0;\"radial\"===T?P=Gs(-a)+(M?Math.PI:0):\"tangential\"===T?P=Gs(Math.PI/2-a)+(M?Math.PI:0):le(T)&&(P=T*Math.PI/180),m.rotation=Gs(P)})),u.dirtyStyle()},t}(vm);const AL=TL;var EL=\"sunburstRootToNode\",OL=\"sunburstHighlight\",ML=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i=this;this.seriesModel=e,this.api=n,this.ecModel=t;var o=e.getData(),a=o.tree.root,s=e.getViewRoot(),l=this.group,c=e.get(\"renderLabelForZeroData\"),u=[];s.eachNode((function(e){u.push(e)}));var d=this._oldChildren||[];!function(r,i){function s(e){return e.getId()}function u(s,u){!function(r,i){if(c||!r||r.getValue()||(r=null),r!==a&&i!==a)if(i&&i.piece)r?(i.piece.updateData(!1,r,e,t,n),o.setItemGraphicEl(r.dataIndex,i.piece)):(u=i)&&u.piece&&(l.remove(u.piece),u.piece=null);else if(r){var s=new AL(r,e,t,n);l.add(s),o.setItemGraphicEl(r.dataIndex,s)}var u}(null==s?null:r[s],null==u?null:i[u])}0===r.length&&0===i.length||new lS(i,r,s,s).add(u).update(u).remove(re(u,null)).execute()}(u,d),function(r,o){o.depth>0?(i.virtualPiece?i.virtualPiece.updateData(!1,r,e,t,n):(i.virtualPiece=new AL(r,e,t,n),l.add(i.virtualPiece)),o.piece.off(\"click\"),i.virtualPiece.on(\"click\",(function(e){i._rootToNode(o.parentNode)}))):i.virtualPiece&&(l.remove(i.virtualPiece),i.virtualPiece=null)}(a,s),this._initEvents(),this._oldChildren=u},t.prototype._initEvents=function(){var e=this;this.group.off(\"click\"),this.group.on(\"click\",(function(t){var n=!1;e.seriesModel.getViewRoot().eachNode((function(r){if(!n&&r.piece&&r.piece===t.target){var i=r.getModel().get(\"nodeClick\");if(\"rootToNode\"===i)e._rootToNode(r);else if(\"link\"===i){var o=r.getModel(),a=o.get(\"link\");a&&bd(a,o.get(\"target\",!0)||\"_blank\")}n=!0}}))}))},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:EL,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,t){var n=t.getData().getItemLayout(0);if(n){var r=e[0]-n.cx,i=e[1]-n.cy,o=Math.sqrt(r*r+i*i);return o<=n.r&&o>=n.r0}},t.type=\"sunburst\",t}(Zg);const PL=ML;function DL(e){var t=0;Q(e.children,(function(e){DL(e);var n=e.value;ie(n)&&(n=n[0]),t+=n}));var n=e.value;ie(n)&&(n=n[0]),(null==n||isNaN(n))&&(n=t),n<0&&(n=0),ie(e.value)?e.value[0]=n:e.value=n}const IL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.ignoreStyleOnData=!0,n}return(0,m.ZT)(t,e),t.prototype.getInitialData=function(e,t){var n={name:e.name,children:e.data};DL(n);var r=this._levelModels=X(e.levels||[],(function(e){return new Cu(e,this,t)}),this),i=rD.createTree(n,this,(function(e){e.wrapMethod(\"getItemModel\",(function(e,t){var n=i.getNodeByDataIndex(t),o=r[n.depth];return o&&(e.parentModel=o),e}))}));return i.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=sD(r,this),n},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)},t.prototype.enableAriaDecal=function(){hD(this)},t.type=\"series.sunburst\",t.defaultOption={z:2,center:[\"50%\",\"50%\"],radius:[0,\"75%\"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:\"rootToNode\",renderLabelForZeroData:!1,label:{rotate:\"radial\",show:!0,opacity:1,align:\"center\",position:\"inside\",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:\"white\",borderType:\"solid\",shadowBlur:0,shadowColor:\"rgba(0, 0, 0, 0.2)\",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:\"descendant\"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:\"expansion\",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:\"desc\"},t}(Oh);var NL=Math.PI/180;function _L(e,t,n){t.eachSeriesByType(e,(function(e){var t=e.get(\"center\"),r=e.get(\"radius\");ie(r)||(r=[0,r]),ie(t)||(t=[t,t]);var i=n.getWidth(),o=n.getHeight(),a=Math.min(i,o),s=Oo(t[0],i),l=Oo(t[1],o),c=Oo(r[0],a/2),u=Oo(r[1],a/2),d=-e.get(\"startAngle\")*NL,p=e.get(\"minAngle\")*NL,f=e.getData().tree.root,h=e.getViewRoot(),m=h.depth,g=e.get(\"sort\");null!=g&&jL(h,g);var v=0;Q(h.children,(function(e){!isNaN(e.getValue())&&v++}));var y=h.getValue(),b=Math.PI/(y||v)*2,S=h.depth>0,x=h.height-(S?-1:1),w=(u-c)/(x||1),C=e.get(\"clockwise\"),T=e.get(\"stillShowZeroSum\"),A=C?1:-1,E=function(t,n){if(t){var r=n;if(t!==f){var i=t.getValue(),o=0===y&&T?b:i*b;o<p&&(o=p),r=n+A*o;var u=t.depth-m-(S?-1:1),d=c+w*u,h=c+w*(u+1),g=e.getLevelModel(t);if(g){var v=g.get(\"r0\",!0),x=g.get(\"r\",!0),O=g.get(\"radius\",!0);null!=O&&(v=O[0],x=O[1]),null!=v&&(d=Oo(v,a/2)),null!=x&&(h=Oo(x,a/2))}t.setLayout({angle:o,startAngle:n,endAngle:r,clockwise:C,cx:s,cy:l,r0:d,r:h})}if(t.children&&t.children.length){var M=0;Q(t.children,(function(e){M+=E(e,n+M)}))}return r-n}};if(S){var O=c,M=c+w,P=2*Math.PI;f.setLayout({angle:P,startAngle:d,endAngle:d+P,clockwise:C,cx:s,cy:l,r0:O,r:M})}E(h,d)}))}function jL(e,t){var n=e.children||[];e.children=function(e,t){if(oe(t)){var n=X(e,(function(e,t){var n=e.getValue();return{params:{depth:e.depth,height:e.height,dataIndex:e.dataIndex,getValue:function(){return n}},index:t}}));return n.sort((function(e,n){return t(e.params,n.params)})),X(n,(function(t){return e[t.index]}))}var r=\"asc\"===t;return e.sort((function(e,t){var n=(e.getValue()-t.getValue())*(r?1:-1);return 0===n?(e.dataIndex-t.dataIndex)*(r?-1:1):n}))}(n,t),n.length&&Q(e.children,(function(e){jL(e,t)}))}function kL(e){var t={};e.eachSeriesByType(\"sunburst\",(function(e){var n=e.getData(),r=n.tree;r.eachNode((function(i){var o=i.getModel().getModel(\"itemStyle\").getItemStyle();o.fill||(o.fill=function(e,n,r){for(var i=e;i&&i.depth>1;)i=i.parentNode;var o=n.getColorFromPalette(i.name||i.dataIndex+\"\",t);return e.depth>1&&ae(o)&&(o=Sr(o,(e.depth-1)/(r-1)*.5)),o}(i,e,r.root.height)),H(n.ensureUniqueItemVisual(i.dataIndex,\"style\"),o)}))}))}var LL={color:\"fill\",borderColor:\"stroke\"},RL={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},ZL=pa();const BL=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.optionUpdated=function(){this.currentZLevel=this.get(\"zlevel\",!0),this.currentZ=this.get(\"z\",!0)},t.prototype.getInitialData=function(e,t){return HS(null,this)},t.prototype.getDataParams=function(t,n,r){var i=e.prototype.getDataParams.call(this,t,n);return r&&(i.info=ZL(r).info),i},t.type=\"series.custom\",t.dependencies=[\"grid\",\"polar\",\"geo\",\"singleAxis\",\"calendar\"],t.defaultOption={coordinateSystem:\"cartesian2d\",z:2,legendHoverLink:!0,clip:!1},t}(Oh);function FL(e,t){return t=t||[0,0],X([\"x\",\"y\"],(function(n,r){var i=this.getAxis(n),o=t[r],a=e[r]/2;return\"category\"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a))}),this)}function zL(e,t){return t=t||[0,0],X([0,1],(function(n){var r=t[n],i=e[n]/2,o=[],a=[];return o[n]=r-i,a[n]=r+i,o[1-n]=a[1-n]=t[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(a)[n])}),this)}function VL(e,t){var n=this.getAxis(),r=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return\"category\"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(r-i)-n.dataToCoord(r+i))}function HL(e,t){return t=t||[0,0],X([\"Radius\",\"Angle\"],(function(n,r){var i=this[\"get\"+n+\"Axis\"](),o=t[r],a=e[r]/2,s=\"category\"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-a)-i.dataToCoord(o+a));return\"Angle\"===n&&(s=s*Math.PI/180),s}),this)}function UL(e,t,n,r){return e&&(e.legacy||!1!==e.legacy&&!n&&!r&&\"tspan\"!==t&&(\"text\"===t||je(e,\"text\")))}function GL(e,t,n){var r,i,o,a=e;if(\"text\"===t)o=a;else{o={},je(a,\"text\")&&(o.text=a.text),je(a,\"rich\")&&(o.rich=a.rich),je(a,\"textFill\")&&(o.fill=a.textFill),je(a,\"textStroke\")&&(o.stroke=a.textStroke),je(a,\"fontFamily\")&&(o.fontFamily=a.fontFamily),je(a,\"fontSize\")&&(o.fontSize=a.fontSize),je(a,\"fontStyle\")&&(o.fontStyle=a.fontStyle),je(a,\"fontWeight\")&&(o.fontWeight=a.fontWeight),i={type:\"text\",style:o,silent:!0},r={};var s=je(a,\"textPosition\");n?r.position=s?a.textPosition:\"inside\":s&&(r.position=a.textPosition),je(a,\"textPosition\")&&(r.position=a.textPosition),je(a,\"textOffset\")&&(r.offset=a.textOffset),je(a,\"textRotation\")&&(r.rotation=a.textRotation),je(a,\"textDistance\")&&(r.distance=a.textDistance)}return YL(o,e),Q(o.rich,(function(e){YL(e,e)})),{textConfig:r,textContent:i}}function YL(e,t){t&&(t.font=t.textFont||t.font,je(t,\"textStrokeWidth\")&&(e.lineWidth=t.textStrokeWidth),je(t,\"textAlign\")&&(e.align=t.textAlign),je(t,\"textVerticalAlign\")&&(e.verticalAlign=t.textVerticalAlign),je(t,\"textLineHeight\")&&(e.lineHeight=t.textLineHeight),je(t,\"textWidth\")&&(e.width=t.textWidth),je(t,\"textHeight\")&&(e.height=t.textHeight),je(t,\"textBackgroundColor\")&&(e.backgroundColor=t.textBackgroundColor),je(t,\"textPadding\")&&(e.padding=t.textPadding),je(t,\"textBorderColor\")&&(e.borderColor=t.textBorderColor),je(t,\"textBorderWidth\")&&(e.borderWidth=t.textBorderWidth),je(t,\"textBorderRadius\")&&(e.borderRadius=t.textBorderRadius),je(t,\"textBoxShadowColor\")&&(e.shadowColor=t.textBoxShadowColor),je(t,\"textBoxShadowBlur\")&&(e.shadowBlur=t.textBoxShadowBlur),je(t,\"textBoxShadowOffsetX\")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),je(t,\"textBoxShadowOffsetY\")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function WL(e,t,n){var r=e;r.textPosition=r.textPosition||n.position||\"inside\",null!=n.offset&&(r.textOffset=n.offset),null!=n.rotation&&(r.textRotation=n.rotation),null!=n.distance&&(r.textDistance=n.distance);var i=r.textPosition.indexOf(\"inside\")>=0,o=e.fill||\"#000\";KL(r,t);var a=null==r.textFill;return i?a&&(r.textFill=n.insideFill||\"#fff\",!r.textStroke&&n.insideStroke&&(r.textStroke=n.insideStroke),!r.textStroke&&(r.textStroke=o),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(a&&(r.textFill=e.fill||n.outsideFill||\"#000\"),!r.textStroke&&n.outsideStroke&&(r.textStroke=n.outsideStroke)),r.text=t.text,r.rich=t.rich,Q(t.rich,(function(e){KL(e,e)})),r}function KL(e,t){t&&(je(t,\"fill\")&&(e.textFill=t.fill),je(t,\"stroke\")&&(e.textStroke=t.fill),je(t,\"lineWidth\")&&(e.textStrokeWidth=t.lineWidth),je(t,\"font\")&&(e.font=t.font),je(t,\"fontStyle\")&&(e.fontStyle=t.fontStyle),je(t,\"fontWeight\")&&(e.fontWeight=t.fontWeight),je(t,\"fontSize\")&&(e.fontSize=t.fontSize),je(t,\"fontFamily\")&&(e.fontFamily=t.fontFamily),je(t,\"align\")&&(e.textAlign=t.align),je(t,\"verticalAlign\")&&(e.textVerticalAlign=t.verticalAlign),je(t,\"lineHeight\")&&(e.textLineHeight=t.lineHeight),je(t,\"width\")&&(e.textWidth=t.width),je(t,\"height\")&&(e.textHeight=t.height),je(t,\"backgroundColor\")&&(e.textBackgroundColor=t.backgroundColor),je(t,\"padding\")&&(e.textPadding=t.padding),je(t,\"borderColor\")&&(e.textBorderColor=t.borderColor),je(t,\"borderWidth\")&&(e.textBorderWidth=t.borderWidth),je(t,\"borderRadius\")&&(e.textBorderRadius=t.borderRadius),je(t,\"shadowColor\")&&(e.textBoxShadowColor=t.shadowColor),je(t,\"shadowBlur\")&&(e.textBoxShadowBlur=t.shadowBlur),je(t,\"shadowOffsetX\")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),je(t,\"shadowOffsetY\")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),je(t,\"textShadowColor\")&&(e.textShadowColor=t.textShadowColor),je(t,\"textShadowBlur\")&&(e.textShadowBlur=t.textShadowBlur),je(t,\"textShadowOffsetX\")&&(e.textShadowOffsetX=t.textShadowOffsetX),je(t,\"textShadowOffsetY\")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var qL={position:[\"x\",\"y\"],scale:[\"scaleX\",\"scaleY\"],origin:[\"originX\",\"originY\"]},QL=te(qL),XL=(J(Fi,(function(e,t){return e[t]=1,e}),{}),Fi.join(\", \"),[\"\",\"style\",\"shape\",\"extra\"]),JL=pa();function $L(e,t,n,r,i){var o=e+\"Animation\",a=Bc(e,r,i)||{},s=JL(t).userDuring;return a.duration>0&&(a.during=s?ne(aR,{el:t,userDuring:s}):null,a.setToFinal=!0,a.scope=e),H(a,n[o]),a}function eR(e,t,n,r){var i=(r=r||{}).dataIndex,o=r.isInit,a=r.clearStyle,s=n.isAnimationEnabled(),l=JL(e),c=t.style;l.userDuring=t.during;var u={},d={};if(function(e,t,n){for(var r=0;r<QL.length;r++){var i=QL[r],o=qL[i],a=t[i];a&&(n[o[0]]=a[0],n[o[1]]=a[1])}for(r=0;r<Fi.length;r++){var s=Fi[r];null!=t[s]&&(n[s]=t[s])}}(0,t,d),lR(\"shape\",t,d),lR(\"extra\",t,d),!o&&s&&(function(e,t,n){for(var r=t.transition,i=rR(r)?Fi:ea(r||[]),o=0;o<i.length;o++){var a=i[o];if(\"style\"!==a&&\"shape\"!==a&&\"extra\"!==a){var s=e[a];n[a]=s}}}(e,t,u),sR(\"shape\",e,t,u),sR(\"extra\",e,t,u),function(e,t,n,r){if(n){var i,o=e.style;if(o){var a=n.transition,s=t.transition;if(a&&!rR(a)){var l=ea(a);!i&&(i=r.style={});for(var c=0;c<l.length;c++){var u=o[h=l[c]];i[h]=u}}else if(e.getAnimationStyleProps&&(rR(s)||rR(a)||Y(s,\"style\")>=0)){var d=e.getAnimationStyleProps(),p=d?d.style:null;if(p){!i&&(i=r.style={});var f=te(n);for(c=0;c<f.length;c++){var h;p[h=f[c]]&&(u=o[h],i[h]=u)}}}}}}(e,t,c,u)),d.style=c,function(e,t,n){var r=t.style;if(!e.isGroup&&r){if(n){e.useStyle({});for(var i=e.animators,o=0;o<i.length;o++){var a=i[o];\"style\"===a.targetName&&a.changeTarget(e.style)}}e.setStyle(r)}t&&(t.style=null,t&&e.attr(t),t.style=r)}(e,d,a),function(e,t){je(t,\"silent\")&&(e.silent=t.silent),je(t,\"ignore\")&&(e.ignore=t.ignore),e instanceof os&&je(t,\"invisible\")&&(e.invisible=t.invisible),e instanceof sl&&je(t,\"autoBatch\")&&(e.autoBatch=t.autoBatch)}(e,t),s)if(o){var p={};Q(XL,(function(e){var n=e?t[e]:t;n&&n.enterFrom&&(e&&(p[e]=p[e]||{}),H(e?p[e]:p,n.enterFrom))}));var f=$L(\"enter\",e,t,n,i);f.duration>0&&e.animateFrom(p,f)}else!function(e,t,n,r,i){if(i){var o=$L(\"update\",e,t,r,n);o.duration>0&&e.animateFrom(i,o)}}(e,t,i||0,n,u);tR(e,t),c?e.dirty():e.markRedraw()}function tR(e,t){for(var n=JL(e).leaveToProps,r=0;r<XL.length;r++){var i=XL[r],o=i?t[i]:t;o&&o.leaveTo&&(n||(n=JL(e).leaveToProps={}),i&&(n[i]=n[i]||{}),H(i?n[i]:n,o.leaveTo))}}function nR(e,t,n,r){if(e){var i=e.parent,o=JL(e).leaveToProps;if(o){var a=$L(\"update\",e,t,n,0);a.done=function(){i.remove(e),r&&r()},e.animateTo(o,a)}else i.remove(e),r&&r()}}function rR(e){return\"all\"===e}var iR={},oR={setTransform:function(e,t){return iR.el[e]=t,this},getTransform:function(e){return iR.el[e]},setShape:function(e,t){var n=iR.el;return(n.shape||(n.shape={}))[e]=t,n.dirtyShape&&n.dirtyShape(),this},getShape:function(e){var t=iR.el.shape;if(t)return t[e]},setStyle:function(e,t){var n=iR.el,r=n.style;return r&&(r[e]=t,n.dirtyStyle&&n.dirtyStyle()),this},getStyle:function(e){var t=iR.el.style;if(t)return t[e]},setExtra:function(e,t){return(iR.el.extra||(iR.el.extra={}))[e]=t,this},getExtra:function(e){var t=iR.el.extra;if(t)return t[e]}};function aR(){var e=this,t=e.el;if(t){var n=JL(t).userDuring,r=e.userDuring;n===r?(iR.el=t,r(oR)):e.el=e.userDuring=null}}function sR(e,t,n,r){var i=n[e];if(i){var o,a=t[e];if(a){var s=n.transition,l=i.transition;if(l)if(!o&&(o=r[e]={}),rR(l))H(o,a);else for(var c=ea(l),u=0;u<c.length;u++){var d=a[f=c[u]];o[f]=d}else if(rR(s)||Y(s,e)>=0){!o&&(o=r[e]={});var p=te(a);for(u=0;u<p.length;u++){var f;d=a[f=p[u]],cR(i[f],d)&&(o[f]=d)}}}}}function lR(e,t,n){var r=t[e];if(r)for(var i=n[e]={},o=te(r),a=0;a<o.length;a++){var s=o[a];i[s]=ti(r[s])}}function cR(e,t){return q(e)?e!==t:null!=e&&isFinite(e)}var uR=pa(),dR=[\"percent\",\"easing\",\"shape\",\"style\",\"extra\"];function pR(e){e.stopAnimation(\"keyframe\"),e.attr(uR(e))}function fR(e,t,n){if(n.isAnimationEnabled()&&t)if(ie(t))Q(t,(function(t){fR(e,t,n)}));else{var r=t.keyframes,i=t.duration;if(n&&null==i){var o=Bc(\"enter\",n,0);i=o&&o.duration}if(r&&i){var a=uR(e);Q(XL,(function(n){var o;n&&!e[n]||(r.sort((function(e,t){return e.percent-t.percent})),Q(r,(function(r){var s=e.animators,l=n?r[n]:r;if(l){var c=te(l);if(n||(c=$(c,(function(e){return Y(dR,e)<0}))),c.length){o||((o=e.animate(n,t.loop,!0)).scope=\"keyframe\");for(var u=0;u<s.length;u++)s[u]!==o&&s[u].targetName===o.targetName&&s[u].stopTracks(c);n&&(a[n]=a[n]||{});var d=n?a[n]:a;Q(c,(function(t){d[t]=((n?e[n]:e)||{})[t]})),o.whenWithKeys(i*r.percent,l,c,r.easing)}}})),o&&o.delay(t.delay||0).duration(i).start(t.easing))}))}}}var hR=\"emphasis\",mR=\"normal\",gR=\"blur\",vR=\"select\",yR=[mR,hR,gR,vR],bR={normal:[\"itemStyle\"],emphasis:[hR,\"itemStyle\"],blur:[gR,\"itemStyle\"],select:[vR,\"itemStyle\"]},SR={normal:[\"label\"],emphasis:[hR,\"label\"],blur:[gR,\"label\"],select:[vR,\"label\"]},xR=[\"x\",\"y\"],wR={normal:{},emphasis:{},blur:{},select:{}},CR={cartesian2d:function(e){var t=e.master.getRect();return{coordSys:{type:\"cartesian2d\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ne(FL,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:\"geo\",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:ne(zL,e)}}},single:function(e){var t=e.getRect();return{coordSys:{type:\"singleAxis\",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:ne(VL,e)}}},polar:function(e){var t=e.getRadiusAxis(),n=e.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:\"polar\",cx:e.cx,cy:e.cy,r:r[1],r0:r[0]},api:{coord:function(r){var i=t.dataToRadius(r[0]),o=n.dataToAngle(r[1]),a=e.coordToPoint([i,o]);return a.push(i,o*Math.PI/180),a},size:ne(HL,e)}}},calendar:function(e){var t=e.getRect(),n=e.getRangeInfo();return{coordSys:{type:\"calendar\",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:n.start,end:n.end,weeks:n.weeks,dayCount:n.allDay}},api:{coord:function(t,n){return e.dataToPoint(t,n)}}}}};function TR(e){return e instanceof sl}function AR(e){return e instanceof os}const ER=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._progressiveEls=null;var i=this._data,o=e.getData(),a=this.group,s=IR(e,o,t,n);i||a.removeAll(),o.diff(i).add((function(t){_R(n,null,t,s(t,r),e,a,o)})).remove((function(t){var n=i.getItemGraphicEl(t);n&&nR(n,ZL(n).option,e)})).update((function(t,l){var c=i.getItemGraphicEl(l);_R(n,c,t,s(t,r),e,a,o)})).execute();var l=e.get(\"clip\",!0)?fA(e.coordinateSystem,!1,e):null;l?a.setClipPath(l):a.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(e,t,n){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,t,n,r,i){var o=t.getData(),a=IR(t,o,n,r),s=this._progressiveEls=[];function l(e){e.isGroup||(e.incremental=!0,e.ensureState(\"emphasis\").hoverLayer=!0)}for(var c=e.start;c<e.end;c++){var u=_R(null,null,c,a(c,i),t,this.group,o);u&&(u.traverse(l),s.push(u))}},t.prototype.eachRendered=function(e){Pg(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,t,n,r){var i=t.element;if(null==i||n.name===i)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===i)return!0;return!1},t.type=\"custom\",t}(Zg);function OR(e){var t,n=e.type;if(\"path\"===n){var r=e.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=HR(r);t=lg(o,null,i,r.layout||\"center\"),ZL(t).customPathData=o}else if(\"image\"===n)t=new hl({}),ZL(t).customImagePath=e.style.image;else if(\"text\"===n)t=new Zl({});else if(\"group\"===n)t=new uo;else{if(\"compoundPath\"===n)throw new Error('\"compoundPath\" is not supported yet.');var a=sg(n);a||xf(\"\"),t=new a}return ZL(t).customGraphicType=n,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function MR(e,t,n,r,i,o,a){pR(t);var s=i&&i.normal.cfg;s&&t.setTextConfig(s),r&&null==r.transition&&(r.transition=xR);var l=r&&r.style;if(l){if(\"text\"===t.type){var c=l;je(c,\"textFill\")&&(c.fill=c.textFill),je(c,\"textStroke\")&&(c.stroke=c.textStroke)}var u=void 0,d=TR(t)?l.decal:null;e&&d&&(d.dirty=!0,u=Ay(d,e)),l.__decalPattern=u}AR(t)&&l&&(u=l.__decalPattern)&&(l.decal=u),eR(t,r,o,{dataIndex:n,isInit:a,clearStyle:!0}),fR(t,r.keyframeAnimation,o)}function PR(e,t,n,r,i){var o=t.isGroup?null:t,a=i&&i[e].cfg;if(o){var s=o.ensureState(e);if(!1===r){var l=o.getState(e);l&&(l.style=null)}else s.style=r||null;a&&(s.textConfig=a),pc(o)}}function DR(e,t,n){var r=n===mR,i=r?t:RR(t,n),o=i?i.z2:null;null!=o&&((r?e:e.ensureState(n)).z2=o||0)}function IR(e,t,n,r){var i=e.get(\"renderItem\"),o=e.coordinateSystem,a={};o&&(a=o.prepareCustoms?o.prepareCustoms(o):CR[o.type](o));for(var s,l,c=U({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(e,n){return null==n&&(n=s),t.getStore().get(t.getDimensionIndex(e||0),n)},style:function(n,r){null==r&&(r=s);var i=t.getItemVisual(r,\"style\"),o=i&&i.fill,a=i&&i.opacity,l=y(r,mR).getItemStyle();null!=o&&(l.fill=o),null!=a&&(l.opacity=a);var c={inheritColor:ae(o)?o:\"#000\"},u=b(r,mR),d=$c(u,null,c,!1,!0);d.text=u.getShallow(\"show\")?ye(e.getFormattedLabel(r,mR),GT(t,r)):null;var p=eu(u,c,!1);return x(n,l),l=WL(l,d,p),n&&S(l,n),l.legacy=!0,l},ordinalRawValue:function(e,n){null==n&&(n=s),e=e||0;var r=t.getDimensionInfo(e);if(!r){var i=t.getDimensionIndex(e);return i>=0?t.getStore().get(i,n):void 0}var o=t.get(r.name,n),a=r&&r.ordinalMeta;return a?a.categories[o]:o},styleEmphasis:function(n,r){null==r&&(r=s);var i=y(r,hR).getItemStyle(),o=b(r,hR),a=$c(o,null,null,!0,!0);a.text=o.getShallow(\"show\")?be(e.getFormattedLabel(r,hR),e.getFormattedLabel(r,mR),GT(t,r)):null;var l=eu(o,null,!0);return x(n,i),i=WL(i,a,l),n&&S(i,n),i.legacy=!0,i},visual:function(e,n){if(null==n&&(n=s),je(LL,e)){var r=t.getItemVisual(n,\"style\");return r?r[LL[e]]:null}if(je(RL,e))return t.getItemVisual(n,e)},barLayout:function(e){if(\"cartesian2d\"===o.type)return function(e){var t=[],n=e.axis,r=\"axis0\";if(\"category\"===n.type){for(var i=n.getBandWidth(),o=0;o<e.count;o++)t.push(U({bandWidth:i,axisKey:r,stackId:ux+o},e));var a=mx(t),s=[];for(o=0;o<e.count;o++){var l=a[r][ux+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(U({axis:o.getBaseAxis()},e))},currentSeriesIndices:function(){return n.getCurrentSeriesIndices()},font:function(e){return ou(e,n)}},a.api||{}),u={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:a.coordSys,dataInsideLength:t.count(),encode:NR(e.getData())},d={},p={},f={},h={},m=0;m<yR.length;m++){var g=yR[m];f[g]=e.getModel(bR[g]),h[g]=e.getModel(SR[g])}function v(e){return e===s?l||(l=t.getItemModel(e)):t.getItemModel(e)}function y(e,n){return t.hasItemOption?e===s?d[n]||(d[n]=v(e).getModel(bR[n])):v(e).getModel(bR[n]):f[n]}function b(e,n){return t.hasItemOption?e===s?p[n]||(p[n]=v(e).getModel(SR[n])):v(e).getModel(SR[n]):h[n]}return function(e,n){return s=e,l=null,d={},p={},i&&i(U({dataIndexInside:e,dataIndex:t.getRawIndex(e),actionType:n?n.type:null},u),c)};function S(e,t){for(var n in t)je(t,n)&&(e[n]=t[n])}function x(e,t){e&&(e.textFill&&(t.textFill=e.textFill),e.textPosition&&(t.textPosition=e.textPosition))}}function NR(e){var t={};return Q(e.dimensions,(function(n){var r=e.getDimensionInfo(n);if(!r.isExtraCoord){var i=r.coordDim;(t[i]=t[i]||[])[r.coordDimIndex]=e.getDimensionIndex(n)}})),t}function _R(e,t,n,r,i,o,a){if(r){var s=jR(e,t,n,r,i,o);return s&&a.setItemGraphicEl(n,s),s&&Pc(s,r.focus,r.blurScope,r.emphasisDisabled),s}o.remove(t)}function jR(e,t,n,r,i,o){var a=-1,s=t;t&&kR(t,r,i)&&(a=Y(o.childrenRef(),t),t=null);var l,c,u=!t,d=t;d?d.clearStates():(d=OR(r),s&&(l=s,(c=d).copyTransform(l),AR(c)&&AR(l)&&(c.setStyle(l.style),c.z=l.z,c.z2=l.z2,c.zlevel=l.zlevel,c.invisible=l.invisible,c.ignore=l.ignore,TR(c)&&TR(l)&&c.setShape(l.shape)))),!1===r.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),wR.normal.cfg=wR.normal.conOpt=wR.emphasis.cfg=wR.emphasis.conOpt=wR.blur.cfg=wR.blur.conOpt=wR.select.cfg=wR.select.conOpt=null,wR.isLegacy=!1,function(e,t,n,r,i,o){if(!e.isGroup){LR(n,null,o),LR(n,hR,o);var a=o.normal.conOpt,s=o.emphasis.conOpt,l=o.blur.conOpt,c=o.select.conOpt;if(null!=a||null!=s||null!=c||null!=l){var u=e.getTextContent();if(!1===a)u&&e.removeTextContent();else{a=o.normal.conOpt=a||{type:\"text\"},u?u.clearStates():(u=OR(a),e.setTextContent(u)),MR(null,u,t,a,null,r,i);for(var d=a&&a.style,p=0;p<yR.length;p++){var f=yR[p];if(f!==mR)PR(f,u,0,ZR(a,o[f].conOpt,f),null)}d?u.dirty():u.markRedraw()}}}}(d,n,r,i,u,wR),function(e,t,n,r,i){var o=n.clipPath;if(!1===o)e&&e.getClipPath()&&e.removeClipPath();else if(o){var a=e.getClipPath();a&&kR(a,o,r)&&(a=null),a||(a=OR(o),e.setClipPath(a)),MR(null,a,t,o,null,r,i)}}(d,n,r,i,u),MR(e,d,n,r,wR,i,u),je(r,\"info\")&&(ZL(d).info=r.info);for(var p=0;p<yR.length;p++){var f=yR[p];if(f!==mR)PR(f,d,0,ZR(r,RR(r,f),f),wR)}return function(e,t,n){if(!e.isGroup){var r=e,i=n.currentZ,o=n.currentZLevel;r.z=i,r.zlevel=o;var a=t.z2;null!=a&&(r.z2=a||0);for(var s=0;s<yR.length;s++)DR(r,t,yR[s])}}(d,r,i),\"group\"===r.type&&function(e,t,n,r,i){var o=r.children,a=o?o.length:0,s=r.$mergeChildren,l=\"byName\"===s||r.diffChildrenByName,c=!1===s;if(a||l||c){if(l)return u={api:e,oldChildren:t.children()||[],newChildren:o||[],dataIndex:n,seriesModel:i,group:t},void new lS(u.oldChildren,u.newChildren,FR,FR,u).add(zR).update(zR).remove(VR).execute();var u;c&&t.removeAll();for(var d=0;d<a;d++){var p=o[d],f=t.childAt(d);p?(null==p.ignore&&(p.ignore=!1),jR(e,f,n,p,i,t)):f.ignore=!0}for(var h=t.childCount()-1;h>=d;h--){var m=t.childAt(h);BR(t,m,i)}}}(e,d,n,r,i),a>=0?o.replaceAt(d,a):o.add(d),d}function kR(e,t,n){var r,i=ZL(e),o=t.type,a=t.shape,s=t.style;return n.isUniversalTransitionEnabled()||null!=o&&o!==i.customGraphicType||\"path\"===o&&(r=a)&&(je(r,\"pathData\")||je(r,\"d\"))&&HR(a)!==i.customPathData||\"image\"===o&&je(s,\"image\")&&s.image!==i.customImagePath}function LR(e,t,n){var r=t?RR(e,t):e,i=t?ZR(e,r,hR):e.style,o=e.type,a=r?r.textConfig:null,s=e.textContent,l=s?t?RR(s,t):s:null;if(i&&(n.isLegacy||UL(i,o,!!a,!!l))){n.isLegacy=!0;var c=GL(i,o,!t);!a&&c.textConfig&&(a=c.textConfig),!l&&c.textContent&&(l=c.textContent)}if(!t&&l){var u=l;!u.type&&(u.type=\"text\")}var d=t?n[t]:n.normal;d.cfg=a,d.conOpt=l}function RR(e,t){return t?e?e[t]:null:e}function ZR(e,t,n){var r=t&&t.style;return null==r&&n===hR&&e&&(r=e.styleEmphasis),r}function BR(e,t,n){t&&nR(t,ZL(e).option,n)}function FR(e,t){var n=e&&e.name;return null!=n?n:\"e\\0\\0\"+t}function zR(e,t){var n=this.context,r=null!=e?n.newChildren[e]:null,i=null!=t?n.oldChildren[t]:null;jR(n.api,i,n.dataIndex,r,n.seriesModel,n.group)}function VR(e){var t=this.context,n=t.oldChildren[e];n&&nR(n,ZL(n).option,t.seriesModel)}function HR(e){return e&&(e.pathData||e.d)}var UR=pa(),GR=F,YR=ne,WR=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(e,t,n,r){var i=t.get(\"value\"),o=t.get(\"status\");if(this._axisModel=e,this._axisPointerModel=t,this._api=n,r||this._lastValue!==i||this._lastStatus!==o){this._lastValue=i,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||\"hide\"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,i,e,t,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(e,t);if(a){var d=re(KR,t,u);this.updatePointerEl(a,l,d),this.updateLabelEl(a,l,d,t)}else a=this._group=new uo,this.createPointerEl(a,l,e,t),this.createLabelEl(a,l,e,t),n.getZr().add(a);JR(a,t,!0),this._renderHandle(i)}},e.prototype.remove=function(e){this.clear(e)},e.prototype.dispose=function(e){this.clear(e)},e.prototype.determineAnimation=function(e,t){var n=t.get(\"animation\"),r=e.axis,i=\"category\"===r.type,o=t.get(\"snap\");if(!o&&!i)return!1;if(\"auto\"===n||null==n){var a=this.animationThreshold;if(i&&r.getBandWidth()>a)return!0;if(o){var s=lO(e).seriesDataCount,l=r.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},e.prototype.makeElOption=function(e,t,n,r,i){},e.prototype.createPointerEl=function(e,t,n,r){var i=t.pointer;if(i){var o=UR(e).pointerEl=new l[i.type](GR(t.pointer));e.add(o)}},e.prototype.createLabelEl=function(e,t,n,r){if(t.label){var i=UR(e).labelEl=new Zl(GR(t.label));e.add(i),QR(i,r)}},e.prototype.updatePointerEl=function(e,t,n){var r=UR(e).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(e,t,n,r){var i=UR(e).labelEl;i&&(i.setStyle(t.label.style),n(i,{x:t.label.x,y:t.label.y}),QR(i,r))},e.prototype._renderHandle=function(e){if(!this._dragging&&this.updateHandleTransform){var t,n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel(\"handle\"),a=n.get(\"status\");if(!o.get(\"show\")||!a||\"hide\"===a)return i&&r.remove(i),void(this._handle=null);this._handle||(t=!0,i=this._handle=Cg(o.get(\"icon\"),{cursor:\"move\",draggable:!0,onmousemove:function(e){It(e.event)},onmousedown:YR(this._onHandleDragMove,this,0,0),drift:YR(this._onHandleDragMove,this),ondragend:YR(this._onHandleDragEnd,this)}),r.add(i)),JR(i,n,!1),i.setStyle(o.getItemStyle(null,[\"color\",\"borderColor\",\"borderWidth\",\"opacity\",\"shadowColor\",\"shadowBlur\",\"shadowOffsetX\",\"shadowOffsetY\"]));var s=o.get(\"size\");ie(s)||(s=[s,s]),i.scaleX=s[0]/2,i.scaleY=s[1]/2,Hg(this,\"_doDispatchAxisPointer\",o.get(\"throttle\")||0,\"fixRate\"),this._moveHandleToValue(e,t)}},e.prototype._moveHandleToValue=function(e,t){KR(this._axisPointerModel,!t&&this._moveAnimation,this._handle,XR(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(e,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(XR(n),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(XR(r)),UR(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:\"updateAxisPointer\",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get(\"value\");this._moveHandleToValue(e),this._api.dispatchAction({type:\"hideTip\"})}},e.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ug(this,\"_doDispatchAxisPointer\")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}},e}();function KR(e,t,n,r){qR(UR(n).lastProp,r)||(UR(n).lastProp=r,t?zc(n,r,e):(n.stopAnimation(),n.attr(r)))}function qR(e,t){if(ce(e)&&ce(t)){var n=!0;return Q(t,(function(t,r){n=n&&qR(e[r],t)})),!!n}return e===t}function QR(e,t){e[t.get([\"label\",\"show\"])?\"show\":\"hide\"]()}function XR(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function JR(e,t,n){var r=t.get(\"z\"),i=t.get(\"zlevel\");e&&e.traverse((function(e){\"group\"!==e.type&&(null!=r&&(e.z=r),null!=i&&(e.zlevel=i),e.silent=n)}))}const $R=WR;function eZ(e){var t,n=e.get(\"type\"),r=e.getModel(n+\"Style\");return\"line\"===n?(t=r.getLineStyle()).fill=null:\"shadow\"===n&&((t=r.getAreaStyle()).stroke=null),t}function tZ(e,t,n,r,i){var o=nZ(n.get(\"value\"),t.axis,t.ecModel,n.get(\"seriesDataIndices\"),{precision:n.get([\"label\",\"precision\"]),formatter:n.get([\"label\",\"formatter\"])}),a=n.getModel(\"label\"),s=ud(a.get(\"padding\")||0),l=a.getFont(),c=Yi(o,l),u=i.position,d=c.width+s[1]+s[3],p=c.height+s[0]+s[2],f=i.align;\"right\"===f&&(u[0]-=d),\"center\"===f&&(u[0]-=d/2);var h=i.verticalAlign;\"bottom\"===h&&(u[1]-=p),\"middle\"===h&&(u[1]-=p/2),function(e,t,n,r){var i=r.getWidth(),o=r.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+n,o)-n,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(u,d,p,r);var m=a.get(\"backgroundColor\");m&&\"auto\"!==m||(m=t.get([\"axisLine\",\"lineStyle\",\"color\"])),e.label={x:u[0],y:u[1],style:$c(a,{text:o,font:l,fill:a.getTextColor(),padding:s,backgroundColor:m}),z2:10}}function nZ(e,t,n,r,i){e=t.scale.parse(e);var o=t.scale.getLabel({value:e},{precision:i.precision}),a=i.formatter;if(a){var s={value:Qx(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};Q(r,(function(e){var t=n.getSeriesByIndex(e.seriesIndex),r=e.dataIndexInside,i=t&&t.getDataParams(r);i&&s.seriesData.push(i)})),ae(a)?o=a.replace(\"{value}\",o):oe(a)&&(o=a(s))}return o}function rZ(e,t,n){var r=[1,0,0,1,0,0];return zt(r,r,n.rotation),Ft(r,r,n.position),vg([e.dataToCoord(t),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function iZ(e,t,n,r,i,o){var a=aO.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get([\"label\",\"margin\"]),tZ(t,r,i,o,{position:rZ(r.axis,e,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function oZ(e,t,n){return{x1:e[n=n||0],y1:e[1-n],x2:t[n],y2:t[1-n]}}function aZ(e,t,n){return{x:e[n=n||0],y:e[1-n],width:t[n],height:t[1-n]}}function sZ(e,t,n,r,i,o){return{cx:e,cy:t,r0:n,r,startAngle:i,endAngle:o,clockwise:!0}}var lZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis,a=o.grid,s=r.get(\"type\"),l=cZ(a,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(t,!0));if(s&&\"none\"!==s){var u=eZ(r),d=uZ[s](o,c,l);d.style=u,e.graphicKey=d.type,e.pointer=d}iZ(t,e,HE(a.model,n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=HE(t.axis.grid.model,t,{labelInside:!1});r.labelMargin=n.get([\"handle\",\"margin\"]);var i=rZ(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,o=i.grid,a=i.getGlobalExtent(!0),s=cZ(o,i).getOtherAxis(i).getGlobalExtent(),l=\"x\"===i.dim?0:1,c=[e.x,e.y];c[l]+=t[l],c[l]=Math.min(a[1],c[l]),c[l]=Math.max(a[0],c[l]);var u=(s[1]+s[0])/2,d=[u,u];return d[l]=c[l],{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:d,tooltipOption:[{verticalAlign:\"middle\"},{align:\"center\"}][l]}},t}($R);function cZ(e,t){var n={};return n[t.dim+\"AxisIndex\"]=t.index,e.getCartesian(n)}var uZ={line:function(e,t,n){return{type:\"Line\",subPixelOptimize:!0,shape:oZ([t,n[0]],[t,n[1]],dZ(e))}},shadow:function(e,t,n){var r=Math.max(1,e.getBandWidth()),i=n[1]-n[0];return{type:\"Rect\",shape:aZ([t-r/2,n[0]],[r,i],dZ(e))}}};function dZ(e){return\"x\"===e.dim?0:1}const pZ=lZ,fZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"axisPointer\",t.defaultOption={show:\"auto\",z:50,type:\"line\",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:\"#B9BEC9\",width:1,type:\"dashed\"},shadowStyle:{color:\"rgba(210,219,238,0.2)\"},label:{show:!0,formatter:null,precision:\"auto\",margin:3,color:\"#fff\",padding:[5,7,5,7],backgroundColor:\"auto\",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:\"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z\",size:45,margin:50,color:\"#333\",shadowBlur:3,shadowColor:\"#aaa\",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(_d);var hZ=pa(),mZ=Q;function gZ(e,t,n){if(!y.node){var r=t.getZr();hZ(r).records||(hZ(r).records={}),function(e,t){function n(n,r){e.on(n,(function(n){var i=function(e){var t={showTip:[],hideTip:[]},n=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=n,e.dispatchAction(r))};return{dispatchAction:n,pendings:t}}(t);mZ(hZ(e).records,(function(e){e&&r(e,n,i.dispatchAction)})),function(e,t){var n,r=e.showTip.length,i=e.hideTip.length;r?n=e.showTip[r-1]:i&&(n=e.hideTip[i-1]),n&&(n.dispatchAction=null,t.dispatchAction(n))}(i.pendings,t)}))}hZ(e).initialized||(hZ(e).initialized=!0,n(\"click\",re(yZ,\"click\")),n(\"mousemove\",re(yZ,\"mousemove\")),n(\"globalout\",vZ))}(r,t),(hZ(r).records[e]||(hZ(r).records[e]={})).handler=n}}function vZ(e,t,n){e.handler(\"leave\",null,n)}function yZ(e,t,n,r){t.handler(e,n,r)}function bZ(e,t){if(!y.node){var n=t.getZr();(hZ(n).records||{})[e]&&(hZ(n).records[e]=null)}}var SZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=t.getComponent(\"tooltip\"),i=e.get(\"triggerOn\")||r&&r.get(\"triggerOn\")||\"mousemove|click\";gZ(\"axisPointer\",n,(function(e,t,n){\"none\"!==i&&(\"leave\"===e||i.indexOf(e)>=0)&&n({type:\"updateAxisPointer\",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},t.prototype.remove=function(e,t){bZ(\"axisPointer\",t)},t.prototype.dispose=function(e,t){bZ(\"axisPointer\",t)},t.type=\"axisPointer\",t}(Ph);const xZ=SZ;function wZ(e,t){var n,r=[],i=e.seriesIndex;if(null==i||!(n=t.getSeriesByIndex(i)))return{point:[]};var o=n.getData(),a=da(o,e);if(null==a||a<0||ie(a))return{point:[]};var s=o.getItemGraphicEl(a),l=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c).dim,d=c.dim,p=\"x\"===u||\"radius\"===u?1:0,f=o.mapDimension(d),h=[];h[p]=o.get(f,a),h[1-p]=o.get(o.getCalculationInfo(\"stackResultDimension\"),a),r=l.dataToPoint(h)||[]}else r=l.dataToPoint(o.getValues(X(l.dimensions,(function(e){return o.mapDimension(e)})),a))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),r=[m.x+m.width/2,m.y+m.height/2]}return{point:r,el:s}}var CZ=pa();function TZ(e,t,n){var r=e.currTrigger,i=[e.x,e.y],o=e,a=e.dispatchAction||ne(n.dispatchAction,n),s=t.getComponent(\"axisPointer\").coordSysAxesInfo;if(s){PZ(i)&&(i=wZ({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var l=PZ(i),c=o.axesInfo,u=s.axesInfo,d=\"leave\"===r||PZ(i),p={},f={},h={list:[],map:{}},m={showPointer:re(EZ,f),showTooltip:re(OZ,h)};Q(s.coordSysMap,(function(e,t){var n=l||e.containPoint(i);Q(s.coordSysAxesInfo[t],(function(e,t){var r=e.axis,o=function(e,t){for(var n=0;n<(e||[]).length;n++){var r=e[n];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(c,e);if(!d&&n&&(!c||o)){var a=o&&o.value;null!=a||l||(a=r.pointToData(i)),null!=a&&AZ(e,a,m,!1,p)}}))}));var g={};return Q(u,(function(e,t){var n=e.linkGroup;n&&!f[t]&&Q(n.axesInfo,(function(t,r){var i=f[r];if(t!==e&&i){var o=i.value;n.mapper&&(o=e.axis.scale.parse(n.mapper(o,MZ(t),MZ(e)))),g[e.key]=o}}))})),Q(g,(function(e,t){AZ(u[t],e,m,!0,p)})),function(e,t,n){var r=n.axesInfo=[];Q(t,(function(t,n){var i=t.axisPointerModel.option,o=e[n];o?(!t.useHandle&&(i.status=\"show\"),i.value=o.value,i.seriesDataIndices=(o.payloadBatch||[]).slice()):!t.useHandle&&(i.status=\"hide\"),\"show\"===i.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}))}(f,u,p),function(e,t,n,r){if(!PZ(t)&&e.list.length){var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:\"showTip\",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}else r({type:\"hideTip\"})}(h,i,e,a),function(e,t,n){var r=n.getZr(),i=\"axisPointerLastHighlights\",o=CZ(r)[i]||{},a=CZ(r)[i]={};Q(e,(function(e,t){var n=e.axisPointerModel.option;\"show\"===n.status&&e.triggerEmphasis&&Q(n.seriesDataIndices,(function(e){var t=e.seriesIndex+\" | \"+e.dataIndex;a[t]=e}))}));var s=[],l=[];Q(o,(function(e,t){!a[t]&&l.push(e)})),Q(a,(function(e,t){!o[t]&&s.push(e)})),l.length&&n.dispatchAction({type:\"downplay\",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:\"highlight\",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,n),p}}function AZ(e,t,n,r,i){var o=e.axis;if(!o.scale.isBlank()&&o.containData(t))if(e.involveSeries){var a=function(e,t){var n=t.axis,r=n.dim,i=e,o=[],a=Number.MAX_VALUE,s=-1;return Q(t.seriesModels,(function(t,l){var c,u,d=t.getData().mapDimensionsAll(r);if(t.getAxisTooltipData){var p=t.getAxisTooltipData(d,e,n);u=p.dataIndices,c=p.nestestValue}else{if(!(u=t.getData().indicesOfNearest(d[0],e,\"category\"===n.type?.5:null)).length)return;c=t.getData().get(d[0],u[0])}if(null!=c&&isFinite(c)){var f=e-c,h=Math.abs(f);h<=a&&((h<a||f>=0&&s<0)&&(a=h,s=f,i=c,o.length=0),Q(u,(function(e){o.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:o,snapToValue:i}}(t,e),s=a.payloadBatch,l=a.snapToValue;s[0]&&null==i.seriesIndex&&H(i,s[0]),!r&&e.snap&&o.containData(l)&&null!=l&&(t=l),n.showPointer(e,t,s),n.showTooltip(e,a,l)}else n.showPointer(e,t)}function EZ(e,t,n,r){e[t.key]={value:n,payloadBatch:r}}function OZ(e,t,n,r){var i=n.payloadBatch,o=t.axis,a=o.model,s=t.axisPointerModel;if(t.triggerTooltip&&i.length){var l=t.coordSys.model,c=uO(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get([\"label\",\"precision\"]),formatter:s.get([\"label\",\"formatter\"])},seriesDataIndices:i.slice()})}}function MZ(e){var t=e.axis.model,n={},r=n.axisDim=e.axis.dim;return n.axisIndex=n[r+\"AxisIndex\"]=t.componentIndex,n.axisName=n[r+\"AxisName\"]=t.name,n.axisId=n[r+\"AxisId\"]=t.id,n}function PZ(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function DZ(e){fO.registerAxisPointerClass(\"CartesianAxisPointer\",pZ),e.registerComponentModel(fZ),e.registerComponentView(xZ),e.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!ie(t)&&(e.axisPointer.link=[t])}})),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent(\"axisPointer\").coordSysAxesInfo=function(e,t){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(e,t,n){var r=t.getComponent(\"tooltip\"),i=t.getComponent(\"axisPointer\"),o=i.get(\"link\",!0)||[],a=[];Q(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=uO(n.model),l=e.coordSysAxesInfo[s]={};e.coordSysMap[s]=n;var c=n.model.getModel(\"tooltip\",r);if(Q(n.getAxes(),re(f,!1,null)),n.getTooltipAxes&&r&&c.get(\"show\")){var u=\"axis\"===c.get(\"trigger\"),d=\"cross\"===c.get([\"axisPointer\",\"type\"]),p=n.getTooltipAxes(c.get([\"axisPointer\",\"axis\"]));(u||d)&&Q(p.baseAxes,re(f,!d||\"cross\",u)),d&&Q(p.otherAxes,re(f,\"cross\",!1))}}function f(r,s,u){var d=u.model.getModel(\"axisPointer\",i),p=d.get(\"show\");if(p&&(\"auto\"!==p||r||cO(d))){null==s&&(s=d.get(\"triggerTooltip\")),d=r?function(e,t,n,r,i,o){var a=t.getModel(\"axisPointer\"),s={};Q([\"type\",\"snap\",\"lineStyle\",\"shadowStyle\",\"label\",\"animation\",\"animationDurationUpdate\",\"animationEasingUpdate\",\"z\"],(function(e){s[e]=F(a.get(e))})),s.snap=\"category\"!==e.type&&!!o,\"cross\"===a.get(\"type\")&&(s.type=\"line\");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),\"cross\"===i){var c=a.get([\"label\",\"show\"]);if(l.show=null==c||c,!o){var u=s.lineStyle=a.get(\"crossStyle\");u&&U(l,u.textStyle)}}return e.model.getModel(\"axisPointer\",new Cu(s,n,r))}(u,c,i,t,r,s):d;var f=d.get(\"snap\"),h=d.get(\"triggerEmphasis\"),m=uO(u.model),g=s||f||\"category\"===u.type,v=e.axesInfo[m]={key:m,axis:u,coordSys:n,axisPointerModel:d,triggerTooltip:s,triggerEmphasis:h,involveSeries:g,snap:f,useHandle:cO(d),seriesModels:[],linkGroup:null};l[m]=v,e.seriesInvolved=e.seriesInvolved||g;var y=function(e,t){for(var n=t.model,r=t.dim,i=0;i<e.length;i++){var o=e[i]||{};if(sO(o[r+\"AxisId\"],n.id)||sO(o[r+\"AxisIndex\"],n.componentIndex)||sO(o[r+\"AxisName\"],n.name))return i}}(o,u);if(null!=y){var b=a[y]||(a[y]={axesInfo:{}});b.axesInfo[m]=v,b.mapper=o[y].mapper,v.linkGroup=b}}}}))}(n,e,t),n.seriesInvolved&&function(e,t){t.eachSeries((function(t){var n=t.coordinateSystem,r=t.get([\"tooltip\",\"trigger\"],!0),i=t.get([\"tooltip\",\"show\"],!0);n&&\"none\"!==r&&!1!==r&&\"item\"!==r&&!1!==i&&!1!==t.get([\"axisPointer\",\"show\"],!0)&&Q(e.coordSysAxesInfo[uO(n.model)],(function(e){var r=e.axis;n.getAxis(r.dim)===r&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}))}(n,e),n}(e,t)})),e.registerAction({type:\"updateAxisPointer\",event:\"updateAxisPointer\",update:\":updateAxisPointer\"},TZ)}var IZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis;\"angle\"===o.dim&&(this.animationThreshold=Math.PI/18);var a=o.polar,s=a.getOtherAxis(o).getExtent(),l=o.dataToCoord(t),c=r.get(\"type\");if(c&&\"none\"!==c){var u=eZ(r),d=NZ[c](o,a,l,s);d.style=u,e.graphicKey=d.type,e.pointer=d}var p=function(e,t,n,r,i){var o=t.axis,a=o.dataToCoord(e),s=r.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,c,u,d=r.getRadiusAxis().getExtent();if(\"radius\"===o.dim){var p=[1,0,0,1,0,0];zt(p,p,s),Ft(p,p,[r.cx,r.cy]),l=vg([a,-i],p);var f=t.getModel(\"axisLabel\").get(\"rotate\")||0,h=aO.innerTextLayout(s,f*Math.PI/180,-1);c=h.textAlign,u=h.textVerticalAlign}else{var m=d[1];l=r.coordToPoint([m+i,a]);var g=r.cx,v=r.cy;c=Math.abs(l[0]-g)/m<.3?\"center\":l[0]>g?\"left\":\"right\",u=Math.abs(l[1]-v)/m<.3?\"middle\":l[1]>v?\"top\":\"bottom\"}return{position:l,align:c,verticalAlign:u}}(t,n,0,a,r.get([\"label\",\"margin\"]));tZ(e,n,r,i,p)},t}($R),NZ={line:function(e,t,n,r){return\"angle\"===e.dim?{type:\"Line\",shape:oZ(t.coordToPoint([r[0],n]),t.coordToPoint([r[1],n]))}:{type:\"Circle\",shape:{cx:t.cx,cy:t.cy,r:n}}},shadow:function(e,t,n,r){var i=Math.max(1,e.getBandWidth()),o=Math.PI/180;return\"angle\"===e.dim?{type:\"Sector\",shape:sZ(t.cx,t.cy,r[0],r[1],(-n-i/2)*o,(i/2-n)*o)}:{type:\"Sector\",shape:sZ(t.cx,t.cy,n-i/2,n+i/2,0,2*Math.PI)}}};const _Z=IZ,jZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.findAxisModel=function(e){var t;return this.ecModel.eachComponent(e,(function(e){e.getCoordSysModel()===this&&(t=e)}),this),t},t.type=\"polar\",t.dependencies=[\"radiusAxis\",\"angleAxis\"],t.defaultOption={z:0,center:[\"50%\",\"50%\"],radius:\"80%\"},t}(_d);var kZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents(\"polar\",ga).models[0]},t.type=\"polarAxis\",t}(_d);K(kZ,tw);var LZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"angleAxis\",t}(kZ),RZ=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"radiusAxis\",t}(kZ),ZZ=function(e){function t(t,n){return e.call(this,\"radius\",t,n)||this}return(0,m.ZT)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[\"radius\"===this.dim?0:1]},t}(Nw);ZZ.prototype.dataToRadius=Nw.prototype.dataToCoord,ZZ.prototype.radiusToData=Nw.prototype.coordToData;const BZ=ZZ;var FZ=pa(),zZ=function(e){function t(t,n){return e.call(this,\"angle\",t,n||[0,360])||this}return(0,m.ZT)(t,e),t.prototype.pointToData=function(e,t){return this.polar.pointToData(e,t)[\"radius\"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,t=e.getLabelModel(),n=e.scale,r=n.getExtent(),i=n.count();if(r[1]-r[0]<1)return 0;var o=r[0],a=e.dataToCoord(o+1)-e.dataToCoord(o),s=Math.abs(a),l=Yi(null==o?\"\":o+\"\",t.getFont(),\"center\",\"top\"),c=Math.max(l.height,7)/s;isNaN(c)&&(c=1/0);var u=Math.max(0,Math.floor(c)),d=FZ(e.model),p=d.lastAutoInterval,f=d.lastTickCount;return null!=p&&null!=f&&Math.abs(p-u)<=1&&Math.abs(f-i)<=1&&p>u?u=p:(d.lastTickCount=i,d.lastAutoInterval=u),u},t}(Nw);zZ.prototype.dataToAngle=Nw.prototype.dataToCoord,zZ.prototype.angleToData=Nw.prototype.coordToData;const VZ=zZ;var HZ=[\"radius\",\"angle\"],UZ=function(){function e(e){this.dimensions=HZ,this.type=\"polar\",this.cx=0,this.cy=0,this._radiusAxis=new BZ,this._angleAxis=new VZ,this.axisPointerEnabled=!0,this.name=e||\"\",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},e.prototype.getAxis=function(e){return this[\"_\"+e+\"Axis\"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(e){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===e&&t.push(n),r.scale.type===e&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale(\"ordinal\")[0]||this.getAxesByScale(\"time\")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(e){var t=null!=e&&\"auto\"!==e?this.getAxis(e):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},e.prototype.pointToData=function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(e){var t=e[0]-this.cx,n=e[1]-this.cy,r=this.getAngleAxis(),i=r.getExtent(),o=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);r.inverse?o=a-360:a=o+360;var s=Math.sqrt(t*t+n*n);t/=s,n/=s;for(var l=Math.atan2(-n,t)/Math.PI*180,c=l<o?1:-1;l<o||l>a;)l+=360*c;return[s,l]},e.prototype.coordToPoint=function(e){var t=e[0],n=e[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},e.prototype.getArea=function(){var e=this.getAngleAxis(),t=this.getRadiusAxis().getExtent().slice();t[0]>t[1]&&t.reverse();var n=e.getExtent(),r=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:t[0],r:t[1],startAngle:-n[0]*r,endAngle:-n[1]*r,clockwise:e.inverse,contain:function(e,t){var n=e-this.cx,r=t-this.cy,i=n*n+r*r-1e-4,o=this.r,a=this.r0;return i<=o*o&&i>=a*a}}},e.prototype.convertToPixel=function(e,t,n){return GZ(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return GZ(t)===this?this.pointToData(n):null},e}();function GZ(e){var t=e.seriesModel,n=e.polarModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}const YZ=UZ;function WZ(e,t){var n=this,r=n.getAngleAxis(),i=n.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries((function(e){if(e.coordinateSystem===n){var t=e.getData();Q(ew(t,\"radius\"),(function(e){i.scale.unionExtentFromData(t,e)})),Q(ew(t,\"angle\"),(function(e){r.scale.unionExtentFromData(t,e)}))}})),Wx(r.scale,r.model),Wx(i.scale,i.model),\"category\"===r.type&&!r.onBand){var o=r.getExtent(),a=360/r.scale.count();r.inverse?o[1]+=a:o[1]-=a,r.setExtent(o[0],o[1])}}function KZ(e,t){var n;if(e.type=t.get(\"type\"),e.scale=Kx(t),e.onBand=t.get(\"boundaryGap\")&&\"category\"===e.type,e.inverse=t.get(\"inverse\"),function(e){return\"angleAxis\"===e.mainType}(t)){e.inverse=e.inverse!==t.get(\"clockwise\");var r=t.get(\"startAngle\"),i=null!==(n=t.get(\"endAngle\"))&&void 0!==n?n:r+(e.inverse?-360:360);e.setExtent(r,i)}t.axis=e,e.model=t}const qZ={dimensions:HZ,create:function(e,t){var n=[];return e.eachComponent(\"polar\",(function(e,r){var i=new YZ(r+\"\");i.update=WZ;var o=i.getRadiusAxis(),a=i.getAngleAxis(),s=e.findAxisModel(\"radiusAxis\"),l=e.findAxisModel(\"angleAxis\");KZ(o,s),KZ(a,l),function(e,t,n){var r=t.get(\"center\"),i=n.getWidth(),o=n.getHeight();e.cx=Oo(r[0],i),e.cy=Oo(r[1],o);var a=e.getRadiusAxis(),s=Math.min(i,o)/2,l=t.get(\"radius\");null==l?l=[0,\"100%\"]:ie(l)||(l=[0,l]);var c=[Oo(l[0],s),Oo(l[1],s)];a.inverse?a.setExtent(c[1],c[0]):a.setExtent(c[0],c[1])}(i,e,t),n.push(i),e.coordinateSystem=i,i.model=e})),e.eachSeries((function(e){if(\"polar\"===e.get(\"coordinateSystem\")){var t=e.getReferringComponents(\"polar\",ga).models[0];e.coordinateSystem=t.coordinateSystem}})),n}};var QZ=[\"axisLine\",\"axisLabel\",\"axisTick\",\"minorTick\",\"splitLine\",\"minorSplitLine\",\"splitArea\"];function XZ(e,t,n){t[1]>t[0]&&(t=t.slice().reverse());var r=e.coordToPoint([t[0],n]),i=e.coordToPoint([t[1],n]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function JZ(e){return e.getRadiusAxis().inverse?0:1}function $Z(e){var t=e[0],n=e[e.length-1];t&&n&&Math.abs(Math.abs(t.coord-n.coord)-360)<1e-4&&e.pop()}var eB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass=\"PolarAxisPointer\",n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get(\"show\")){var n=e.axis,r=n.polar,i=r.getRadiusAxis().getExtent(),o=n.getTicksCoords(),a=n.getMinorTicksCoords(),s=X(n.getViewLabels(),(function(e){e=F(e);var t=n.scale,r=\"ordinal\"===t.type?t.getRawOrdinalNumber(e.tickValue):e.tickValue;return e.coord=n.dataToCoord(r),e}));$Z(s),$Z(o),Q(QZ,(function(t){!e.get([t,\"show\"])||n.scale.isBlank()&&\"axisLine\"!==t||tB[t](this.group,e,r,o,a,i,s)}),this)}},t.type=\"angleAxis\",t}(fO),tB={axisLine:function(e,t,n,r,i,o){var a,s=t.getModel([\"axisLine\",\"lineStyle\"]),c=n.getAngleAxis(),u=Math.PI/180,d=c.getExtent(),p=JZ(n),f=p?0:1,h=360===Math.abs(d[1]-d[0])?\"Circle\":\"Arc\";(a=0===o[f]?new l[h]({shape:{cx:n.cx,cy:n.cy,r:o[p],startAngle:-d[0]*u,endAngle:-d[1]*u,clockwise:c.inverse},style:s.getLineStyle(),z2:1,silent:!0}):new Sm({shape:{cx:n.cx,cy:n.cy,r:o[p],r0:o[f]},style:s.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(a)},axisTick:function(e,t,n,r,i,o){var a=t.getModel(\"axisTick\"),s=(a.get(\"inside\")?-1:1)*a.get(\"length\"),l=o[JZ(n)],c=X(r,(function(e){return new Im({shape:XZ(n,[l,l+s],e.coord)})}));e.add(dg(c,{style:U(a.getModel(\"lineStyle\").getLineStyle(),{stroke:t.get([\"axisLine\",\"lineStyle\",\"color\"])})}))},minorTick:function(e,t,n,r,i,o){if(i.length){for(var a=t.getModel(\"axisTick\"),s=t.getModel(\"minorTick\"),l=(a.get(\"inside\")?-1:1)*s.get(\"length\"),c=o[JZ(n)],u=[],d=0;d<i.length;d++)for(var p=0;p<i[d].length;p++)u.push(new Im({shape:XZ(n,[c,c+l],i[d][p].coord)}));e.add(dg(u,{style:U(s.getModel(\"lineStyle\").getLineStyle(),U(a.getLineStyle(),{stroke:t.get([\"axisLine\",\"lineStyle\",\"color\"])}))}))}},axisLabel:function(e,t,n,r,i,o,a){var s=t.getCategories(!0),l=t.getModel(\"axisLabel\"),c=l.get(\"margin\"),u=t.get(\"triggerEvent\");Q(a,(function(r,i){var a=l,d=r.tickValue,p=o[JZ(n)],f=n.coordToPoint([p+c,r.coord]),h=n.cx,m=n.cy,g=Math.abs(f[0]-h)/p<.3?\"center\":f[0]>h?\"left\":\"right\",v=Math.abs(f[1]-m)/p<.3?\"middle\":f[1]>m?\"top\":\"bottom\";if(s&&s[d]){var y=s[d];ce(y)&&y.textStyle&&(a=new Cu(y.textStyle,l,l.ecModel))}var b=new Zl({silent:aO.isLabelSilent(t),style:$c(a,{x:f[0],y:f[1],fill:a.getTextColor()||t.get([\"axisLine\",\"lineStyle\",\"color\"]),text:r.formattedLabel,align:g,verticalAlign:v})});if(e.add(b),u){var S=aO.makeAxisEventDataBase(t);S.targetType=\"axisLabel\",S.value=r.rawLabel,Bl(b).eventData=S}}),this)},splitLine:function(e,t,n,r,i,o){var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=0;u<r.length;u++){var d=l++%s.length;c[d]=c[d]||[],c[d].push(new Im({shape:XZ(n,o,r[u].coord)}))}for(u=0;u<c.length;u++)e.add(dg(c[u],{style:U({stroke:s[u%s.length]},a.getLineStyle()),silent:!0,z:t.get(\"z\")}))},minorSplitLine:function(e,t,n,r,i,o){if(i.length){for(var a=t.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),s=[],l=0;l<i.length;l++)for(var c=0;c<i[l].length;c++)s.push(new Im({shape:XZ(n,o,i[l][c].coord)}));e.add(dg(s,{style:a.getLineStyle(),silent:!0,z:t.get(\"z\")}))}},splitArea:function(e,t,n,r,i,o){if(r.length){var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=Math.PI/180,d=-r[0].coord*u,p=Math.min(o[0],o[1]),f=Math.max(o[0],o[1]),h=t.get(\"clockwise\"),m=1,g=r.length;m<=g;m++){var v=m===g?r[0].coord:r[m].coord,y=l++%s.length;c[y]=c[y]||[],c[y].push(new vm({shape:{cx:n.cx,cy:n.cy,r0:p,r:f,startAngle:d,endAngle:-v*u,clockwise:h},silent:!0})),d=-v*u}for(m=0;m<c.length;m++)e.add(dg(c[m],{style:U({fill:s[m%s.length]},a.getAreaStyle()),silent:!0}))}}};const nB=eB;var rB=[\"axisLine\",\"axisTickLabel\",\"axisName\"],iB=[\"splitLine\",\"splitArea\",\"minorSplitLine\"],oB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass=\"PolarAxisPointer\",n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t){if(this.group.removeAll(),e.get(\"show\")){var n=this._axisGroup,r=this._axisGroup=new uo;this.group.add(r);var i=e.axis,o=i.polar,a=o.getAngleAxis(),s=i.getTicksCoords(),l=i.getMinorTicksCoords(),c=a.getExtent()[0],u=i.getExtent(),d=function(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel(\"axisLabel\").get(\"rotate\"),z2:1}}(o,e,c),p=new aO(e,d);Q(rB,p.add,p),r.add(p.getGroup()),Sg(n,r,e),Q(iB,(function(t){e.get([t,\"show\"])&&!i.scale.isBlank()&&aB[t](this.group,e,o,c,u,s,l)}),this)}},t.type=\"radiusAxis\",t}(fO),aB={splitLine:function(e,t,n,r,i,o){var a=t.getModel(\"splitLine\").getModel(\"lineStyle\"),s=a.get(\"color\"),c=0,u=n.getAngleAxis(),d=Math.PI/180,p=u.getExtent(),f=360===Math.abs(p[1]-p[0])?\"Circle\":\"Arc\";s=s instanceof Array?s:[s];for(var h=[],m=0;m<o.length;m++){var g=c++%s.length;h[g]=h[g]||[],h[g].push(new l[f]({shape:{cx:n.cx,cy:n.cy,r:Math.max(o[m].coord,0),startAngle:-p[0]*d,endAngle:-p[1]*d,clockwise:u.inverse}}))}for(m=0;m<h.length;m++)e.add(dg(h[m],{style:U({stroke:s[m%s.length],fill:null},a.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,n,r,i,o,a){if(a.length){for(var s=t.getModel(\"minorSplitLine\").getModel(\"lineStyle\"),l=[],c=0;c<a.length;c++)for(var u=0;u<a[c].length;u++)l.push(new $h({shape:{cx:n.cx,cy:n.cy,r:a[c][u].coord}}));e.add(dg(l,{style:U({fill:null},s.getLineStyle()),silent:!0}))}},splitArea:function(e,t,n,r,i,o){if(o.length){var a=t.getModel(\"splitArea\").getModel(\"areaStyle\"),s=a.get(\"color\"),l=0;s=s instanceof Array?s:[s];for(var c=[],u=o[0].coord,d=1;d<o.length;d++){var p=l++%s.length;c[p]=c[p]||[],c[p].push(new vm({shape:{cx:n.cx,cy:n.cy,r0:u,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[d].coord}for(d=0;d<c.length;d++)e.add(dg(c[d],{style:U({fill:s[d%s.length]},a.getAreaStyle()),silent:!0}))}}};const sB=oB;function lB(e){return e.get(\"stack\")||\"__ec_stack_\"+e.seriesIndex}function cB(e,t){return t.dim+e.model.componentIndex}const uB=function(e,t,n){var r={},i=function(e){var t={};Q(e,(function(e,n){var r=e.getData(),i=e.coordinateSystem,o=i.getBaseAxis(),a=cB(i,o),s=o.getExtent(),l=\"category\"===o.type?o.getBandWidth():Math.abs(s[1]-s[0])/r.count(),c=t[a]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:\"20%\",gap:\"30%\",stacks:{}},u=c.stacks;t[a]=c;var d=lB(e);u[d]||c.autoWidthCount++,u[d]=u[d]||{width:0,maxWidth:0};var p=Oo(e.get(\"barWidth\"),l),f=Oo(e.get(\"barMaxWidth\"),l),h=e.get(\"barGap\"),m=e.get(\"barCategoryGap\");p&&!u[d].width&&(p=Math.min(c.remainedWidth,p),u[d].width=p,c.remainedWidth-=p),f&&(u[d].maxWidth=f),null!=h&&(c.gap=h),null!=m&&(c.categoryGap=m)}));var n={};return Q(t,(function(e,t){n[t]={};var r=e.stacks,i=e.bandWidth,o=Oo(e.categoryGap,i),a=Oo(e.gap,1),s=e.remainedWidth,l=e.autoWidthCount,c=(s-o)/(l+(l-1)*a);c=Math.max(c,0),Q(r,(function(e,t){var n=e.maxWidth;n&&n<c&&(n=Math.min(n,s),e.width&&(n=Math.min(n,e.width)),s-=n,e.width=n,l--)})),c=(s-o)/(l+(l-1)*a),c=Math.max(c,0);var u,d=0;Q(r,(function(e,t){e.width||(e.width=c),u=e,d+=e.width*(1+a)})),u&&(d-=u.width*a);var p=-d/2;Q(r,(function(e,r){n[t][r]=n[t][r]||{offset:p,width:e.width},p+=e.width*(1+a)}))})),n}($(t.getSeriesByType(e),(function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&\"polar\"===e.coordinateSystem.type})));t.eachSeriesByType(e,(function(e){if(\"polar\"===e.coordinateSystem.type){var t=e.getData(),n=e.coordinateSystem,o=n.getBaseAxis(),a=cB(n,o),s=lB(e),l=i[a][s],c=l.offset,u=l.width,d=n.getOtherAxis(o),p=e.coordinateSystem.cx,f=e.coordinateSystem.cy,h=e.get(\"barMinHeight\")||0,m=e.get(\"barMinAngle\")||0;r[s]=r[s]||[];for(var g=t.mapDimension(d.dim),v=t.mapDimension(o.dim),y=zS(t,g),b=\"radius\"!==o.dim||!e.get(\"roundCap\",!0),S=d.model.get(\"startValue\"),x=d.dataToCoord(S||0),w=0,C=t.count();w<C;w++){var T=t.get(g,w),A=t.get(v,w),E=T>=0?\"p\":\"n\",O=x;y&&(r[s][A]||(r[s][A]={p:x,n:x}),O=r[s][A][E]);var M=void 0,P=void 0,D=void 0,I=void 0;if(\"radius\"===d.dim){var N=d.dataToCoord(T)-x,_=o.dataToCoord(A);Math.abs(N)<h&&(N=(N<0?-1:1)*h),M=O,P=O+N,I=(D=_-c)-u,y&&(r[s][A][E]=P)}else{var j=d.dataToCoord(T,b)-x,k=o.dataToCoord(A);Math.abs(j)<m&&(j=(j<0?-1:1)*m),P=(M=k+c)+u,D=O,I=O+j,y&&(r[s][A][E]=I)}t.setItemLayout(w,{cx:p,cy:f,r0:M,r:P,startAngle:-D*Math.PI/180,endAngle:-I*Math.PI/180,clockwise:D>=I})}}}))};var dB={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},pB={splitNumber:5},fB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"polar\",t}(Ph);function hB(e,t){t=t||{};var n=e.coordinateSystem,r=e.axis,i={},o=r.position,a=r.orient,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[\"vertical\"===a?c.vertical[o]:l[0],\"horizontal\"===a?c.horizontal[o]:l[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[a],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],e.get([\"axisTick\",\"inside\"])&&(i.tickDirection=-i.tickDirection),ve(t.labelInside,e.get([\"axisLabel\",\"inside\"]))&&(i.labelDirection=-i.labelDirection);var u=t.rotate;return null==u&&(u=e.get([\"axisLabel\",\"rotate\"])),i.labelRotation=\"top\"===o?-u:u,i.z2=1,i}var mB=[\"axisLine\",\"axisTickLabel\",\"axisName\"],gB=[\"splitArea\",\"splitLine\"],vB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.axisPointerClass=\"SingleAxisPointer\",n}return(0,m.ZT)(t,e),t.prototype.render=function(t,n,r,i){var o=this.group;o.removeAll();var a=this._axisGroup;this._axisGroup=new uo;var s=hB(t),l=new aO(t,s);Q(mB,l.add,l),o.add(this._axisGroup),o.add(l.getGroup()),Q(gB,(function(e){t.get([e,\"show\"])&&yB[e](this,this.group,this._axisGroup,t)}),this),Sg(a,this._axisGroup,t),e.prototype.render.call(this,t,n,r,i)},t.prototype.remove=function(){gO(this)},t.type=\"singleAxis\",t}(fO),yB={splitLine:function(e,t,n,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel(\"splitLine\"),a=o.getModel(\"lineStyle\"),s=a.get(\"color\");s=s instanceof Array?s:[s];for(var l=a.get(\"width\"),c=r.coordinateSystem.getRect(),u=i.isHorizontal(),d=[],p=0,f=i.getTicksCoords({tickModel:o}),h=[],m=[],g=0;g<f.length;++g){var v=i.toGlobalCoord(f[g].coord);u?(h[0]=v,h[1]=c.y,m[0]=v,m[1]=c.y+c.height):(h[0]=c.x,h[1]=v,m[0]=c.x+c.width,m[1]=v);var y=new Im({shape:{x1:h[0],y1:h[1],x2:m[0],y2:m[1]},silent:!0});fg(y.shape,l);var b=p++%s.length;d[b]=d[b]||[],d[b].push(y)}var S=a.getLineStyle([\"color\"]);for(g=0;g<d.length;++g)t.add(dg(d[g],{style:U({stroke:s[g%s.length]},S),silent:!0}))}},splitArea:function(e,t,n,r){mO(e,n,r,r)}};const bB=vB;var SB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.getCoordSysModel=function(){return this},t.type=\"singleAxis\",t.layoutMode=\"box\",t.defaultOption={left:\"5%\",top:\"5%\",right:\"5%\",bottom:\"5%\",type:\"value\",position:\"bottom\",orient:\"horizontal\",axisLine:{show:!0,lineStyle:{width:1,type:\"solid\"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:\"auto\"},splitLine:{show:!0,lineStyle:{type:\"dashed\",opacity:.2}}},t}(_d);K(SB,tw.prototype);const xB=SB;var wB=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r)||this;return a.type=i||\"value\",a.position=o||\"bottom\",a}return(0,m.ZT)(t,e),t.prototype.isHorizontal=function(){var e=this.position;return\"top\"===e||\"bottom\"===e},t.prototype.pointToData=function(e,t){return this.coordinateSystem.pointToData(e)[0]},t}(Nw);const CB=wB;var TB=[\"single\"],AB=function(){function e(e,t,n){this.type=\"single\",this.dimension=\"single\",this.dimensions=TB,this.axisPointerEnabled=!0,this.model=e,this._init(e,t,n)}return e.prototype._init=function(e,t,n){var r=this.dimension,i=new CB(r,Kx(e),[0,0],e.get(\"type\"),e.get(\"position\")),o=\"category\"===i.type;i.onBand=o&&e.get(\"boundaryGap\"),i.inverse=e.get(\"inverse\"),i.orient=e.get(\"orient\"),e.axis=i,i.model=e,i.coordinateSystem=this,this._axis=i},e.prototype.update=function(e,t){e.eachSeries((function(e){if(e.coordinateSystem===this){var t=e.getData();Q(t.mapDimensionsAll(this.dimension),(function(e){this._axis.scale.unionExtentFromData(t,e)}),this),Wx(this._axis.scale,this._axis.model)}}),this)},e.prototype.resize=function(e,t){this._rect=Ad({left:e.get(\"left\"),top:e.get(\"top\"),right:e.get(\"right\"),bottom:e.get(\"bottom\"),width:e.get(\"width\"),height:e.get(\"height\")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var e=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,e.width]:[0,e.height],i=t.inverse?1:0;t.setExtent(r[i],r[1-i]),this._updateAxisTransform(t,n?e.x:e.y)},e.prototype._updateAxisTransform=function(e,t){var n=e.getExtent(),r=n[0]+n[1],i=e.isHorizontal();e.toGlobalCoord=i?function(e){return e+t}:function(e){return r-e+t},e.toLocalCoord=i?function(e){return e-t}:function(e){return r-e+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(e){var t=this.getRect(),n=this.getAxis();return\"horizontal\"===n.orient?n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height:n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},e.prototype.pointToData=function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e[\"horizontal\"===t.orient?0:1]))]},e.prototype.dataToPoint=function(e){var t=this.getAxis(),n=this.getRect(),r=[],i=\"horizontal\"===t.orient?0:1;return e instanceof Array&&(e=e[0]),r[i]=t.toGlobalCoord(t.dataToCoord(+e)),r[1-i]=0===i?n.y+n.height/2:n.x+n.width/2,r},e.prototype.convertToPixel=function(e,t,n){return EB(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){return EB(t)===this?this.pointToData(n):null},e}();function EB(e){var t=e.seriesModel,n=e.singleAxisModel;return n&&n.coordinateSystem||t&&t.coordinateSystem}const OB=AB,MB={create:function(e,t){var n=[];return e.eachComponent(\"singleAxis\",(function(r,i){var o=new OB(r,e,t);o.name=\"single_\"+i,o.resize(r,t),r.coordinateSystem=o,n.push(o)})),e.eachSeries((function(e){if(\"singleAxis\"===e.get(\"coordinateSystem\")){var t=e.getReferringComponents(\"singleAxis\",ga).models[0];e.coordinateSystem=t&&t.coordinateSystem}})),n},dimensions:TB};var PB=[\"x\",\"y\"],DB=[\"width\",\"height\"],IB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.makeElOption=function(e,t,n,r,i){var o=n.axis,a=o.coordinateSystem,s=jB(a,1-_B(o)),l=a.dataToPoint(t)[0],c=r.get(\"type\");if(c&&\"none\"!==c){var u=eZ(r),d=NB[c](o,l,s);d.style=u,e.graphicKey=d.type,e.pointer=d}iZ(t,e,hB(n),n,r,i)},t.prototype.getHandleTransform=function(e,t,n){var r=hB(t,{labelInside:!1});r.labelMargin=n.get([\"handle\",\"margin\"]);var i=rZ(t.axis,e,r);return{x:i[0],y:i[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,t,n,r){var i=n.axis,o=i.coordinateSystem,a=_B(i),s=jB(o,a),l=[e.x,e.y];l[a]+=t[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var c=jB(o,1-a),u=(c[1]+c[0])/2,d=[u,u];return d[a]=l[a],{x:l[0],y:l[1],rotation:e.rotation,cursorPoint:d,tooltipOption:{verticalAlign:\"middle\"}}},t}($R),NB={line:function(e,t,n){return{type:\"Line\",subPixelOptimize:!0,shape:oZ([t,n[0]],[t,n[1]],_B(e))}},shadow:function(e,t,n){var r=e.getBandWidth(),i=n[1]-n[0];return{type:\"Rect\",shape:aZ([t-r/2,n[0]],[r,i],_B(e))}}};function _B(e){return e.isHorizontal()?0:1}function jB(e,t){var n=e.getRect();return[n[PB[t]],n[PB[t]]+n[DB[t]]]}const kB=IB;var LB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"single\",t}(Ph);function RB(e,t){var n,r=e.cellSize;1===(n=ie(r)?r:e.cellSize=[r,r]).length&&(n[1]=n[0]);var i=X([0,1],(function(e){return function(e,t){return null!=e[wd[t][0]]||null!=e[wd[t][1]]&&null!=e[wd[t][2]]}(t,e)&&(n[e]=\"auto\"),null!=n[e]&&\"auto\"!==n[e]}));Md(e,t,{type:\"box\",ignoreSize:i})}const ZB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(t,n,r){var i=Pd(t);e.prototype.init.apply(this,arguments),RB(t,i)},t.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),RB(this.option,t)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type=\"calendar\",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:\"horizontal\",splitLine:{show:!0,lineStyle:{color:\"#000\",width:1,type:\"solid\"}},itemStyle:{color:\"#fff\",borderWidth:1,borderColor:\"#ccc\"},dayLabel:{show:!0,firstDay:0,position:\"start\",margin:\"50%\",color:\"#000\"},monthLabel:{show:!0,position:\"start\",margin:5,align:\"center\",formatter:null,color:\"#000\"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:\"#ccc\",fontFamily:\"sans-serif\",fontWeight:\"bolder\",fontSize:20}},t}(_d);var BB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n){var r=this.group;r.removeAll();var i=e.coordinateSystem,o=i.getRangeInfo(),a=i.getOrient(),s=t.getLocaleModel();this._renderDayRect(e,o,r),this._renderLines(e,o,a,r),this._renderYearText(e,o,a,r),this._renderMonthText(e,s,a,r),this._renderWeekText(e,s,o,a,r)},t.prototype._renderDayRect=function(e,t,n){for(var r=e.coordinateSystem,i=e.getModel(\"itemStyle\").getItemStyle(),o=r.getCellWidth(),a=r.getCellHeight(),s=t.start.time;s<=t.end.time;s=r.getNextNDay(s,1).time){var l=r.dataToRect([s],!1).tl,c=new wl({shape:{x:l[0],y:l[1],width:o,height:a},cursor:\"default\",style:i});n.add(c)}},t.prototype._renderLines=function(e,t,n,r){var i=this,o=e.coordinateSystem,a=e.getModel([\"splitLine\",\"lineStyle\"]).getLineStyle(),s=e.get([\"splitLine\",\"show\"]),l=a.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,u=0;c.time<=t.end.time;u++){p(c.formatedDate),0===u&&(c=o.getDateInfo(t.start.y+\"-\"+t.start.m));var d=c.date;d.setMonth(d.getMonth()+1),c=o.getDateInfo(d)}function p(t){i._firstDayOfMonth.push(o.getDateInfo(t)),i._firstDayPoints.push(o.dataToRect([t],!1).tl);var l=i._getLinePointsOfOneWeek(e,t,n);i._tlpoints.push(l[0]),i._blpoints.push(l[l.length-1]),s&&i._drawSplitline(l,a,r)}p(o.getNextNDay(t.end.time,1).formatedDate),s&&this._drawSplitline(i._getEdgesPoints(i._tlpoints,l,n),a,r),s&&this._drawSplitline(i._getEdgesPoints(i._blpoints,l,n),a,r)},t.prototype._getEdgesPoints=function(e,t,n){var r=[e[0].slice(),e[e.length-1].slice()],i=\"horizontal\"===n?0:1;return r[0][i]=r[0][i]-t/2,r[1][i]=r[1][i]+t/2,r},t.prototype._drawSplitline=function(e,t,n){var r=new Om({z2:20,shape:{points:e},style:t});n.add(r)},t.prototype._getLinePointsOfOneWeek=function(e,t,n){for(var r=e.coordinateSystem,i=r.getDateInfo(t),o=[],a=0;a<7;a++){var s=r.getNextNDay(i.time,a),l=r.dataToRect([s.time],!1);o[2*s.day]=l.tl,o[2*s.day+1]=l[\"horizontal\"===n?\"bl\":\"tr\"]}return o},t.prototype._formatterLabel=function(e,t){return ae(e)&&e?(n=e,Q(t,(function(e,t){n=n.replace(\"{\"+t+\"}\",e)})),n):oe(e)?e(t):t.nameMap;var n},t.prototype._yearTextPositionControl=function(e,t,n,r,i){var o=t[0],a=t[1],s=[\"center\",\"bottom\"];\"bottom\"===r?(a+=i,s=[\"center\",\"top\"]):\"left\"===r?o-=i:\"right\"===r?(o+=i,s=[\"center\",\"top\"]):a-=i;var l=0;return\"left\"!==r&&\"right\"!==r||(l=Math.PI/2),{rotation:l,x:o,y:a,style:{align:s[0],verticalAlign:s[1]}}},t.prototype._renderYearText=function(e,t,n,r){var i=e.getModel(\"yearLabel\");if(i.get(\"show\")){var o=i.get(\"margin\"),a=i.get(\"position\");a||(a=\"horizontal\"!==n?\"top\":\"left\");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2,u=\"horizontal\"===n?0:1,d={top:[l,s[u][1]],bottom:[l,s[1-u][1]],left:[s[1-u][0],c],right:[s[u][0],c]},p=t.start.y;+t.end.y>+t.start.y&&(p=p+\"-\"+t.end.y);var f=i.get(\"formatter\"),h={start:t.start.y,end:t.end.y,nameMap:p},m=this._formatterLabel(f,h),g=new Zl({z2:30,style:$c(i,{text:m})});g.attr(this._yearTextPositionControl(g,d[a],n,a,o)),r.add(g)}},t.prototype._monthTextPositionControl=function(e,t,n,r,i){var o=\"left\",a=\"top\",s=e[0],l=e[1];return\"horizontal\"===n?(l+=i,t&&(o=\"center\"),\"start\"===r&&(a=\"bottom\")):(s+=i,t&&(a=\"middle\"),\"start\"===r&&(o=\"right\")),{x:s,y:l,align:o,verticalAlign:a}},t.prototype._renderMonthText=function(e,t,n,r){var i=e.getModel(\"monthLabel\");if(i.get(\"show\")){var o=i.get(\"nameMap\"),a=i.get(\"margin\"),s=i.get(\"position\"),l=i.get(\"align\"),c=[this._tlpoints,this._blpoints];o&&!ae(o)||(o&&(t=ju(o)||t),o=t.get([\"time\",\"monthAbbr\"])||[]);var u=\"start\"===s?0:1,d=\"horizontal\"===n?0:1;a=\"start\"===s?-a:a;for(var p=\"center\"===l,f=0;f<c[u].length-1;f++){var h=c[u][f].slice(),m=this._firstDayOfMonth[f];if(p){var g=this._firstDayPoints[f];h[d]=(g[d]+c[0][f+1][d])/2}var v=i.get(\"formatter\"),y=o[+m.m-1],b={yyyy:m.y,yy:(m.y+\"\").slice(2),MM:m.m,M:+m.m,nameMap:y},S=this._formatterLabel(v,b),x=new Zl({z2:30,style:H($c(i,{text:S}),this._monthTextPositionControl(h,p,n,s,a))});r.add(x)}}},t.prototype._weekTextPositionControl=function(e,t,n,r,i){var o=\"center\",a=\"middle\",s=e[0],l=e[1],c=\"start\"===n;return\"horizontal\"===t?(s=s+r+(c?1:-1)*i[0]/2,o=c?\"right\":\"left\"):(l=l+r+(c?1:-1)*i[1]/2,a=c?\"bottom\":\"top\"),{x:s,y:l,align:o,verticalAlign:a}},t.prototype._renderWeekText=function(e,t,n,r,i){var o=e.getModel(\"dayLabel\");if(o.get(\"show\")){var a=e.coordinateSystem,s=o.get(\"position\"),l=o.get(\"nameMap\"),c=o.get(\"margin\"),u=a.getFirstDayOfWeek();l&&!ae(l)||(l&&(t=ju(l)||t),l=t.get([\"time\",\"dayOfWeekShort\"])||X(t.get([\"time\",\"dayOfWeekAbbr\"]),(function(e){return e[0]})));var d=a.getNextNDay(n.end.time,7-n.lweek).time,p=[a.getCellWidth(),a.getCellHeight()];c=Oo(c,Math.min(p[1],p[0])),\"start\"===s&&(d=a.getNextNDay(n.start.time,-(7+n.fweek)).time,c=-c);for(var f=0;f<7;f++){var h,m=a.getNextNDay(d,f),g=a.dataToRect([m.time],!1).center;h=Math.abs((f+u)%7);var v=new Zl({z2:30,style:H($c(o,{text:l[h]}),this._weekTextPositionControl(g,r,s,c,p))});i.add(v)}}},t.type=\"calendar\",t}(Ph);const FB=BB;var zB=864e5,VB=function(){function e(t,n,r){this.type=\"calendar\",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:\"time\",type:\"time\"},\"value\"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(e){var t=(e=Fo(e)).getFullYear(),n=e.getMonth()+1,r=n<10?\"0\"+n:\"\"+n,i=e.getDate(),o=i<10?\"0\"+i:\"\"+i,a=e.getDay();return{y:t+\"\",m:r,d:o,day:a=Math.abs((a+7-this.getFirstDayOfWeek())%7),time:e.getTime(),formatedDate:t+\"-\"+r+\"-\"+o,date:e}},e.prototype.getNextNDay=function(e,t){return 0===(t=t||0)||(e=new Date(this.getDateInfo(e).time)).setDate(e.getDate()+t),this.getDateInfo(e)},e.prototype.update=function(e,t){this._firstDayOfWeek=+this._model.getModel(\"dayLabel\").get(\"firstDay\"),this._orient=this._model.get(\"orient\"),this._lineWidth=this._model.getModel(\"itemStyle\").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=[\"width\",\"height\"],i=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),a=\"horizontal\"===this._orient?[n,7]:[7,n];Q([0,1],(function(e){c(i,e)&&(o[r[e]]=i[e]*a[e])}));var s={width:t.getWidth(),height:t.getHeight()},l=this._rect=Ad(o,s);function c(e,t){return null!=e[t]&&\"auto\"!==e[t]}Q([0,1],(function(e){c(i,e)||(i[e]=l[r[e]]/a[e])})),this._sw=i[0],this._sh=i[1]},e.prototype.dataToPoint=function(e,t){ie(e)&&(e=e[0]),null==t&&(t=!0);var n=this.getDateInfo(e),r=this._rangeInfo,i=n.formatedDate;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+zB))return[NaN,NaN];var o=n.day,a=this._getRangeInfo([r.start.time,i]).nthWeek;return\"vertical\"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(e){var t=this.pointToDate(e);return t&&t.time},e.prototype.dataToRect=function(e,t){var n=this.dataToPoint(e,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(e){var t=Math.floor((e[0]-this._rect.x)/this._sw)+1,n=Math.floor((e[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return\"vertical\"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},e.prototype.convertToPixel=function(e,t,n){var r=HB(t);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(e,t,n){var r=HB(t);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(e){return console.warn(\"Not implemented.\"),!1},e.prototype._initRangeOption=function(){var e,t=this._model.get(\"range\");if(ie(t)&&1===t.length&&(t=t[0]),ie(t))e=t;else{var n=t.toString();if(/^\\d{4}$/.test(n)&&(e=[n+\"-01-01\",n+\"-12-31\"]),/^\\d{4}[\\/|-]\\d{1,2}$/.test(n)){var r=this.getDateInfo(n),i=r.date;i.setMonth(i.getMonth()+1);var o=this.getNextNDay(i,-1);e=[r.formatedDate,o.formatedDate]}/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(n)&&(e=[n,n])}if(!e)return t;var a=this._getRangeInfo(e);return a.start.time>a.end.time&&e.reverse(),e},e.prototype._getRangeInfo=function(e){var t,n=[this.getDateInfo(e[0]),this.getDateInfo(e[1])];n[0].time>n[1].time&&(t=!0,n.reverse());var r=Math.floor(n[1].time/zB)-Math.floor(n[0].time/zB)+1,i=new Date(n[0].time),o=i.getDate(),a=n[1].date.getDate();i.setDate(o+r-1);var s=i.getDate();if(s!==a)for(var l=i.getTime()-n[1].time>0?1:-1;(s=i.getDate())!==a&&(i.getTime()-n[1].time)*l>0;)r-=l,i.setDate(s-l);var c=Math.floor((r+n[0].day+6)/7),u=t?1-c:c-1;return t&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:r,weeks:c,nthWeek:u,fweek:n[0].day,lweek:n[1].day}},e.prototype._getDateByWeeksAndDay=function(e,t,n){var r=this._getRangeInfo(n);if(e>r.weeks||0===e&&t<r.fweek||e===r.weeks&&t>r.lweek)return null;var i=7*(e-1)-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+i),this.getDateInfo(o)},e.create=function(t,n){var r=[];return t.eachComponent(\"calendar\",(function(i){var o=new e(i,t,n);r.push(o),i.coordinateSystem=o})),t.eachSeries((function(e){\"calendar\"===e.get(\"coordinateSystem\")&&(e.coordinateSystem=r[e.get(\"calendarIndex\")||0])})),r},e.dimensions=[\"time\",\"value\"],e}();function HB(e){var t=e.calendarModel,n=e.seriesModel;return t?t.coordinateSystem:n?n.coordinateSystem:null}const UB=VB;function GB(e,t){var n;return Q(t,(function(t){null!=e[t]&&\"auto\"!==e[t]&&(n=!0)})),n}var YB=[\"transition\",\"enterFrom\",\"leaveTo\"],WB=YB.concat([\"enterAnimation\",\"updateAnimation\",\"leaveAnimation\"]);function KB(e,t,n){if(n&&(!e[n]&&t[n]&&(e[n]={}),e=e[n],t=t[n]),e&&t)for(var r=n?YB:WB,i=0;i<r.length;i++){var o=r[i];null==e[o]&&null!=t[o]&&(e[o]=t[o])}}var qB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n.preventAutoZ=!0,n}return(0,m.ZT)(t,e),t.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=r},t.prototype.optionUpdated=function(e,t){var n=this.option,r=(t?n:e).elements,i=n.elements=t?[]:n.elements,o=[];this._flatten(r,o,null);var a=oa(i,o,\"normalMerge\"),s=this._elOptionsToUpdate=[];Q(a,(function(e,t){var n=e.newOption;n&&(s.push(n),function(e,t){var n=e.existing;if(t.id=e.keyInfo.id,!t.type&&n&&(t.type=n.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:n&&(t.parentId=n.parentId)}t.parentOption=null}(e,n),function(e,t,n){var r=H({},n),i=e[t],o=n.$action||\"merge\";\"merge\"===o?i?(z(i,r,!0),Md(i,r,{ignoreSize:!0}),Dd(n,i),KB(n,i),KB(n,i,\"shape\"),KB(n,i,\"style\"),KB(n,i,\"extra\"),n.clipPath=i.clipPath):e[t]=r:\"replace\"===o?e[t]=r:\"remove\"===o&&i&&(e[t]=null)}(i,t,n),function(e,t){if(e&&(e.hv=t.hv=[GB(t,[\"left\",\"right\"]),GB(t,[\"top\",\"bottom\"])],\"group\"===e.type)){var n=e,r=t;null==n.width&&(n.width=r.width=0),null==n.height&&(n.height=r.height=0)}}(i[t],n))}),this),n.elements=$(i,(function(e){return e&&delete e.$action,null!=e}))},t.prototype._flatten=function(e,t,n){Q(e,(function(e){if(e){n&&(e.parentOption=n),t.push(e);var r=e.children;r&&r.length&&this._flatten(r,t,e),delete e.children}}),this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type=\"graphic\",t.defaultOption={elements:[]},t}(_d),QB={path:null,compoundPath:null,group:uo,image:hl,text:Zl},XB=pa(),JB=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.init=function(){this._elMap=De()},t.prototype.render=function(e,t,n){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,n)},t.prototype._updateElements=function(e){var t=e.useElOptionsToUpdate();if(t){var n=this._elMap,r=this.group,i=e.get(\"z\"),o=e.get(\"zlevel\");Q(t,(function(t){var a=la(t.id,null),s=null!=a?n.get(a):null,l=la(t.parentId,null),c=null!=l?n.get(l):r,u=t.type,d=t.style;\"text\"===u&&d&&t.hv&&t.hv[1]&&(d.textVerticalAlign=d.textBaseline=d.verticalAlign=d.align=null);var p=t.textContent,f=t.textConfig;if(d&&UL(d,u,!!f,!!p)){var h=GL(d,u,!0);!f&&h.textConfig&&(f=t.textConfig=h.textConfig),!p&&h.textContent&&(p=h.textContent)}var m=function(e){return e=H({},e),Q([\"id\",\"parentId\",\"$action\",\"hv\",\"bounding\",\"textContent\",\"clipPath\"].concat(xd),(function(t){delete e[t]})),e}(t),g=t.$action||\"merge\",v=\"merge\"===g,y=\"replace\"===g;if(v){var b=s;(E=!s)?b=eF(a,c,t.type,n):(b&&(XB(b).isNew=!1),pR(b)),b&&(eR(b,m,e,{isInit:E}),nF(b,t,i,o))}else if(y){tF(s,t,n,e);var S=eF(a,c,t.type,n);S&&(eR(S,m,e,{isInit:!0}),nF(S,t,i,o))}else\"remove\"===g&&(tR(s,t),tF(s,t,n,e));var x=n.get(a);if(x&&p)if(v){var w=x.getTextContent();w?w.attr(p):x.setTextContent(new Zl(p))}else y&&x.setTextContent(new Zl(p));if(x){var C=t.clipPath;if(C){var T=C.type,A=void 0,E=!1;if(v){var O=x.getClipPath();A=(E=!O||XB(O).type!==T)?$B(T):O}else y&&(E=!0,A=$B(T));x.setClipPath(A),eR(A,C,e,{isInit:E}),fR(A,C.keyframeAnimation,e)}var M=XB(x);x.setTextConfig(f),M.option=t,function(e,t,n){var r=Bl(e).eventData;e.silent||e.ignore||r||(r=Bl(e).eventData={componentType:\"graphic\",componentIndex:t.componentIndex,name:e.name}),r&&(r.info=n.info)}(x,e,t),Og({el:x,componentModel:e,itemName:x.name,itemTooltipOption:t.tooltip}),fR(x,t.keyframeAnimation,e)}}))}},t.prototype._relocate=function(e,t){for(var n=e.option.elements,r=this.group,i=this._elMap,o=t.getWidth(),a=t.getHeight(),s=[\"x\",\"y\"],l=0;l<n.length;l++)if((h=null!=(f=la((p=n[l]).id,null))?i.get(f):null)&&h.isGroup){var c=(m=h.parent)===r,u=XB(h),d=XB(m);u.width=Oo(u.option.width,c?o:d.width)||0,u.height=Oo(u.option.height,c?a:d.height)||0}for(l=n.length-1;l>=0;l--){var p,f,h;if(h=null!=(f=la((p=n[l]).id,null))?i.get(f):null){var m=h.parent,g=(d=XB(m),{}),v=Ed(h,p,m===r?{width:o,height:a}:{width:d.width,height:d.height},null,{hv:p.hv,boundingMode:p.bounding},g);if(!XB(h).isNew&&v){for(var y=p.transition,b={},S=0;S<s.length;S++){var x=s[S],w=g[x];y&&(rR(y)||Y(y,x)>=0)?b[x]=w:h[x]=w}zc(h,b,e,0)}else h.attr(g)}}},t.prototype._clear=function(){var e=this,t=this._elMap;t.each((function(n){tF(n,XB(n).option,t,e._lastGraphicModel)})),this._elMap=De()},t.prototype.dispose=function(){this._clear()},t.type=\"graphic\",t}(Ph);function $B(e){var t=new(je(QB,e)?QB[e]:sg(e))({});return XB(t).type=e,t}function eF(e,t,n,r){var i=$B(n);return t.add(i),r.set(e,i),XB(i).id=e,XB(i).isNew=!0,i}function tF(e,t,n,r){e&&e.parent&&(\"group\"===e.type&&e.traverse((function(e){tF(e,t,n,r)})),nR(e,t,r),n.removeKey(XB(e).id))}function nF(e,t,n,r){e.isGroup||Q([[\"cursor\",os.prototype.cursor],[\"zlevel\",r||0],[\"z\",n||0],[\"z2\",0]],(function(n){var r=n[0];je(t,r)?e[r]=ye(t[r],n[1]):null==e[r]&&(e[r]=n[1])})),Q(te(t),(function(n){if(0===n.indexOf(\"on\")){var r=t[n];e[n]=oe(r)?r:null}})),je(t,\"draggable\")&&(e.draggable=t.draggable),null!=t.name&&(e.name=t.name),null!=t.id&&(e.id=t.id)}var rF=[\"x\",\"y\",\"radius\",\"angle\",\"single\"],iF=[\"cartesian2d\",\"polar\",\"singleAxis\"];function oF(e){return e+\"Axis\"}function aF(e){var t=e.ecModel,n={infoList:[],infoMap:De()};return e.eachTargetAxis((function(e,r){var i=t.getComponent(oF(e),r);if(i){var o=i.getCoordSysModel();if(o){var a=o.uid,s=n.infoMap.get(a);s||(s={model:o,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(i)}}})),n}var sF=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},e}(),lF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=[\"percent\",\"percent\"],n}return(0,m.ZT)(t,e),t.prototype.init=function(e,t,n){var r=cF(e);this.settledOption=r,this.mergeDefaultAndTheme(e,n),this._doInit(r)},t.prototype.mergeOption=function(e){var t=cF(e);z(this.option,e,!0),z(this.settledOption,t,!0),this._doInit(t)},t.prototype._doInit=function(e){var t=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var n=this.settledOption;Q([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],(function(e,r){\"value\"===this._rangePropMode[r]&&(t[e[0]]=n[e[0]]=null)}),this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get(\"orient\",!0),t=this._targetAxisInfoMap=De();this._fillSpecifiedTargetAxis(t)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||\"horizontal\",this._fillAutoTargetAxisByOrient(t,this._orient)),this._noTarget=!0,t.each((function(e){e.indexList.length&&(this._noTarget=!1)}),this)},t.prototype._fillSpecifiedTargetAxis=function(e){var t=!1;return Q(rF,(function(n){var r=this.getReferringComponents(oF(n),va);if(r.specified){t=!0;var i=new sF;Q(r.models,(function(e){i.add(e.componentIndex)})),e.set(n,i)}}),this),t},t.prototype._fillAutoTargetAxisByOrient=function(e,t){var n=this.ecModel,r=!0;if(r){var i=\"vertical\"===t?\"y\":\"x\";o(n.findComponents({mainType:i+\"Axis\"}),i)}function o(t,n){var i=t[0];if(i){var o=new sF;if(o.add(i.componentIndex),e.set(n,o),r=!1,\"x\"===n||\"y\"===n){var a=i.getReferringComponents(\"grid\",ga).models[0];a&&Q(t,(function(e){i.componentIndex!==e.componentIndex&&a===e.getReferringComponents(\"grid\",ga).models[0]&&o.add(e.componentIndex)}))}}}r&&o(n.findComponents({mainType:\"singleAxis\",filter:function(e){return e.get(\"orient\",!0)===t}}),\"single\"),r&&Q(rF,(function(t){if(r){var i=n.findComponents({mainType:oF(t),filter:function(e){return\"category\"===e.get(\"type\",!0)}});if(i[0]){var o=new sF;o.add(i[0].componentIndex),e.set(t,o),r=!1}}}),this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis((function(t){!e&&(e=t)}),this),\"y\"===e?\"vertical\":\"horizontal\"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty(\"throttle\")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var t=this._rangePropMode,n=this.get(\"rangeMode\");Q([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],(function(r,i){var o=null!=e[r[0]],a=null!=e[r[1]];o&&!a?t[i]=\"percent\":!o&&a?t[i]=\"value\":n?t[i]=n[i]:o&&(t[i]=\"percent\")}))},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis((function(t,n){null==e&&(e=this.ecModel.getComponent(oF(t),n))}),this),e},t.prototype.eachTargetAxis=function(e,t){this._targetAxisInfoMap.each((function(n,r){Q(n.indexList,(function(n){e.call(t,r,n)}))}))},t.prototype.getAxisProxy=function(e,t){var n=this.getAxisModel(e,t);if(n)return n.__dzAxisProxy},t.prototype.getAxisModel=function(e,t){var n=this._targetAxisInfoMap.get(e);if(n&&n.indexMap[t])return this.ecModel.getComponent(oF(e),t)},t.prototype.setRawRange=function(e){var t=this.option,n=this.settledOption;Q([[\"start\",\"startValue\"],[\"end\",\"endValue\"]],(function(r){null==e[r[0]]&&null==e[r[1]]||(t[r[0]]=n[r[0]]=e[r[0]],t[r[1]]=n[r[1]]=e[r[1]])}),this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var t=this.option;Q([\"start\",\"startValue\",\"end\",\"endValue\"],(function(n){t[n]=e[n]}))},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var t,n=this._targetAxisInfoMap.keys(),r=0;r<n.length;r++)for(var i=n[r],o=this._targetAxisInfoMap.get(i),a=0;a<o.indexList.length;a++){var s=this.getAxisProxy(i,o.indexList[a]);if(s.hostedBy(this))return s;t||(t=s)}return t},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type=\"dataZoom\",t.dependencies=[\"xAxis\",\"yAxis\",\"radiusAxis\",\"angleAxis\",\"singleAxis\",\"series\",\"toolbox\"],t.defaultOption={z:4,filterMode:\"filter\",start:0,end:100},t}(_d);function cF(e){var t={};return Q([\"start\",\"end\",\"startValue\",\"endValue\",\"throttle\"],(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}const uF=lF,dF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"dataZoom.select\",t}(uF),pF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){this.dataZoomModel=e,this.ecModel=t,this.api=n},t.type=\"dataZoom\",t}(Ph),fF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"dataZoom.select\",t}(pF);var hF=Q,mF=Po,gF=function(){function e(e,t,n,r){this._dimName=e,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return e.prototype.hostedBy=function(e){return this._dataZoomModel===e},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries((function(t){if(function(e){var t=e.get(\"coordinateSystem\");return Y(iF,t)>=0}(t)){var n=oF(this._dimName),r=t.getReferringComponents(n,ga).models[0];r&&this._axisIndex===r.componentIndex&&e.push(t)}}),this),e},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+\"Axis\",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return F(this._minMaxSpan)},e.prototype.calculateDataWindow=function(e){var t,n=this._dataExtent,r=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],a=[],s=[];hF([\"start\",\"end\"],(function(l,c){var u=e[l],d=e[l+\"Value\"];\"percent\"===i[c]?(null==u&&(u=o[c]),d=r.parse(Eo(u,o,n))):(t=!0,u=Eo(d=null==d?n[c]:r.parse(d),n,o)),s[c]=null==d||isNaN(d)?n[c]:d,a[c]=null==u||isNaN(u)?o[c]:u})),mF(s),mF(a);var l=this._minMaxSpan;function c(e,t,n,i,o){var a=o?\"Span\":\"ValueSpan\";t_(0,e,n,\"all\",l[\"min\"+a],l[\"max\"+a]);for(var s=0;s<2;s++)t[s]=Eo(e[s],n,i,!0),o&&(t[s]=r.parse(t[s]))}return t?c(s,a,n,o,!1):c(a,s,o,n,!0),{valueWindow:s,percentWindow:a}},e.prototype.reset=function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function(e,t,n){var r=[1/0,-1/0];hF(n,(function(e){!function(e,t,n){t&&Q(ew(t,n),(function(n){var r=t.getApproximateExtent(n);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])}))}(r,e.getData(),t)}));var i=e.getAxisModel(),o=Ux(i.axis.scale,i,r).calculate();return[o.min,o.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(e.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(e,t){if(e===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),i=e.get(\"filterMode\"),o=this._valueWindow;\"none\"!==i&&hF(r,(function(e){var t=e.getData(),r=t.mapDimensionsAll(n);if(r.length){if(\"weakFilter\"===i){var a=t.getStore(),s=X(r,(function(e){return t.getDimensionIndex(e)}),t);t.filterSelf((function(e){for(var t,n,i,l=0;l<r.length;l++){var c=a.get(s[l],e),u=!isNaN(c),d=c<o[0],p=c>o[1];if(u&&!d&&!p)return!0;u&&(i=!0),d&&(t=!0),p&&(n=!0)}return i&&t&&n}))}else hF(r,(function(n){if(\"empty\"===i)e.setData(t=t.map(n,(function(e){return function(e){return e>=o[0]&&e<=o[1]}(e)?e:NaN})));else{var r={};r[n]=o,t.selectRange(r)}}));hF(r,(function(e){t.setApproximateExtent(o,e)}))}}))}},e.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;hF([\"min\",\"max\"],(function(r){var i=t.get(r+\"Span\"),o=t.get(r+\"ValueSpan\");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=Eo(n[0]+o,n,[0,100],!0):null!=i&&(o=Eo(i,[0,100],n,!0)-n[0]),e[r+\"Span\"]=i,e[r+\"ValueSpan\"]=o}),this)},e.prototype._setAxisModel=function(){var e=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=No(n,[0,500]);r=Math.min(r,20);var i=e.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax(\"min\",+n[0].toFixed(r)),100!==t[1]&&i.setDeterminedMinMax(\"max\",+n[1].toFixed(r)),i.freeze()}},e}();const vF=gF,yF={getTargetSeries:function(e){function t(t){e.eachComponent(\"dataZoom\",(function(n){n.eachTargetAxis((function(r,i){var o=e.getComponent(oF(r),i);t(r,i,o,n)}))}))}t((function(e,t,n,r){n.__dzAxisProxy=null}));var n=[];t((function(t,r,i,o){i.__dzAxisProxy||(i.__dzAxisProxy=new vF(t,r,o,e),n.push(i.__dzAxisProxy))}));var r=De();return Q(n,(function(e){Q(e.getTargetSeriesModels(),(function(e){r.set(e.uid,e)}))})),r},overallReset:function(e,t){e.eachComponent(\"dataZoom\",(function(e){e.eachTargetAxis((function(t,n){e.getAxisProxy(t,n).reset(e)})),e.eachTargetAxis((function(n,r){e.getAxisProxy(n,r).filterData(e,t)}))})),e.eachComponent(\"dataZoom\",(function(e){var t=e.findRepresentativeAxisProxy();if(t){var n=t.getDataPercentWindow(),r=t.getDataValueWindow();e.setCalculatedRange({start:n[0],end:n[1],startValue:r[0],endValue:r[1]})}}))}};var bF=!1;function SF(e){bF||(bF=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,yF),function(e){e.registerAction(\"dataZoom\",(function(e,t){Q(function(e,t){var n,r=De(),i=[],o=De();e.eachComponent({mainType:\"dataZoom\",query:t},(function(e){o.get(e.uid)||s(e)}));do{n=!1,e.eachComponent(\"dataZoom\",a)}while(n);function a(e){!o.get(e.uid)&&function(e){var t=!1;return e.eachTargetAxis((function(e,n){var i=r.get(e);i&&i[n]&&(t=!0)})),t}(e)&&(s(e),n=!0)}function s(e){o.set(e.uid,!0),i.push(e),e.eachTargetAxis((function(e,t){(r.get(e)||r.set(e,[]))[t]=!0}))}return i}(t,e),(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))}))}(e),e.registerSubTypeDefaulter(\"dataZoom\",(function(){return\"slider\"})))}function xF(e){e.registerComponentModel(dF),e.registerComponentView(fF),SF(e)}var wF=function(){},CF={};function TF(e,t){CF[e]=t}function AF(e){return CF[e]}const EF=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;Q(this.option.feature,(function(e,n){var r=AF(n);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(t)),z(e,r.defaultOption))}))},t.type=\"toolbox\",t.layoutMode={type:\"box\",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:\"horizontal\",left:\"right\",top:\"top\",backgroundColor:\"transparent\",borderColor:\"#ccc\",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:\"#666\",color:\"none\"},emphasis:{iconStyle:{borderColor:\"#3E98C5\"}},tooltip:{show:!1,position:\"bottom\"}},t}(_d);function OF(e,t){var n=ud(t.get(\"padding\")),r=t.getItemStyle([\"color\",\"opacity\"]);return r.fill=t.get(\"backgroundColor\"),new wl({shape:{x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],r:t.get(\"borderRadius\")},style:r,silent:!0,z2:-1})}var MF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){var i=this.group;if(i.removeAll(),e.get(\"show\")){var o=+e.get(\"itemSize\"),a=\"vertical\"===e.get(\"orient\"),s=e.get(\"feature\")||{},l=this._features||(this._features={}),c=[];Q(s,(function(e,t){c.push(t)})),new lS(this._featureNames||[],c).add(u).update(u).remove(re(u,null)).execute(),this._featureNames=c,function(e,t,n){var r=t.getBoxLayoutParams(),i=t.get(\"padding\"),o={width:n.getWidth(),height:n.getHeight()},a=Ad(r,o,i);Td(t.get(\"orient\"),e,t.get(\"itemGap\"),a.width,a.height),Ed(e,r,o,i)}(i,e,n),i.add(OF(i.getBoundingRect(),e)),a||i.eachChild((function(e){var t=e.__title,r=e.ensureState(\"emphasis\"),a=r.textConfig||(r.textConfig={}),s=e.getTextContent(),l=s&&s.ensureState(\"emphasis\");if(l&&!oe(l)&&t){var c=l.style||(l.style={}),u=Yi(t,Zl.makeFont(c)),d=e.x+i.x,p=!1;e.y+i.y+o+u.height>n.getHeight()&&(a.position=\"top\",p=!0);var f=p?-5-u.height:o+10;d+u.width/2>n.getWidth()?(a.position=[\"100%\",f],c.align=\"right\"):d-u.width/2<0&&(a.position=[0,f],c.align=\"left\")}}))}function u(u,d){var p,f=c[u],h=c[d],m=s[f],g=new Cu(m,e,e.ecModel);if(r&&null!=r.newTitle&&r.featureName===f&&(m.title=r.newTitle),f&&!h){if(function(e){return 0===e.indexOf(\"my\")}(f))p={onclick:g.option.onclick,featureName:f};else{var v=AF(f);if(!v)return;p=new v}l[f]=p}else if(!(p=l[h]))return;p.uid=Au(\"toolbox-feature\"),p.model=g,p.ecModel=t,p.api=n;var y=p instanceof wF;f||!h?!g.get(\"show\")||y&&p.unusable?y&&p.remove&&p.remove(t,n):(function(r,s,l){var c,u,d=r.getModel(\"iconStyle\"),p=r.getModel([\"emphasis\",\"iconStyle\"]),f=s instanceof wF&&s.getIcons?s.getIcons():r.get(\"icon\"),h=r.get(\"title\")||{};ae(f)?(c={})[l]=f:c=f,ae(h)?(u={})[l]=h:u=h;var m=r.iconPaths={};Q(c,(function(l,c){var f=Cg(l,{},{x:-o/2,y:-o/2,width:o,height:o});f.setStyle(d.getItemStyle()),f.ensureState(\"emphasis\").style=p.getItemStyle();var h=new Zl({style:{text:u[c],align:p.get(\"textAlign\"),borderRadius:p.get(\"textBorderRadius\"),padding:p.get(\"textPadding\"),fill:null,font:ou({fontStyle:p.get(\"textFontStyle\"),fontFamily:p.get(\"textFontFamily\"),fontSize:p.get(\"textFontSize\"),fontWeight:p.get(\"textFontWeight\")},t)},ignore:!0});f.setTextContent(h),Og({el:f,componentModel:e,itemName:c,formatterParamsExtra:{title:u[c]}}),f.__title=u[c],f.on(\"mouseover\",(function(){var t=p.getItemStyle(),r=a?null==e.get(\"right\")&&\"right\"!==e.get(\"left\")?\"right\":\"left\":null==e.get(\"bottom\")&&\"bottom\"!==e.get(\"top\")?\"bottom\":\"top\";h.setStyle({fill:p.get(\"textFill\")||t.fill||t.stroke||\"#000\",backgroundColor:p.get(\"textBackgroundColor\")}),f.setTextConfig({position:p.get(\"textPosition\")||r}),h.ignore=!e.get(\"showTitle\"),n.enterEmphasis(this)})).on(\"mouseout\",(function(){\"emphasis\"!==r.get([\"iconStatus\",c])&&n.leaveEmphasis(this),h.hide()})),(\"emphasis\"===r.get([\"iconStatus\",c])?mc:gc)(f),i.add(f),f.on(\"click\",ne(s.onclick,s,t,n,c)),m[c]=f}))}(g,p,f),g.setIconStatus=function(e,t){var n=this.option,r=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[e]=t,r[e]&&(\"emphasis\"===t?mc:gc)(r[e])},p instanceof wF&&p.render&&p.render(g,t,n,r)):y&&p.dispose&&p.dispose(t,n)}},t.prototype.updateView=function(e,t,n,r){Q(this._features,(function(e){e instanceof wF&&e.updateView&&e.updateView(e.model,t,n,r)}))},t.prototype.remove=function(e,t){Q(this._features,(function(n){n instanceof wF&&n.remove&&n.remove(e,t)})),this.group.removeAll()},t.prototype.dispose=function(e,t){Q(this._features,(function(n){n instanceof wF&&n.dispose&&n.dispose(e,t)}))},t.type=\"toolbox\",t}(Ph);const PF=MF,DF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.onclick=function(e,t){var n=this.model,r=n.get(\"name\")||e.get(\"title.0.text\")||\"echarts\",i=\"svg\"===t.getZr().painter.getType(),o=i?\"svg\":n.get(\"type\",!0)||\"png\",a=t.getConnectedDataURL({type:o,backgroundColor:n.get(\"backgroundColor\",!0)||e.get(\"backgroundColor\")||\"#fff\",connectedBackgroundColor:n.get(\"connectedBackgroundColor\"),excludeComponents:n.get(\"excludeComponents\"),pixelRatio:n.get(\"pixelRatio\")}),s=y.browser;if(\"function\"!=typeof MouseEvent||!s.newEdge&&(s.ie||s.edge))if(window.navigator.msSaveOrOpenBlob||i){var l=a.split(\",\"),c=l[0].indexOf(\"base64\")>-1,u=i?decodeURIComponent(l[1]):l[1];c&&(u=window.atob(u));var d=r+\".\"+o;if(window.navigator.msSaveOrOpenBlob){for(var p=u.length,f=new Uint8Array(p);p--;)f[p]=u.charCodeAt(p);var h=new Blob([f]);window.navigator.msSaveOrOpenBlob(h,d)}else{var m=document.createElement(\"iframe\");document.body.appendChild(m);var g=m.contentWindow,v=g.document;v.open(\"image/svg+xml\",\"replace\"),v.write(u),v.close(),g.focus(),v.execCommand(\"SaveAs\",!0,d),document.body.removeChild(m)}}else{var b=n.get(\"lang\"),S='<body style=\"margin:0;\"><img src=\"'+a+'\" style=\"max-width:100%;\" title=\"'+(b&&b[0]||\"\")+'\" /></body>',x=window.open();x.document.write(S),x.document.title=r}else{var w=document.createElement(\"a\");w.download=r+\".\"+o,w.target=\"_blank\",w.href=a;var C=new MouseEvent(\"click\",{view:document.defaultView,bubbles:!0,cancelable:!1});w.dispatchEvent(C)}},t.getDefaultOption=function(e){return{show:!0,icon:\"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0\",title:e.getLocaleModel().get([\"toolbox\",\"saveAsImage\",\"title\"]),type:\"png\",connectedBackgroundColor:\"#fff\",name:\"\",excludeComponents:[\"toolbox\"],lang:e.getLocaleModel().get([\"toolbox\",\"saveAsImage\",\"lang\"])}},t}(wF);var IF=\"__ec_magicType_stack__\",NF=[[\"line\",\"bar\"],[\"stack\"]],_F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.getIcons=function(){var e=this.model,t=e.get(\"icon\"),n={};return Q(e.get(\"type\"),(function(e){t[e]&&(n[e]=t[e])})),n},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:\"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4\",bar:\"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7\",stack:\"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z\"},title:e.getLocaleModel().get([\"toolbox\",\"magicType\",\"title\"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,t,n){var r=this.model,i=r.get([\"seriesIndex\",n]);if(jF[n]){var o,a={series:[]};Q(NF,(function(e){Y(e,n)>=0&&Q(e,(function(e){r.setIconStatus(e,\"normal\")}))})),r.setIconStatus(n,\"emphasis\"),e.eachComponent({mainType:\"series\",query:null==i?null:{seriesIndex:i}},(function(e){var t=e.subType,i=e.id,o=jF[n](t,i,e,r);o&&(U(o,e.option),a.series.push(o));var s=e.coordinateSystem;if(s&&\"cartesian2d\"===s.type&&(\"line\"===n||\"bar\"===n)){var l=s.getAxesByScale(\"ordinal\")[0];if(l){var c=l.dim+\"Axis\",u=e.getReferringComponents(c,ga).models[0].componentIndex;a[c]=a[c]||[];for(var d=0;d<=u;d++)a[c][u]=a[c][u]||{};a[c][u].boundaryGap=\"bar\"===n}}}));var s=n;\"stack\"===n&&(o=z({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),\"emphasis\"!==r.get([\"iconStatus\",n])&&(s=\"tiled\")),t.dispatchAction({type:\"changeMagicType\",currentType:s,newOption:a,newTitle:o,featureName:\"magicType\"})}},t}(wF),jF={line:function(e,t,n,r){if(\"bar\"===e)return z({id:t,type:\"line\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},r.get([\"option\",\"line\"])||{},!0)},bar:function(e,t,n,r){if(\"line\"===e)return z({id:t,type:\"bar\",data:n.get(\"data\"),stack:n.get(\"stack\"),markPoint:n.get(\"markPoint\"),markLine:n.get(\"markLine\")},r.get([\"option\",\"bar\"])||{},!0)},stack:function(e,t,n,r){var i=n.get(\"stack\")===IF;if(\"line\"===e||\"bar\"===e)return r.setIconStatus(\"stack\",i?\"normal\":\"emphasis\"),z({id:t,stack:i?\"\":IF},r.get([\"option\",\"stack\"])||{},!0)}};Hb({type:\"changeMagicType\",event:\"magicTypeChanged\",update:\"prepareAndUpdate\"},(function(e,t){t.mergeOption(e.newOption)}));const kF=_F;var LF=new Array(60).join(\"-\"),RF=\"\\t\";function ZF(e){return e.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\")}var BF=new RegExp(\"[\\t]+\",\"g\");var FF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.onclick=function(e,t){setTimeout((function(){t.dispatchAction({type:\"hideTip\"})}));var n=t.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement(\"div\");i.style.cssText=\"position:absolute;top:0;bottom:0;left:0;right:0;padding:5px\",i.style.backgroundColor=r.get(\"backgroundColor\")||\"#fff\";var o=document.createElement(\"h4\"),a=r.get(\"lang\")||[];o.innerHTML=a[0]||r.get(\"title\"),o.style.cssText=\"margin:10px 20px\",o.style.color=r.get(\"textColor\");var s=document.createElement(\"div\"),l=document.createElement(\"textarea\");s.style.cssText=\"overflow:auto\";var c=r.get(\"optionToContent\"),u=r.get(\"contentToOption\"),d=function(e){var t,n,r,i=function(e){var t={},n=[],r=[];return e.eachRawSeries((function(e){var i=e.coordinateSystem;if(!i||\"cartesian2d\"!==i.type&&\"polar\"!==i.type)n.push(e);else{var o=i.getBaseAxis();if(\"category\"===o.type){var a=o.dim+\"_\"+o.index;t[a]||(t[a]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),t[a].series.push(e)}else n.push(e)}})),{seriesGroupByCategoryAxis:t,other:n,meta:r}}(e);return{value:$([(n=i.seriesGroupByCategoryAxis,r=[],Q(n,(function(e,t){var n=e.categoryAxis,i=e.valueAxis.dim,o=[\" \"].concat(X(e.series,(function(e){return e.name}))),a=[n.model.getCategories()];Q(e.series,(function(e){var t=e.getRawData();a.push(e.getRawData().mapArray(t.mapDimension(i),(function(e){return e})))}));for(var s=[o.join(RF)],l=0;l<a[0].length;l++){for(var c=[],u=0;u<a.length;u++)c.push(a[u][l]);s.push(c.join(RF))}r.push(s.join(\"\\n\"))})),r.join(\"\\n\\n\"+LF+\"\\n\\n\")),(t=i.other,X(t,(function(e){var t=e.getRawData(),n=[e.name],r=[];return t.each(t.dimensions,(function(){for(var e=arguments.length,i=arguments[e-1],o=t.getName(i),a=0;a<e-1;a++)r[a]=arguments[a];n.push((o?o+RF:\"\")+r.join(RF))})),n.join(\"\\n\")})).join(\"\\n\\n\"+LF+\"\\n\\n\"))],(function(e){return!!e.replace(/[\\n\\t\\s]/g,\"\")})).join(\"\\n\\n\"+LF+\"\\n\\n\"),meta:i.meta}}(e);if(oe(c)){var p=c(t.getOption());ae(p)?s.innerHTML=p:pe(p)&&s.appendChild(p)}else{l.readOnly=r.get(\"readOnly\");var f=l.style;f.cssText=\"display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none\",f.color=r.get(\"textColor\"),f.borderColor=r.get(\"textareaBorderColor\"),f.backgroundColor=r.get(\"textareaColor\"),l.value=d.value,s.appendChild(l)}var h=d.meta,m=document.createElement(\"div\");m.style.cssText=\"position:absolute;bottom:5px;left:0;right:0\";var g=\"float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px\",v=document.createElement(\"div\"),y=document.createElement(\"div\");g+=\";background-color:\"+r.get(\"buttonColor\"),g+=\";color:\"+r.get(\"buttonTextColor\");var b=this;function S(){n.removeChild(i),b._dom=null}Dt(v,\"click\",S),Dt(y,\"click\",(function(){if(null==u&&null!=c||null!=u&&null==c)S();else{var e;try{e=oe(u)?u(s,t.getOption()):function(e,t){var n=e.split(new RegExp(\"\\n*\"+LF+\"\\n*\",\"g\")),r={series:[]};return Q(n,(function(e,n){if(function(e){if(e.slice(0,e.indexOf(\"\\n\")).indexOf(RF)>=0)return!0}(e)){var i=function(e){for(var t=e.split(/\\n+/g),n=[],r=X(ZF(t.shift()).split(BF),(function(e){return{name:e,data:[]}})),i=0;i<t.length;i++){var o=ZF(t[i]).split(BF);n.push(o.shift());for(var a=0;a<o.length;a++)r[a]&&(r[a].data[i]=o[a])}return{series:r,categories:n}}(e),o=t[n],a=o.axisDim+\"Axis\";o&&(r[a]=r[a]||[],r[a][o.axisIndex]={data:i.categories},r.series=r.series.concat(i.series))}else i=function(e){for(var t=e.split(/\\n+/g),n=ZF(t.shift()),r=[],i=0;i<t.length;i++){var o=ZF(t[i]);if(o){var a=o.split(BF),s=\"\",l=void 0,c=!1;isNaN(a[0])?(c=!0,s=a[0],a=a.slice(1),r[i]={name:s,value:[]},l=r[i].value):l=r[i]=[];for(var u=0;u<a.length;u++)l.push(+a[u]);1===l.length&&(c?r[i].value=l[0]:r[i]=l[0])}}return{name:n,data:r}}(e),r.series.push(i)})),r}(l.value,h)}catch(e){throw S(),new Error(\"Data view format error \"+e)}e&&t.dispatchAction({type:\"changeDataView\",newOption:e}),S()}})),v.innerHTML=a[1],y.innerHTML=a[2],y.style.cssText=v.style.cssText=g,!r.get(\"readOnly\")&&m.appendChild(y),m.appendChild(v),i.appendChild(o),i.appendChild(s),i.appendChild(m),s.style.height=n.clientHeight-80+\"px\",n.appendChild(i),this._dom=i},t.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,t){this.remove(e,t)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:\"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28\",title:e.getLocaleModel().get([\"toolbox\",\"dataView\",\"title\"]),lang:e.getLocaleModel().get([\"toolbox\",\"dataView\",\"lang\"]),backgroundColor:\"#fff\",textColor:\"#000\",textareaColor:\"#fff\",textareaBorderColor:\"#333\",buttonColor:\"#c23531\",buttonTextColor:\"#fff\"}},t}(wF);function zF(e,t){return X(e,(function(e,n){var r=t&&t[n];if(ce(r)&&!ie(r)){ce(e)&&!ie(e)||(e={value:e});var i=null!=r.name&&null==e.name;return e=U(e,r),i&&delete e.name,e}return e}))}Hb({type:\"changeDataView\",event:\"dataViewChanged\",update:\"prepareAndUpdate\"},(function(e,t){var n=[];Q(e.newOption.series,(function(e){var r=t.getSeriesByName(e.name)[0];if(r){var i=r.get(\"data\");n.push({name:e.name,data:zF(e.data,i)})}else n.push(H({type:\"scatter\"},e))})),t.mergeOption(U({series:n},e.newOption))}));const VF=FF;var HF=Q,UF=pa();function GF(e){var t=UF(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var YF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.onclick=function(e,t){!function(e){UF(e).snapshots=null}(e),t.dispatchAction({type:\"restore\",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:\"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5\",title:e.getLocaleModel().get([\"toolbox\",\"restore\",\"title\"])}},t}(wF);Hb({type:\"restore\",event:\"restore\",update:\"prepareAndUpdate\"},(function(e,t){t.resetOption(\"recreate\")}));const WF=YF;var KF=[\"grid\",\"xAxis\",\"yAxis\",\"geo\",\"graph\",\"polar\",\"radiusAxis\",\"angleAxis\",\"bmap\"],qF=function(){function e(e,t,n){var r=this;this._targetInfoList=[];var i=XF(t,e);Q(JF,(function(e,t){(!n||!n.include||Y(n.include,t)>=0)&&e(i,r._targetInfoList)}))}return e.prototype.setOutputRanges=function(e,t){return this.matchOutputRanges(e,t,(function(e,t,n){if((e.coordRanges||(e.coordRanges=[])).push(t),!e.coordRange){e.coordRange=t;var r=tz[e.brushType](0,n,t);e.__rangeOffset={offset:rz[e.brushType](r.values,e.range,[1,1]),xyMinMax:r.xyMinMax}}})),e},e.prototype.matchOutputRanges=function(e,t,n){Q(e,(function(e){var r=this.findTargetInfo(e,t);r&&!0!==r&&Q(r.coordSyses,(function(r){var i=tz[e.brushType](1,r,e.range,!0);n(e,i.values,r,t)}))}),this)},e.prototype.setInputRanges=function(e,t){Q(e,(function(e){var n,r,i,o,a,s=this.findTargetInfo(e,t);if(e.range=e.range||[],s&&!0!==s){e.panelId=s.panelId;var l=tz[e.brushType](0,s.coordSys,e.coordRange),c=e.__rangeOffset;e.range=c?rz[e.brushType](l.values,c.offset,(n=l.xyMinMax,r=c.xyMinMax,i=oz(n),o=oz(r),a=[i[0]/o[0],i[1]/o[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):l.values}}),this)},e.prototype.makePanelOpts=function(e,t){return X(this._targetInfoList,(function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:aj(r),isTargetByCursor:lj(r,e,n.coordSysModel),getLinearBrushOtherExtent:sj(r)}}))},e.prototype.controlSeries=function(e,t,n){var r=this.findTargetInfo(e,n);return!0===r||r&&Y(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(e,t){for(var n=this._targetInfoList,r=XF(t,e),i=0;i<n.length;i++){var o=n[i],a=e.panelId;if(a){if(o.panelId===a)return o}else for(var s=0;s<$F.length;s++)if($F[s](r,o))return o}return!0},e}();function QF(e){return e[0]>e[1]&&e.reverse(),e}function XF(e,t){return ha(e,t,{includeMainTypes:KF})}var JF={grid:function(e,t){var n=e.xAxisModels,r=e.yAxisModels,i=e.gridModels,o=De(),a={},s={};(n||r||i)&&(Q(n,(function(e){var t=e.axis.grid.model;o.set(t.id,t),a[t.id]=!0})),Q(r,(function(e){var t=e.axis.grid.model;o.set(t.id,t),s[t.id]=!0})),Q(i,(function(e){o.set(e.id,e),a[e.id]=!0,s[e.id]=!0})),o.each((function(e){var i=e.coordinateSystem,o=[];Q(i.getCartesians(),(function(e,t){(Y(n,e.getAxis(\"x\").model)>=0||Y(r,e.getAxis(\"y\").model)>=0)&&o.push(e)})),t.push({panelId:\"grid--\"+e.id,gridModel:e,coordSysModel:e,coordSys:o[0],coordSyses:o,getPanelRect:ez.grid,xAxisDeclared:a[e.id],yAxisDeclared:s[e.id]})})))},geo:function(e,t){Q(e.geoModels,(function(e){var n=e.coordinateSystem;t.push({panelId:\"geo--\"+e.id,geoModel:e,coordSysModel:e,coordSys:n,coordSyses:[n],getPanelRect:ez.geo})}))}},$F=[function(e,t){var n=e.xAxisModel,r=e.yAxisModel,i=e.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(e,t){var n=e.geoModel;return n&&n===t.geoModel}],ez={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(gg(e)),t}},tz={lineX:re(nz,0),lineY:re(nz,1),rect:function(e,t,n,r){var i=e?t.pointToData([n[0][0],n[1][0]],r):t.dataToPoint([n[0][0],n[1][0]],r),o=e?t.pointToData([n[0][1],n[1][1]],r):t.dataToPoint([n[0][1],n[1][1]],r),a=[QF([i[0],o[0]]),QF([i[1],o[1]])];return{values:a,xyMinMax:a}},polygon:function(e,t,n,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:X(n,(function(n){var o=e?t.pointToData(n,r):t.dataToPoint(n,r);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o})),xyMinMax:i}}};function nz(e,t,n,r){var i=n.getAxis([\"x\",\"y\"][e]),o=QF(X([0,1],(function(e){return t?i.coordToData(i.toLocalCoord(r[e]),!0):i.toGlobalCoord(i.dataToCoord(r[e]))}))),a=[];return a[e]=o,a[1-e]=[NaN,NaN],{values:o,xyMinMax:a}}var rz={lineX:re(iz,0),lineY:re(iz,1),rect:function(e,t,n){return[[e[0][0]-n[0]*t[0][0],e[0][1]-n[0]*t[0][1]],[e[1][0]-n[1]*t[1][0],e[1][1]-n[1]*t[1][1]]]},polygon:function(e,t,n){return X(e,(function(e,r){return[e[0]-n[0]*t[r][0],e[1]-n[1]*t[r][1]]}))}};function iz(e,t,n,r){return[t[0]-r[e]*n[0],t[1]-r[e]*n[1]]}function oz(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}const az=qF;var sz,lz,cz=Q,uz=$o+\"toolbox-dataZoom_\",dz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,m.ZT)(t,e),t.prototype.render=function(e,t,n,r){this._brushController||(this._brushController=new oj(n.getZr()),this._brushController.on(\"brush\",ne(this._onBrush,this)).mount()),function(e,t,n,r,i){var o=n._isZoomActive;r&&\"takeGlobalCursor\"===r.type&&(o=\"dataZoomSelect\"===r.key&&r.dataZoomSelectActive),n._isZoomActive=o,e.setIconStatus(\"zoom\",o?\"emphasis\":\"normal\");var a=new az(fz(e),t,{include:[\"grid\"]}).makePanelOpts(i,(function(e){return e.xAxisDeclared&&!e.yAxisDeclared?\"lineX\":!e.xAxisDeclared&&e.yAxisDeclared?\"lineY\":\"rect\"}));n._brushController.setPanels(a).enableBrush(!(!o||!a.length)&&{brushType:\"auto\",brushStyle:e.getModel(\"brushStyle\").getItemStyle()})}(e,t,this,r,n),function(e,t){e.setIconStatus(\"back\",function(e){return GF(e).length}(t)>1?\"emphasis\":\"normal\")}(e,t)},t.prototype.onclick=function(e,t,n){pz[n].call(this)},t.prototype.remove=function(e,t){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,t){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var t=e.areas;if(e.isEnd&&t.length){var n={},r=this.ecModel;this._brushController.updateCovers([]),new az(fz(this.model),r,{include:[\"grid\"]}).matchOutputRanges(t,r,(function(e,t,n){if(\"cartesian2d\"===n.type){var r=e.brushType;\"rect\"===r?(i(\"x\",n,t[0]),i(\"y\",n,t[1])):i({lineX:\"x\",lineY:\"y\"}[r],n,t)}})),function(e,t){var n=GF(e);HF(t,(function(t,r){for(var i=n.length-1;i>=0&&!n[i][r];i--);if(i<0){var o=e.queryComponents({mainType:\"dataZoom\",subType:\"select\",id:r})[0];if(o){var a=o.getPercentRange();n[0][r]={dataZoomId:r,start:a[0],end:a[1]}}}})),n.push(t)}(r,n),this._dispatchZoomAction(n)}function i(e,t,i){var o=t.getAxis(e),a=o.model,s=function(e,t,n){var r;return n.eachComponent({mainType:\"dataZoom\",subType:\"select\"},(function(n){n.getAxisModel(e,t.componentIndex)&&(r=n)})),r}(e,a,r),l=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==l.minValueSpan&&null==l.maxValueSpan||(i=t_(0,i.slice(),o.scale.getExtent(),0,l.minValueSpan,l.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},t.prototype._dispatchZoomAction=function(e){var t=[];cz(e,(function(e,n){t.push(F(e))})),t.length&&this.api.dispatchAction({type:\"dataZoom\",from:this.uid,batch:t})},t.getDefaultOption=function(e){return{show:!0,filterMode:\"filter\",icon:{zoom:\"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1\",back:\"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26\"},title:e.getLocaleModel().get([\"toolbox\",\"dataZoom\",\"title\"]),brushStyle:{borderWidth:0,color:\"rgba(210,219,238,0.2)\"}}},t}(wF),pz={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:\"takeGlobalCursor\",key:\"dataZoomSelect\",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(function(e){var t=GF(e),n=t[t.length-1];t.length>1&&t.pop();var r={};return HF(n,(function(e,n){for(var i=t.length-1;i>=0;i--)if(e=t[i][n]){r[n]=e;break}})),r}(this.ecModel))}};function fz(e){var t={xAxisIndex:e.get(\"xAxisIndex\",!0),yAxisIndex:e.get(\"yAxisIndex\",!0),xAxisId:e.get(\"xAxisId\",!0),yAxisId:e.get(\"yAxisId\",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex=\"all\"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex=\"all\"),t}sz=\"dataZoom\",lz=function(e){var t=e.getComponent(\"toolbox\",0),n=[\"feature\",\"dataZoom\"];if(t&&null!=t.get(n)){var r=t.getModel(n),i=[],o=ha(e,fz(r));return cz(o.xAxisModels,(function(e){return a(e,\"xAxis\",\"xAxisIndex\")})),cz(o.yAxisModels,(function(e){return a(e,\"yAxis\",\"yAxisIndex\")})),i}function a(e,t,n){var o=e.componentIndex,a={type:\"select\",$fromToolbox:!0,filterMode:r.get(\"filterMode\",!0)||\"filter\",id:uz+t+o};a[n]=o,i.push(a)}},we(null==np.get(sz)&&lz),np.set(sz,lz);const hz=dz,mz=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.type=t.type,n}return(0,m.ZT)(t,e),t.type=\"tooltip\",t.dependencies=[\"axisPointer\"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:\"item\",triggerOn:\"mousemove|click\",alwaysShowContent:!1,displayMode:\"single\",renderMode:\"auto\",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:\"#fff\",shadowBlur:10,shadowColor:\"rgba(0, 0, 0, .2)\",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:\"\",axisPointer:{type:\"line\",axis:\"auto\",animation:\"auto\",animationDurationUpdate:200,animationEasingUpdate:\"exponentialOut\",crossStyle:{color:\"#999\",width:1,type:\"dashed\",textStyle:{}}},textStyle:{color:\"#666\",fontSize:14}},t}(_d);function gz(e){var t=e.get(\"confine\");return null!=t?!!t:\"richText\"===e.get(\"renderMode\")}function vz(e){if(y.domSupported)for(var t=document.documentElement.style,n=0,r=e.length;n<r;n++)if(e[n]in t)return e[n]}var yz=vz([\"transform\",\"webkitTransform\",\"OTransform\",\"MozT